<?xml version="1.0"?>
<recovery>
	<styles>
		<style name="text_l">
			<font resource="font_l" color="%text_color%"/>
		</style>

		<style name="text_m">
			<font resource="font_m" color="%text_color%"/>
		</style>
		
		<style name="text_m2">
			<font resource="font_m2" color="%text_color%"/>
		</style>
		
		<style name="text_m3">
			<font resource="font_m3" color="%text_color%"/>
		</style>

		<style name="text_m_accent">
			<font resource="font_m" color="%text_fail_color%"/>
		</style>
		
		<style name="text_m2_accent">
			<font resource="font_m2" color="%text_fail_color%"/>
		</style>

		<style name="text_m_fail">
			<font resource="font_m" color="%text_fail_color%"/>
		</style>

		<style name="text_s">
			<font resource="font_s" color="%text_color%"/>
		</style>
		
		<style name="time">
			<font resource="time" color="#0061BC"/>
		</style>
		
		<style name="changelog">
			<background color="%transparent%"/>
			<fastscroll rectcolor="%accent%" w="18" rectw="14" recth="120" />
			<font resource="font_m" spacing="8" color="%text_color%" />
		</style>
		
		<style name="splash_info">
			<background color="%transparent%"/>
			<fastscroll rectcolor="%accent%" w="18" rectw="14" recth="120" />
			<font resource="font_m" spacing="8" color="%text_color%" />
		</style>
		
		<style name="input">
			<background color="%background_color%"/>
			<cursor color="%accent_color%" hasfocus="1" width="%input_line_width%"/>
			<font resource="font_m" color="%text_color%"/>
		</style>

		<style name="checkbox">
			<font resource="font_m" color="%text_color%"/>
			<image checked="checkbox_true" unchecked="checkbox_false"/>
		</style>

		<style name="main_button">
			<highlight color="%highlight_color%"/>
			<font resource="font_l" color="%text_button_color%"/>
			<image resource="main_button"/>
		</style>
		
		<style name="main_button_stock">
			<highlight color="%highlight_color%"/>
			<font resource="font_stock" color="%text_button_color%"/>
			<image resource="main_button"/>
		</style>
		
		<style name="mat_button">
			<highlight color="%highlight_color%"/>
			<font resource="font_l" color="%text_button_color%"/>
			<image resource="mat_button"/>
		</style>
		
		<style name="main_button_fmo">
			<highlight color="%highlight_color%"/>
			<font resource="font_l" color="%text_button_color%"/>
			<image resource="main_button_fmo"/>
		</style>
		
		<style name="main_button_h">
			<highlight color="%highlight_color%"/>
			<font resource="font_l" color="%text_button_color%"/>
			<image resource="main_button_h"/>
		</style>
		
		<style name="main_button_reboot">
			<highlight color="%highlight_color%"/>
			<font resource="font_m2" color="%text_button_color%"/>
			<image resource="main_button_reboot"/>
		</style>
		
		<style name="main_button_reboot_empty">
			<highlight color="%highlight_color%"/>
			<font resource="font_m2" color="%text_button_color%"/>
			<image resource="main_button_reboot_empty"/>
		</style>
		
		<style name="dialog_button">
			<highlight color="%highlight_color%"/>
			<font resource="font_m2" color="%text_button_color%"/>
			<image resource="dialog_button"/>
		</style>
		
		<style name="main_button_n">
			<highlight color="%highlight_color%"/>
			<font resource="font_m2" color="%main_buttons_color%"/>
			<image resource="main_button_reboot"/>
		</style>
		
		<style name="main_button_red">
			<highlight color="%highlight_color%"/>
			<font resource="font_m2" color="%text_fail_color%"/>
			<image resource="main_button_reboot"/>
		</style>
		
		<style name="main_button_header">
			<highlight color="%highlight_color%"/>
			<font resource="font_m2" color="%themeheader_color%"/>
			<image resource="main_button_reboot"/>
		</style>
		
		<style name="navi_button">
			<highlight color="%highlight_color%"/>
			<font resource="font_m2" color="%text_button_color%"/>
			<image resource="navi_button"/>
		</style>
		
		<style name="navbutt_tr">
			<highlight color="%highlight_color%"/>
			<font resource="font_m2" color="%text_button_color%"/>
			<image resource="navbutt_tr"/>
		</style>
		
		<style name="button_dialog">
			<highlight color="%highlight_color%"/>
			<font resource="font_l" color="%text_button_color%"/>
			<image resource="dialogb_empty" highlightresource="dialogb_hl" />
		</style>

		<style name="button_dialog_hl">
			<highlight color="%highlight_color%"/>
			<font resource="font_l" color="%text_button_color%"/>
			<image resource="dialogb_empty" highlightresource="dialogb_hl" />
		</style>
		
		<style name="button_t">
			<highlight color="%highlight_color%"/>
			<font resource="font_l" color="%text_button_color%"/>
			<image resource="button_t"/>
		</style>
		
		<style name="main_button_half_height">
			<highlight color="%highlight_color%"/>
			<font resource="font_m" color="%text_button_color%"/>
			<image resource="main_button_half_height"/>
		</style>

		<style name="main_button_half_height_full_width">
			<highlight color="%highlight_color%"/>
			<font resource="font_m" color="%text_button_color%"/>
			<image resource="main_button_half_height_full_width"/>
		</style>
		
		<style name="main_button_password_unlock">
			<highlight color="%highlight_color%"/>
			<font resource="font_m3" color="#00E12E"/>
			<image resource="main_button_half_height_full_width"/>
		</style>
		
		<style name="main_button_password">
			<highlight color="%highlight_color%"/>
			<font resource="font_m3" color="#FFFFFF"/>
			<image resource="main_button_half_height_full_width"/>
		</style>
		
		<style name="main_button_password_reboot">
			<highlight color="%highlight_color%"/>
			<font resource="font_m3" color="#FF0031"/>
			<image resource="main_button_half_height_full_width"/>
		</style>
		
		<style name="button_third_width">
			<highlight color="%highlight_color%"/>
			<font resource="font_m" color="%text_button_color%"/>
			<image resource="tab_3"/>
		</style>
		
		<style name="button_saved">
			<highlight color="%highlight_color%"/>
			<font resource="font_m" color="%text_button_color%"/>
			<image resource="tab_3"/>
		</style>
		
		<style name="tools_button">
			<highlight color="%highlight_color%"/>
			<font resource="font_l" color="%text_button_color%"/>
			<image resource="tools_button"/>
		</style>

		<style name="button_quarter_width">
			<highlight color="%highlight_color%"/>
			<font resource="font_m" color="%text_button_color%"/>
			<image resource="tab_4"/>
		</style>

		<style name="fab">
			<highlight color="%highlight_color%"/>
			<placement x="%indent_right%" y="%row21a_y%" placement="1"/>
			<font resource="font_m" color="%button_text_color%"/>
		</style>
		
		<style name="fab_close">
			<highlight color="%highlight_color%"/>
			<placement x="920" y="700"/>
			<font resource="font_m" color="%button_text_color%"/>
		</style>
		
		<style name="status_logo">
			<image resource="status_logo"/>
		</style>
		
		<style name="ds_theme_button">
			<image resource="ds_theme_button"/>
		</style>
		
		<style name="password_logo">
			<image resource="password_logo"/>
		</style>

		<style name="tab">
			<highlight color="%highlight_color%"/>
			<fill color="%transparent%"/>
			<font resource="font_s" color="%text_button_color%"/>
		</style>
		
		<style name="tabs_settings">
			<highlight color="%highlight_color%"/>
			<fill color="%transparent%"/>
			<font resource="font_s" color="%text_button_color%"/>
			<image resource="tab_menu"/>
		</style>

		<style name="console">
			<fastscroll rectcolor="%accent_color%" w="%fastscroll_w%" rectw="%fastscroll_rectw%" recth="%fastscroll_recth%"/>
			<color foreground="%text_color%" background="%background_color%" scroll="%background_color%"/>
			<font resource="fixed"/>
		</style>

		<style name="terminal">
			<fastscroll linecolor="%transparent%" rectcolor="%accent_color%" w="%fastscroll_w%" rectw="%fastscroll_rectw%" recth="%fastscroll_recth%"/>
			<background color="%background_color%"/>
			<font resource="fixed" spacing="3" color="%text_color%"/>
		</style>

		<style name="fileselector">
			<highlight color="%themeheader_color%"/>
			<separator color="#000000" height="%fileselector_separatorheight%"/>
			<sort name="tw_gui_sort_order"/>
			<icon folder="folder" file="file"/>
			<background color="%background_color%"/>
			<font resource="font_m" spacing="%fileselector_spacing%" color="%text_color%" highlightcolor="%accent_color%"/>
		</style>
		
		<style name="fileselector_b">
			<highlight color="%fileselector_highlight_color%"/>
			<separator color="%fileselector_linecolor%" height="%fileselector_separatorheight%"/>
			<sort name="tw_gui_sort_order"/>
			<icon folder="folder" file="file"/>
			<background color="%background_color%"/>
			<font resource="font_m" spacing="%fileselector_spacing%" color="%text_color%" highlightcolor="%accent_color%"/>
		</style>
		
		<style name="fileselector_c">
			<highlight color="%fileselector_highlight_color%"/>
			<separator color="%fileselector_linecolor%" height="%fileselector_separatorheight%"/>
			<sort name="tw_gui_sort_order"/>
			<icon folder="folder" file="file"/>
			<background color="%background_color%"/>
			<font resource="font_m" spacing="%fileselector_spacing%" color="%text_color%" highlightcolor="%accent_color%"/>
		</style>
		
		<style name="fileselector_d">
			<highlight color="%fileselector_highlight_color%"/>
			<separator color="%fileselector_linecolor%" height="%fileselector_separatorheight%"/>
			<sort name="tw_gui_sort_order"/>
			<icon folder="folder" file="file"/>
			<background color="%background_color%"/>
			<font resource="font_m" spacing="%fileselector_spacing%" color="%text_color%" highlightcolor="%accent_color%"/>
		</style>
		
		<style name="fileselector_e">
			<highlight color="%fileselector_highlight_color%"/>
			<separator color="%fileselector_linecolor%" height="%fileselector_separatorheight%"/>
			<sort name="tw_gui_sort_order"/>
			<icon folder="folder" file="file"/>
			<background color="%background_color%"/>
			<font resource="font_m" spacing="%fileselector_spacing%" color="%text_color%" highlightcolor="%accent_color%"/>
		</style>
		
		<style name="listbox">
			<highlight color="%fileselector_highlight_color%"/>
			<header background="%background_color%" textcolor="%accent_color%" separatorcolor="%accent_color%" separatorheight="%fileselector_separatorheight%"/>
			<fastscroll linecolor="%fileselector_linecolor%" rectcolor="%accent_color%" w="%fastscroll_w%" linew="%fastscroll_linew%" rectw="%fastscroll_rectw%" recth="%fastscroll_recth%"/>
			<separator color="%fileselector_linecolor%" height="%fileselector_separatorheight%"/>
			<icon selected="radio_true" unselected="radio_false"/>
			<background color="%background_color%"/>
			<font resource="font_m" spacing="%fileselector_spacing%" color="%text_color%" highlightcolor="%accent_color%"/>
		</style>

		<style name="scrolllist">
			<background color="%background_color%"/>
			<font resource="font_m" spacing="%fileselector_spacing%" color="%text_color%"/>
		</style>

		<style name="partitionlist">
			<highlight color="%fileselector_highlight_color%"/>
			<header background="%background_color%" textcolor="%accent_color%" separatorcolor="%accent_color%" separatorheight="%fileselector_separatorheight%"/>
			<fastscroll linecolor="%fileselector_linecolor%" rectcolor="%accent_color%" w="%fastscroll_w%" linew="%fastscroll_linew%" rectw="%fastscroll_rectw%" recth="%fastscroll_recth%"/>
			<dimensions lineh="%slidervalue_lineh%" linepadding="%slidervalue_padding%" sliderw="%slidervalue_sliderw%" sliderh="%slidervalue_sliderh%"/>
			<icon selected="checkbox_true" unselected="checkbox_false"/>
			<separator color="%fileselector_linecolor%" height="%fileselector_separatorheight%"/>
			<background color="%background_color%"/>
			<font resource="font_m" spacing="%partitionlist_spacing%" color="%text_color%" highlightcolor="%fileselector_highlight_font_color%"/>
		</style>

		<style name="partitionlist_storage">
			<highlight color="%fileselector_highlight_color%"/>
			<placement x="%col1_x_left%" y="%row5_y%" w="%content_overlay_width%" h="%partitionlist_storage_height%"/>
			<header background="%background_color%" textcolor="%accent_color%" separatorcolor="%accent_color%" separatorheight="%fileselector_separatorheight%"/>
			<fastscroll linecolor="%fileselector_linecolor%" rectcolor="%accent_color%" w="%fastscroll_w%" linew="%fastscroll_linew%" rectw="%fastscroll_rectw%" recth="%fastscroll_recth%"/>
			<dimensions lineh="%slidervalue_lineh%" linepadding="%slidervalue_padding%" sliderw="%slidervalue_sliderw%" sliderh="%slidervalue_sliderh%"/>
			<icon selected="radio_true" unselected="radio_false"/>
			<separator color="%fileselector_linecolor%" height="%fileselector_separatorheight%"/>
			<background color="%background_color%"/>
			<font resource="font_m" spacing="%partitionlist_spacing%" color="%text_color%" highlightcolor="%fileselector_highlight_font_color%"/>
		</style>
		
		<style name="radio_true">
			<highlight color="%highlight_color%"/>
			<font resource="font_m" color="%text_button_color%"/>
			<image resource="radio_true"/>
		</style>

		<style name="radio_false">
			<highlight color="%highlight_color%"/>
			<font resource="font_m" color="%text_button_color%"/>
			<image resource="radio_false"/>
		</style>

		<style name="slider">
			<placement x="%slider_x%" y="%row23_y%" placement="4"/>
			<font resource="font_s" color="%slider_color%"/>
			<resource base="slider" used="slider" touch="slider_touch"/>
		</style>

		<style name="slidervalue">
			<resource handle="handle" handlehover="handle_hl"/>
			<font resource="font_m" color="%text_color%"/>
			<colors line="%fileselector_linecolor2%"/>
			<dimensions lineh="%slidervalue_lineh%" linepadding="%slidervalue_padding%" sliderw="%slidervalue_sliderw%" sliderh="%slidervalue_sliderh%"/>
		</style>

		<style name="patternpassword">
			<size name="tw_gui_pattern_grid_size" default="3"/>
		</style>
	</styles>

	<pages>
		<page name="main">
			<action>
				<actions>
					<action function="set">tw_clear_destination=%tw_theme_splash%</action>
					<action function="page">clear_vars</action>
				</actions>
			</action>
		</page>
		
		<page name="main2">
			<template name="page_n"/>
			
			<button style="status_logo">
				<placement x="270" y="40"/>
				<action function="screenshot"/>
			</button>
			
			<button style="main_button_n">
				<placement x="%indent_main_button%" y="260"/>
				<text>{@install_btn=Install}</text>
				<actions>
					<action function="queueclear"/>
					<action function="set">tw_selectimage=0</action>
					<action function="page">install</action>
				</actions>
			</button>
			
			<button style="main_button_n">
				<placement x="%indent_main_button%" y="410"/>
				<text>{@wipe_btn=Wipe}</text>
				<action function="page">wipe</action>
			</button>
			
			<button style="main_button_n">
				<condition var1="auto_generate" var2="0"/>
				<placement x="%indent_main_button%" y="560"/>
				<text>{@backup_btn=Backup}</text>
				<actions>
					<action function="set">tw_backup_name={@auto_generate=(Auto Generate)}</action>
					<action function="page">backup</action>
				</actions>
			</button>
			
			<button style="main_button_n">
				<condition var1="auto_generate" var2="1"/>
				<placement x="%indent_main_button%" y="560"/>
				<text>{@backup_btn=Backup}</text>
				<actions>
					<action function="generatebackupname"/>
					<action function="page">backup</action>
				</actions>
			</button>
			
			<button style="main_button_n">
				<placement x="%indent_main_button%" y="710"/>
				<text>{@restore_btn=Restore}</text>
				<action function="page">restore</action>
			</button>
			
			<button style="main_button_n">
				<placement x="%indent_main_button%" y="860"/>
				<text>{@mount_btn=Mount}</text>
				<action function="page">mount</action>
			</button>
			
			<button style="main_button_n">
				<placement x="%indent_main_button%" y="1010"/>
				<text>{@file_manager_btn=File Manager}</text>
				<action function="page">filemanagerlist</action>
			</button>
			
			<button style="main_button_n">
				<placement x="%indent_main_button%" y="1160"/>
				<text>{@advanced_btn=Advanced}</text>
				<action function="page">advanced</action>
			</button>
			
			<button style="main_button_n">
				<placement x="%indent_main_button%" y="1310"/>
				<text>{@reboot_btn=Reboot}</text>
				<action function="page">reboot</action>
			</button>
			
			<button style="main_button_n">
				<placement x="%indent_main_button%" y="1460"/>
				<text>{@settings_hdr=Settings}</text>
				<action function="page">settings</action>
			</button>
			
			<button style="main_button_n">
				<placement x="%indent_main_button%" y="1610"/>
				<text>Extra Tools</text>
				<action function="page">tool_settings</action>
			</button>
			
			<action>
				<touch key="back"/>
				<action function="page">main2</action>
			</action>

			<action>
				<touch key="home"/>
				<action function="page">main2</action>
			</action>
		</page>
		
		<page name="install">
			<template name="page_n"/>
			
			<template name="fm1"/>

			<button style="status_logo">
				<placement x="270" y="40"/>
				<action function="screenshot"/>
			</button>
			
			<button>
				<placement x="864" y="210"/>
				<image resource="fab_selectfolder"/>
				<action function="overlay">sort_menu</action>
			</button>
			
			<text style="text_m_fail">
				<placement x="%indent%" y="277"/>
				<text>%tw_zip_location%</text>
			</text>
			
			<template name="fm2"/>

			<fileselector>
				<condition var1="tw_selectimage" var2="0"/>
				<placement x="%indent%" y="400" w="%content_width%" h="1170"/>
				<filter extn=".zip" folders="1" files="1"/>
				<path name="tw_zip_location" default="/sdcard"/>
				<data name="tw_filename"/>
				<selection name="tw_file"/>
			</fileselector>

			<fileselector>
				<condition var1="tw_selectimage" var2="1"/>
				<placement x="%indent%" y="400" w="%content_width%" h="1170"/>
				<filter extn=".img" folders="1" files="1"/>
				<path name="tw_zip_location" default="/sdcard"/>
				<data name="tw_filename"/>
				<selection name="tw_file"/>
			</fileselector>

			<button style="main_button_half_height">
				<placement x="%indent%" y="1578"/>
				<text>{@select_storage_btn=Select Storage}</text>
				<actions>
					<action function="set">tw_back=install</action>
					<action function="overlay">select_storage</action>
				</actions>
			</button>

			<button style="main_button_half_height">
				<condition var1="tw_selectimage" var2="0"/>
				<placement x="%center_x%" y="1578"/>
				<text>{@install_image_btn=Install Image}</text>
				<action function="page">install_image</action>
			</button>

			<button style="main_button_half_height">
				<condition var1="tw_selectimage" var2="1"/>
				<placement x="%center_x%" y="1578"/>
				<text>{@install_zip_btn=Install Zip}</text>
				<actions>
					<action function="set">tw_selectimage=0</action>
					<action function="page">install</action>
				</actions>
			</button>

			<action>
				<conditions>
					<condition var1="tw_selectimage" var2="0"/>
					<condition var1="tw_filename" op="modified"/>
				</conditions>
				<actions>
					<action function="queuezip"/>
					<action function="page">flash_confirm</action>
				</actions>
			</action>

			<action>
				<conditions>
					<condition var1="tw_selectimage" var2="1"/>
					<condition var1="tw_filename" op="modified"/>
				</conditions>
				<action function="page">flashimage_confirm</action>
			</action>

			<action>
				<touch key="back"/>
				<action function="page">main2</action>
			</action>

			<action>
				<touch key="home"/>
				<action function="page">main2</action>
			</action>
		</page>
		
		<page name="install_image">
			<template name="page_n"/>
			
			<template name="fm1"/>

			<button style="status_logo">
				<placement x="270" y="40"/>
				<action function="screenshot"/>
			</button>
			
			<button>
				<placement x="864" y="210"/>
				<image resource="fab_selectfolder"/>
				<action function="overlay">sort_menu</action>
			</button>
			
			<text style="text_m_fail">
				<placement x="%indent%" y="277"/>
				<text>%tw_zip_location%</text>
			</text>
			
			<template name="fm2"/>

			<fileselector>
				<condition var1="tw_selectimage" var2="0"/>
				<placement x="%indent%" y="400" w="%content_width%" h="1170"/>
				<filter extn=".img" folders="1" files="1"/>
				<path name="tw_zip_location" default="/sdcard"/>
				<data name="tw_filename"/>
				<selection name="tw_file"/>
			</fileselector>

			<fileselector>
				<condition var1="tw_selectimage" var2="1"/>
				<placement x="%indent%" y="400" w="%content_width%" h="1170"/>
				<filter extn=".zip" folders="1" files="1"/>
				<path name="tw_zip_location" default="/sdcard"/>
				<data name="tw_filename"/>
				<selection name="tw_file"/>
			</fileselector>

			<button style="main_button_half_height">
				<placement x="%indent%" y="1578"/>
				<text>{@select_storage_btn=Select Storage}</text>
				<actions>
					<action function="set">tw_back=install_image</action>
					<action function="overlay">select_storage</action>
				</actions>
			</button>
			
			<action>
				<action function="set">tw_back=install_image</action>
			</action>

			<button style="main_button_half_height">
				<condition var1="tw_selectimage" var2="1"/>
				<placement x="%center_x%" y="1578"/>
				<text>{@install_image_btn=Install Image}</text>
				<actions>
					<action function="set">tw_selectimage=1</action>
					<action function="page">install</action>
				</actions>
			</button>

			<button style="main_button_half_height">
				<placement x="%center_x%" y="1578"/>
				<text>{@install_zip_btn=Install Zip}</text>
				<action function="page">install</action>
			</button>

			<action>
				<condition var1="tw_flashit" var2="0"/>
				<condition var1="tw_filename" op="modified"/>
				<action function="page">flashimage_confirm</action>
			</action>

			<action>
				<condition var1="tw_flashit" var2="1"/>
				<condition var1="tw_filename" op="modified"/>
				<actions>
					<action function="set">tw_fm_type={@fm_type_file=File}</action>
					<action function="set">tw_fm_isfolder=0</action>
					<action function="set">tw_image_type=none</action>
					<action function="cmd">
					i=%tw_theme_path%/flashit;
					rm -f $i/boot*.img $i/*recovery*.img $i/radio*.img $i/modem*.img;
					</action>
					<action function="set">tw_back=install_image</action>
					<action function="set">tw_filecheck=%tw_theme_path%/flashit/flashit.zip</action>
					<action function="set">tw_existpage=flash_image_flashit</action>
					<action function="set">tw_notexistpage=flashit_missing</action>
					<action function="page">filecheck</action>
				</actions>
			</action>

			<action>
				<touch key="back"/>
				<action function="page">install</action>
			</action>

			<action>
				<touch key="home"/>
				<action function="page">main2</action>
			</action>
		</page>
		
		<page name="install_image_normal">
			<background color="%lightransparent%"/>

			<fill color="%about_back%">
				<placement x="101" y="635" w="869" h="673"/>
			</fill>
			
			<fill color="%dialog_front%">
				<placement x="112" y="645" w="849" h="653"/>
			</fill>
			
			<fill color="%dialog_front%">
				<placement x="112" y="645" w="849" h="653"/>
			</fill>

			<text style="text_m">
				<placement x="192" y="706"/>
				<text>Install Image Confirm</text>
			</text>

			<text style="text_m">
				<placement x="192" y="832"/>
				<text>Confirm your selection</text>
			</text>

			<text style="text_m">
				<placement x="192" y="892"/>
				<text>Confirm or Cancel the action.</text>
			</text>

			<button style="button_dialog">
				<placement x="380" y="1129"/>
				<text>CANCEL</text>
				<action function="overlay"/>
				<action function="page">install</action>
			</button>

			<button style="button_dialog_hl">
				<placement x="644" y="1129"/>
				<text>INSTALL</text>
				<actions>
					<action function="overlay"/>
					<action function="set">tw_back=flashimage_confirm</action>
					<action function="set">tw_action=flashimage</action>
					<action function="set">tw_has_action2=0</action>
					<action function="set">tw_action_text1={@flashing_image=Flashing Image...}</action>
					<action function="set">tw_action_text2=</action>
					<action function="set">tw_complete_text1={@image_flashed=Image Flashed}</action>
					<action function="page">action_page</action>
				</actions>
				<action function="flashimage"/>
			</button>

			<action>
				<touch key="power+voldown"/>
				<action function="screenshot"/>
			</action>
		</page>
		
		<page name="flash_image_flashit">
			<template name="page_n"/>
			
			<button style="status_logo">
				<placement x="270" y="40"/>
				<action function="screenshot"/>
			</button>
			
			<template name="fm1"/>
			
			<text style="text_m">
				<placement x="%indent%" y="277"/>
				<text>Install Image with Flashit Script by osm0sis.</text>
			</text>
			
			<fill color="%about_back%">
				<placement x="0" y="375" w="1080" h="1180"/>
			</fill>
			
			<fill color="%dialog_front%">
				<placement x="5" y="380" w="1070" h="1170"/>
			</fill>
			
			<fill color="%dialog_front%">
				<placement x="5" y="380" w="1070" h="1170"/>
			</fill>
			
			<button>
				<placement x="912" y="375"/>
				<image resource="btn_float_info"/>
				<action function="page">theme_flashit_info</action>
			</button>
			
			<text style="text_m_accent">
				<placement x="%indent%" y="420"/>
				<text>{@folder=Folder:}</text>
			</text>

			<text style="text_m">
				<placement x="%indent%" y="484"/>
				<text>%tw_zip_location%</text>
			</text>

			<text style="text_m_accent">
				<placement x="%indent%" y="548"/>
				<text>{@file=File:}</text>
			</text>

			<text style="text_m">
				<placement x="%indent%" y="612"/>
				<text>%tw_file%</text>
			</text>

			<text style="text_m_accent">
				<placement x="%indent%" y="730"/>
				<text>Image Type:</text>
			</text>
			
			<button>
				<condition var1="tw_image_type" op="!=" var2="recovery"/>
				<placement x="%indent%" y="800" textplacement="6"/>
				<font resource="font_m" color="%text_color%"/>
				<text>Recovery Image</text>
				<image resource="radio_false"/>
				<action function="set">tw_image_type=recovery</action>
			</button>

			<button>
				<condition var1="tw_image_type" var2="recovery"/>
				<placement x="%indent%" y="800" textplacement="6"/>
				<font resource="font_m" color="%text_color%"/>
				<text>Recovery Image</text>
				<image resource="radio_true"/>
				<action function="set">tw_image_type=recovery</action>
			</button>

			<button>
				<condition var1="tw_image_type" op="!=" var2="boot"/>
				<placement x="%indent%" y="900" textplacement="6"/>
				<font resource="font_m" color="%text_color%"/>
				<text>Boot Image</text>
				<image resource="radio_false"/>
				<action function="set">tw_image_type=boot</action>
			</button>

			<button>
				<condition var1="tw_image_type" var2="boot"/>
				<placement x="%indent%" y="900" textplacement="6"/>
				<font resource="font_m" color="%text_color%"/>
				<text>Boot Image</text>
				<image resource="radio_true"/>
				<action function="set">tw_image_type=boot</action>
			</button>

			<button>
				<condition var1="tw_image_type" op="!=" var2="radio"/>
				<placement x="%indent%" y="1000" textplacement="6"/>
				<font resource="font_m" color="%text_color%"/>
				<text>Radio / Modem Image</text>
				<image resource="radio_false"/>
				<action function="set">tw_image_type=radio</action>
			</button>

			<button>
				<condition var1="tw_image_type" var2="radio"/>
				<placement x="%indent%" y="1000" textplacement="6"/>
				<font resource="font_m" color="%text_color%"/>
				<text>Radio / Modem Image</text>
				<image resource="radio_true"/>
				<action function="set">tw_image_type=radio</action>
			</button>
			
			<button style="main_button_half_height">
				<condition var1="tw_fileexists" var2="0"/>
				<placement x="%center_x%" y="1350"/>
				<text>{@install_script=Install Script}</text>
				<action function="cmd">
				mkdir "%tw_theme_path%/flashit";
				mkdir "/data/local/twrp";
				unzip -o "%tw_theme_path%/ui.zip" -d "/data/local/twrp";
				cp -r /data/local/twrp/flashit/* %tw_theme_path%/flashit;
				chmod 777 "%tw_theme_path%/flashit/flashit.zip";
				rm -r /data/local/twrp;
				</action>
				<action function="set">tw_fileexists=1</action>
			</button>
			
			<slider>
				<conditions>
					<condition var1="tw_fileexists" var2="1"/>
					<condition var1="tw_image_type" op="!=" var2="none"/>
				</conditions>
				<actions>
					<action function="queueclear"/>
					<action function="cmd">
					cp "%tw_filename%" %tw_theme_path%/flashit/%tw_image_type%.img;
					</action>
					<action function="set">tw_filename=%tw_theme_path%/flashit/flashit.zip</action>
					<action function="queuezip"/>
					<action function="flash">flash_zip_flashit</action>
				</actions>
			</slider>

			<text style="text_m">
				<conditions>
					<condition var1="tw_fileexists" var2="1"/>
					<condition var1="tw_image_type" var2="recovery"/>
				</conditions>
				<placement x="%center_x%" y="1590" placement="5"/>
				<text>Swipe to install Image</text>
			</text>
			
			<text style="text_m">
				<conditions>
					<condition var1="tw_fileexists" var2="1"/>
					<condition var1="tw_image_type" var2="boot"/>
				</conditions>
				<placement x="%center_x%" y="1590" placement="5"/>
				<text>Swipe to install Image</text>
			</text>
			
			<text style="text_m">
				<conditions>
					<condition var1="tw_fileexists" var2="1"/>
					<condition var1="tw_image_type" var2="radio"/>
				</conditions>
				<placement x="%center_x%" y="1590" placement="5"/>
				<text>Swipe to install Image</text>
			</text>
			
			<text style="text_m">
				<conditions>
					<condition var1="tw_fileexists" var2="1"/>
					<condition var1="tw_image_type" op="=" var2="none"/>
				</conditions>
				<placement x="%center_x%" y="1590" placement="5"/>
				<text>Select Image Type!</text>
			</text>

			<action>
				<touch key="back"/>
				<actions>
					<action function="cancelzip"/>
					<action function="page">install</action>
				</actions>
			</action>

			<action>
				<touch key="home"/>
				<action function="page">main2</action>
			</action>
		</page>

		<page name="flash_confirm">
			<template name="page_n"/>
			
			<button style="status_logo">
				<placement x="270" y="40"/>
				<action function="screenshot"/>
			</button>
			
			<template name="fm1"/>
			
			<text style="text_m">
				<placement x="%indent%" y="277"/>
				<text>{@zip_queue_count=%tw_zip_queue_count% of max of 10 Files queued}</text>
			</text>
			
			<template name="fm2"/>

			<text style="text_m_accent">
				<placement x="%indent%" y="420"/>
				<text>{@zip_warn1=This operation may install incompatible}</text>
			</text>

			<text style="text_m_accent">
				<placement x="%indent%" y="484"/>
				<text>{@zip_warn2=software and render your device unusable.}</text>
			</text>

			<text style="text_m">
				<placement x="%indent%" y="588"/>
				<text>{@zip_back_cancel=Press back to cancel adding this zip.}</text>
			</text>

			<text style="text_m_accent">
				<placement x="%indent%" y="730"/>
				<text>{@folder=Folder:}</text>
			</text>

			<text style="text_m">
				<placement x="%indent%" y="794"/>
				<text>%tw_zip_location%</text>
			</text>

			<text style="text_m_accent">
				<placement x="%indent%" y="858"/>
				<text>{@file=File:}</text>
			</text>

			<text style="text_m">
				<placement x="%indent%" y="922"/>
				<text>%tw_file%</text>
			</text>
			
			<listbox style="scrolllist">
				<placement x="%indent%" y="1050" w="%content_width%" h="%listbox_settings_height%"/>
				<icon selected="checkbox_true" unselected="checkbox_false"/>
				<listitem name="{@zip_sig_chk=Zip signature verification}">
					<data variable="tw_signed_zip_verify"/>
				</listitem>
				<listitem name="{@install_reboot_chk=Reboot after installation is complete}">
					<data variable="tw_install_reboot"/>
				</listitem>
				<listitem name="{@inject_twrp_chk=Inject TWRP after install}">
					<condition var1="tw_has_injecttwrp" var2="1"/>
					<data variable="tw_inject_after_zip"/>
				</listitem>
			</listbox>

			<button style="main_button_half_height">
				<placement x="%indent%" y="%row18a_y%"/>
				<text>{@zip_add_btn=Add more Zips}</text>
				<action function="page">install</action>
			</button>

			<button style="main_button_half_height">
				<placement x="%center_x%" y="%row18a_y%"/>
				<text>{@zip_clear_btn=Clear Zip Queue}</text>
				<actions>
					<action function="queueclear"/>
					<action function="page">install</action>
				</actions>
			</button>

			<button style="main_button_n">
				<placement x="0" y="1610"/>
				<text>{@install_confirm=Install Confirm}</text>
				<action function="page">install_page</action>
			</button>

			<action>
				<touch key="back"/>
				<actions>
					<action function="cancelzip"/>
					<action function="page">install</action>
				</actions>
			</action>

			<action>
				<touch key="home"/>
				<action function="page">main2</action>
			</action>
		</page>
		
		<page name="install_page">
			<background color="%lightransparent%"/>

			<fill color="%about_back%">
				<placement x="101" y="635" w="869" h="673"/>
			</fill>
			
			<fill color="%dialog_front%">
				<placement x="112" y="645" w="849" h="653"/>
			</fill>
			
			<fill color="%dialog_front%">
				<placement x="112" y="645" w="849" h="653"/>
			</fill>

			<text style="text_m">
				<placement x="192" y="706"/>
				<text>{@install_confirm=Install Confirm}</text>
			</text>

			<text style="text_m">
				<placement x="192" y="832"/>
				<text>{@confirm_selection=Confirm your selection}</text>
			</text>

			<text style="text_m">
				<placement x="192" y="892"/>
				<text>{@confirmcancel_selection=Confirm or Cancel the action.}</text>
			</text>

			<button style="button_dialog">
				<placement x="380" y="1129"/>
				<text>{@cancel=CANCEL}</text>
				<action function="overlay"/>
				<action function="page">install</action>
			</button>

			<button style="button_dialog_hl">
				<placement x="644" y="1129"/>
				<text>{@install_big=INSTALL}</text>
				<action function="overlay"/>
				<action function="flash">flash_zip</action>
			</button>

			<action>
				<touch key="power+voldown"/>
				<action function="screenshot"/>
			</action>
		</page>
		
		<page name="install_image">
			<background color="%lightransparent%"/>

			<fill color="%about_back%">
				<placement x="101" y="635" w="869" h="673"/>
			</fill>
			
			<fill color="%dialog_front%">
				<placement x="112" y="645" w="849" h="653"/>
			</fill>
			
			<fill color="%dialog_front%">
				<placement x="112" y="645" w="849" h="653"/>
			</fill>

			<text style="text_m">
				<placement x="192" y="706"/>
				<text>{@install_image_confirm=Install Image Confirm}</text>
			</text>

			<text style="text_m">
				<placement x="192" y="832"/>
				<text>{@confirm_selection=Confirm your selection}</text>
			</text>

			<text style="text_m">
				<placement x="192" y="892"/>
				<text>Confirm or Cancel the action.</text>
			</text>

			<button style="button_dialog">
				<placement x="380" y="1129"/>
				<text>{@cancel=CANCEL}</text>
				<action function="overlay"/>
				<action function="page">install</action>
			</button>

			<button style="button_dialog_hl">
				<placement x="644" y="1129"/>
				<text>{@install_big=INSTALL}</text>
				<actions>
					<action function="overlay"/>
					<action function="set">tw_back=flashimage_confirm</action>
					<action function="set">tw_action=flashimage</action>
					<action function="set">tw_has_action2=0</action>
					<action function="set">tw_action_text1={@flashing_image=Flashing Image...}</action>
					<action function="set">tw_action_text2=</action>
					<action function="set">tw_complete_text1={@image_flashed=Image Flashed}</action>
					<action function="page">action_page</action>
				</actions>
				<action function="flashimage"/>
			</button>

			<action>
				<touch key="power+voldown"/>
				<action function="screenshot"/>
			</action>
		</page>
		
		<page name="reload_bootloader">
			<background color="%lightransparent%"/>

			<fill color="%about_back%">
				<placement x="101" y="635" w="869" h="673"/>
			</fill>
			
			<fill color="%dialog_front%">
				<placement x="112" y="645" w="849" h="653"/>
			</fill>
			
			<fill color="%dialog_front%">
				<placement x="112" y="645" w="849" h="653"/>
			</fill>

			<text style="text_m">
				<placement x="192" y="706"/>
				<text>{@reboot_bootloader=Bootloader Reload}</text>
			</text>

			<text style="text_m">
				<placement x="192" y="832"/>
				<text>{@reboot_bootloader1=Warning you are going to}</text>
			</text>

			<text style="text_m">
				<placement x="192" y="892"/>
				<text>{@reboot_bootloader2=reboot to bootloader action.}</text>
			</text>

			<button style="button_dialog">
				<placement x="380" y="1129"/>
				<text>{@cancel=CANCEL}</text>
				<action function="overlay"/>
				<action function="page">reboot</action>
			</button>

			<button style="button_dialog_hl">
				<placement x="644" y="1129"/>
				<text>{@ok_btn=OK}</text>
				<action function="page">rebootcheck</action>
			</button>

			<action>
				<touch key="power+voldown"/>
				<action function="screenshot"/>
			</action>
		</page>
		
		<page name="reload_theme">
			<background color="%lightransparent%"/>

			<fill color="%about_back%">
				<placement x="101" y="635" w="869" h="673"/>
			</fill>
			
			<fill color="%dialog_front%">
				<placement x="112" y="645" w="849" h="653"/>
			</fill>
			
			<fill color="%dialog_front%">
				<placement x="112" y="645" w="849" h="653"/>
			</fill>

			<text style="text_m">
				<placement x="192" y="706"/>
				<text>{@theme_reload=Theme Reload}</text>
			</text>

			<text style="text_m">
				<placement x="192" y="832"/>
				<text>{@theme_reload1=The theme will reload and}</text>
			</text>

			<text style="text_m">
				<placement x="192" y="892"/>
				<text>{@theme_reload2=wiil return to main page}</text>
			</text>

			<button style="button_dialog">
				<placement x="380" y="1129"/>
				<text>{@cancel=CANCEL}</text>
				<action function="overlay"/>
				<action function="page">reboot</action>
			</button>

			<button style="button_dialog_hl">
				<placement x="644" y="1129"/>
				<text>{@ok_btn=OK}</text>
				<action function="reload"/>
			</button>

			<action>
				<touch key="power+voldown"/>
				<action function="screenshot"/>
			</action>
		</page>

		<page name="flash_zip">
			<template name="page_n"/>
			
			<button style="status_logo">
				<placement x="270" y="40"/>
				<action function="screenshot"/>
			</button>
			
			<fill color="%about_back%">
				<placement x="0" y="250" w="1080" h="155"/>
			</fill>
			
			<fill color="%dialog_front%">
				<placement x="5" y="255" w="1070" h="145"/>
			</fill>
			
			<text style="text_l">
				<placement x="15" y="265"/>
				<text>{@install_zip_count_hdr=Install Zip %tw_zip_index% of %tw_zip_queue_count%}</text>
			</text>

			<text style="text_m_fail">
				<placement x="15" y="330"/>
				<text>%tw_file%</text>
			</text>
			
			<fill color="%about_back%">
				<placement x="0" y="440" w="1080" h="1250"/>
			</fill>
			
			<fill color="%dialog_front%">
				<placement x="5" y="445" w="1070" h="1240"/>
			</fill>

			<console>
				<placement x="%indent%" y="450" w="%content_width%" h="1230"/>
			</console>

			<progressbar>
				<placement x="%indent%" y="1725"/>
				<resource empty="progress_empty" full="progress_full"/>
				<data name="ui_progress"/>
			</progressbar>

			<action>
				<condition var1="tw_operation_state" var2="1"/>
				<action function="page">flash_done</action>
			</action>
		</page>
		
		<page name="flash_zip_flashit">
			<template name="page_n"/>
			
			<button style="status_logo">
				<placement x="270" y="40"/>
				<action function="screenshot"/>
			</button>
			
			<fill color="%about_back%">
				<placement x="0" y="250" w="1080" h="155"/>
			</fill>
			
			<fill color="%dialog_front%">
				<placement x="5" y="255" w="1070" h="145"/>
			</fill>
			
			<text style="text_l">
				<placement x="15" y="265"/>
				<text>{@install_zip_count_hdr=Install Zip %tw_zip_index% of %tw_zip_queue_count%}</text>
			</text>

			<text style="text_m_fail">
				<placement x="15" y="330"/>
				<text>%tw_file%</text>
			</text>
			
			<fill color="%about_back%">
				<placement x="0" y="440" w="1080" h="1250"/>
			</fill>
			
			<fill color="%dialog_front%">
				<placement x="5" y="445" w="1070" h="1240"/>
			</fill>

			<console>
				<placement x="%indent%" y="450" w="%content_width%" h="1230"/>
			</console>

			<progressbar>
				<placement x="%indent%" y="1725"/>
				<resource empty="progress_empty" full="progress_full"/>
				<data name="ui_progress"/>
			</progressbar>

			<action>
				<condition var1="tw_operation_state" var2="1"/>
				<action function="page">flash_done_flashit</action>
			</action>
		</page>

		<page name="flash_done">
			<template name="page_n"/>
			
			<button style="status_logo">
				<placement x="270" y="40"/>
				<action function="screenshot"/>
			</button>
			
			<fill color="%about_back%">
				<placement x="0" y="250" w="1080" h="155"/>
			</fill>
			
			<fill color="%dialog_front%">
				<placement x="5" y="255" w="1070" h="145"/>
			</fill>
			
			<text style="text_l">
				<placement x="15" y="270"/>
				<text>{@install_zip_hdr=Install Zip}</text>
			</text>

			<text style="text_m_fail">
				<condition var1="tw_operation_status" op="!=" var2="0"/>
				<placement x="15" y="330"/>
				<text>{@failed=Failed}</text>
			</text>

			<text style="text_m">
				<condition var1="tw_operation_status" var2="0"/>
				<placement x="15" y="330"/>
				<text>{@successful=Successful}</text>
			</text>
			
			<fill color="%about_back%">
				<placement x="0" y="440" w="1080" h="1120"/>
			</fill>
			
			<fill color="%dialog_front%">
				<placement x="5" y="445" w="1070" h="1110"/>
			</fill>

			<console>
				<placement x="%indent%" y="450" w="%content_width%" h="1090"/>
			</console>
			
			<button style="main_button_half_height">
				<placement x="%indent%" y="%row21a_y%"/>
				<text>{@wipe_cache_dalvik_btn=Wipe cache/dalvik}</text>
				<actions>
					<action function="set">tw_back=flash_done</action>
					<action function="set">tw_action=wipe</action>
					<action function="set">tw_action_param=/cache</action>
					<action function="set">tw_has_action2=1</action>
					<action function="set">tw_action2=wipe</action>
					<action function="set">tw_action2_param=dalvik</action>
					<action function="set">tw_text1={@wipe_cache_dalvik_confirm=Wipe Cache &amp; Dalvik?}</action>
					<action function="set">tw_action_text1={@wiping_cache_dalvik=Wiping Cache &amp; Dalvik...}</action>
					<action function="set">tw_complete_text1={@wipe_cache_dalvik_complete=Cache &amp; Dalvik Wipe Complete}</action>
					<action function="set">tw_slider_text={@swipe_wipe=Swipe to Wipe}</action>
					<action function="page">confirm_action</action>
				</actions>
			</button>

			<button style="main_button_half_height">
				<placement x="%center_x%" y="%row21a_y%"/>
				<text>{@reboot_system_btn=Reboot System}</text>
				<actions>
					<action function="set">tw_back=main2</action>
					<action function="page">reboot_system_routine</action>
				</actions>
			</button>

			<action>
				<touch key="back"/>
				<actions>
					<action function="set">tw_clear_destination=install</action>
					<action function="page">clear_vars</action>
				</actions>
			</action>

			<action>
				<touch key="home"/>
				<actions>
					<action function="set">tw_clear_destination=%tw_theme_splash%</action>
					<action function="page">clear_vars</action>
				</actions>
			</action>
			
			<action>
				<conditions>
					<condition var1="tw_install_reboot" var2="1"/>
					<condition var1="tw_operation_status" var2="0"/>
					<condition var1="tw_reboot_system" var2="1"/>
				</conditions>
				<actions>
					<action function="set">tw_sleep=%tw_sleep_total%</action>
					<action function="page">flash_sleep_and_reboot</action>
				</actions>
			</action>
		</page>
		
		<page name="flash_done_flashit">
			<template name="page_n"/>
			
			<button style="status_logo">
				<placement x="270" y="40"/>
				<action function="screenshot"/>
			</button>
			
			<fill color="%about_back%">
				<placement x="0" y="250" w="1080" h="155"/>
			</fill>
			
			<fill color="%dialog_front%">
				<placement x="5" y="255" w="1070" h="145"/>
			</fill>
			
			<text style="text_l">
				<placement x="15" y="270"/>
				<text>{@install_zip_hdr=Install Zip}</text>
			</text>

			<text style="text_m_fail">
				<condition var1="tw_operation_status" op="!=" var2="0"/>
				<placement x="15" y="330"/>
				<text>{@failed=Failed}</text>
			</text>

			<text style="text_m">
				<condition var1="tw_operation_status" var2="0"/>
				<placement x="15" y="330"/>
				<text>{@successful=Successful}</text>
			</text>
			
			<fill color="%about_back%">
				<placement x="0" y="440" w="1080" h="1120"/>
			</fill>
			
			<fill color="%dialog_front%">
				<placement x="5" y="445" w="1070" h="1110"/>
			</fill>

			<console>
				<placement x="%indent%" y="450" w="%content_width%" h="1090"/>
			</console>
			
			<button style="main_button_half_height">
				<placement x="%indent%" y="%row21a_y%"/>
				<text>{@reboot_recovery=Reboot Recovery}</text>
				<actions>
					<action function="set">tw_back=reboot</action>
					<action function="set">tw_action=reboot</action>
					<action function="set">tw_action_param=recovery</action>
					<action function="set">tw_reboot_param=recovery</action>
					<action function="set">tw_has_action2=0</action>
					<action function="set">tw_text1={@no_os1=No OS Installed! Are you}</action>
					<action function="set">tw_text2={@no_osrb=sure you wish to reboot?}</action>
					<action function="set">tw_action_text1={@rebooting=Rebooting...}</action>
					<action function="set">tw_complete_text1={@rebooting=Rebooting...}</action>
					<action function="set">tw_slider_text={@swipe_reboot=Swipe to Reboot}</action>
					<action function="page">rebootcheck</action>
				</actions>
			</button>

			<button style="main_button_half_height">
				<placement x="%center_x%" y="%row21a_y%"/>
				<text>{@reboot_system_btn=Reboot System}</text>
				<actions>
					<action function="set">tw_back=main2</action>
					<action function="page">reboot_system_routine</action>
				</actions>
			</button>

			<action>
				<touch key="back"/>
				<actions>
					<action function="set">tw_clear_destination=install</action>
					<action function="page">clear_vars</action>
				</actions>
			</action>

			<action>
				<touch key="home"/>
				<actions>
					<action function="set">tw_clear_destination=%tw_theme_splash%</action>
					<action function="page">clear_vars</action>
				</actions>
			</action>
			
			<action>
				<conditions>
					<condition var1="tw_install_reboot" var2="1"/>
					<condition var1="tw_operation_status" var2="0"/>
					<condition var1="tw_reboot_system" var2="1"/>
				</conditions>
				<actions>
					<action function="set">tw_sleep=%tw_sleep_total%</action>
					<action function="page">flash_sleep_and_reboot</action>
				</actions>
			</action>
		</page>
		
		<page name="flash_sleep_and_reboot">
			<template name="page_n"/>

			<text style="text_l">
				<placement x="%col1_x_header%" y="%row3_header_y%"/>
				<text>{@install_zip_hdr=Install Zip}</text>
			</text>

			<text style="text_m">
				<placement x="%col1_x_header%" y="%row4_header_y%"/>
				<text>{@install_reboot=Rebooting in %tw_sleep% second(s)}</text>
			</text>

			<template name="console"/>

			<template name="progress_bar"/>

			<button style="main_button_half_height">
				<condition var1="tw_sleep" op="&gt;" var2="0"/>
				<placement x="%center_x%" y="%row21a_y%"/>
				<text>{@cancel_btn=Cancel}</text>
				<actions>
					<action function="set">tw_install_reboot=0</action>
					<action function="page">flash_done</action>
				</actions>
			</button>

			<action>
				<conditions>
					<condition var1="tw_sleep" var2="tw_sleep_total"/>
					<condition var1="tw_install_reboot" var2="1"/>
				</conditions>
				<action function="sleepcounter">%tw_sleep_total%</action>
			</action>

			<action>
				<conditions>
					<condition var1="tw_sleep" var2="0"/>
					<condition var1="tw_install_reboot" var2="1"/>
				</conditions>
				<actions>
					<action function="sleep">50000</action>
					<action function="set">tw_back=main2</action>
					<action function="page">reboot_system_routine</action>
				</actions>
			</action>
		</page>

		<page name="flashimage_confirm">
			<template name="page_n"/>
			
			<button style="status_logo">
				<placement x="270" y="40"/>
				<action function="screenshot"/>
			</button>
			
			<template name="fm1"/>
			
			<text style="text_m_accent">
				<placement x="%indent%" y="277"/>
				<text>{@install_sel_target=Select Target Partition}</text>
			</text>
			
			<template name="fm2"/>

			<text style="text_m_accent">
				<placement x="%indent%" y="400"/>
				<text>{@folder=Folder:}</text>
			</text>

			<text style="text_m">
				<placement x="%indent%" y="464"/>
				<text>%tw_zip_location%</text>
			</text>

			<text style="text_m_accent">
				<placement x="%indent%" y="560"/>
				<text>{@file=File:}</text>
			</text>

			<text style="text_m">
				<placement x="%indent%" y="624"/>
				<text>%tw_file%</text>
			</text>

			<partitionlist>
				<placement x="%indent%" y="720" w="%content_width%" h="%partitionlist_flashimage_height%"/>
				<icon selected="radio_true" unselected="radio_false"/>
				<text>{@flash_image_select=Select Partition to Flash Image:}</text>
				<data name="tw_flash_partition"/>
				<listtype name="flashimg"/>
			</partitionlist>
			
			<button style="main_button_n">
				<placement x="0" y="1622"/>
				<text>{@install_confirm=Install Confirm}</text>
				<action function="overlay">install_image_normal</action>
			</button>

			<action>
				<touch key="back"/>
				<actions>
					<action function="set">tw_clear_destination=install</action>
					<action function="page">clear_vars</action>
				</actions>
			</action>

			<action>
				<touch key="home"/>
				<actions>
					<action function="set">tw_clear_destination=%tw_theme_splash%</action>
					<action function="page">clear_vars</action>
				</actions>
			</action>
		</page>
		
		<page name="reboot_system_routine">
			<action>
				<action function="set">tw_action=reboot</action>
				<action function="set">tw_action_param=system</action>
				<action function="set">tw_has_action2=0</action>
				<action function="set">tw_text1={@no_os1=No OS Installed! Are you}</action>
				<action function="set">tw_text2={@no_osrb=sure you wish to reboot?}</action>
				<action function="set">tw_text3=</action>
				<action function="set">tw_text4=</action>
				<action function="set">tw_action_text1={@rebooting=Rebooting...}</action>
				<action function="set">tw_action_text2=</action>
				<action function="set">tw_complete_text1={@rebooting=Rebooting...}</action>
				<action function="set">tw_slider_text={@swipe_reboot=Swipe to Reboot}</action>
				<action function="page">rebootcheck</action>
			</action>
		</page>

		<page name="clear_vars">
			<action>
				<action function="set">tw_operation_state=0</action>
				<action function="set">tw_text1=</action>
				<action function="set">tw_text2=</action>
				<action function="set">tw_text3=</action>
				<action function="set">tw_text4=</action>
				<action function="set">tw_action_text1=</action>
				<action function="set">tw_action_text2=</action>
				<action function="set">tw_action_param=</action>
				<action function="set">tw_has_action2=0</action>
				<action function="set">tw_action2=</action>
				<action function="set">tw_action2_param=</action>
				<action function="set">tw_has_cancel=0</action>
				<action function="set">tw_cancel_action=</action>
				<action function="set">tw_cancel_param=</action>
				<action function="set">tw_show_exclamation=0</action>
				<action function="set">tw_show_reboot=0</action>
				<action function="set">tw_passs_display=</action>
				<action function="page">%tw_clear_destination%</action>
			</action>
		</page>

		<page name="confirm_action">
			<template name="page_n"/>

			<button style="status_logo">
				<placement x="270" y="40"/>
				<action function="screenshot"/>
			</button>

			<text style="text_m">
				<placement x="%col1_x_header%" y="%row4_header_y%"/>
				<text/>
			</text>

			<text style="text_m_accent">
				<placement x="%center_x%" y="%row2_y%" placement="5"/>
				<text>%tw_text1%</text>
			</text>

			<text style="text_m_accent">
				<placement x="%center_x%" y="%row3_y%" placement="5"/>
				<text>%tw_text2%</text>
			</text>

			<text style="text_m">
				<placement x="%center_x%" y="%row4_y%" placement="5"/>
				<text>%tw_text3%</text>
			</text>

			<text style="text_m">
				<placement x="%center_x%" y="%row5_y%" placement="5"/>
				<text>%tw_text4%</text>
			</text>

			<text style="text_m">
				<placement x="%center_x%" y="%row7_y%" placement="5"/>
				<text>{@back_cancel=Press back button to cancel.}</text>
			</text>

			<slider>
				<action function="page">action_page</action>
			</slider>

			<action>
				<touch key="back"/>
				<actions>
					<action function="set">tw_clear_destination=%tw_back%</action>
					<action function="page">clear_vars</action>
				</actions>
			</action>

			<action>
				<touch key="home"/>
				<action function="page">main2</action>
			</action>
		</page>

		<page name="action_page">
			<template name="page_n"/>

			<text style="text_l">
				<placement x="%col1_x_header%" y="%row3_header_y%"/>
				<text>%tw_action_text1%</text>
			</text>

			<text style="text_m">
				<placement x="%col1_x_header%" y="%row4_header_y%"/>
				<text>%tw_action_text2%</text>
			</text>

			<template name="console"/>

			<template name="progress_bar"/>

			<button style="main_button_half_height">
				<condition var1="tw_has_cancel" var2="1"/>
				<placement x="%center_x%" y="%row21a_y%"/>
				<text>{@cancel_btn=Cancel}</text>
				<action function="%tw_cancel_action%">%tw_cancel_param%</action>
			</button>

			<action>
				<condition var1="tw_operation_state" var2="1"/>
				<actions>
					<action function="page">action_complete</action>
				</actions>
			</action>

			<action>
				<condition var1="tw_has_action2" var2="0"/>
				<actions>
					<action function="%tw_action%">%tw_action_param%</action>
				</actions>
			</action>

			<action>
				<condition var1="tw_has_action2" var2="1"/>
				<actions>
					<action function="%tw_action%">%tw_action_param%</action>
					<action function="%tw_action2%">%tw_action2_param%</action>
				</actions>
			</action>
		</page>

		<page name="singleaction_page">
			<template name="page_n"/>

			<text style="text_l">
				<placement x="%col1_x_header%" y="%row3_header_y%"/>
				<text>%tw_action_text1%</text>
			</text>

			<text style="text_m">
				<placement x="%col1_x_header%" y="%row4_header_y%"/>
				<text>%tw_action_text2%</text>
			</text>

			<template name="console"/>

			<template name="progress_bar"/>

			<action>
				<condition var1="tw_operation_state" var2="1"/>
				<actions>
					<action function="set">tw_page_done=1</action>
				</actions>
			</action>

			<action>
				<condition var1="tw_has_action2" var2="0"/>
				<actions>
					<action function="%tw_action%">%tw_action_param%</action>
				</actions>
			</action>

			<action>
				<condition var1="tw_has_action2" var2="1"/>
				<actions>
					<action function="%tw_action%">%tw_action_param%</action>
					<action function="%tw_action2%">%tw_action2_param%</action>
				</actions>
			</action>
		</page>

		<page name="action_complete">
			<template name="page_n"/>
			
			<button style="status_logo">
				<placement x="270" y="40"/>
				<action function="screenshot"/>
			</button>
			
			<fill color="%about_back%">
				<placement x="0" y="250" w="1080" h="155"/>
			</fill>
			
			<fill color="%dialog_front%">
				<placement x="5" y="255" w="1070" h="145"/>
			</fill>

			<text style="text_l">
				<placement x="15" y="270"/>
				<text>%tw_complete_text1%</text>
			</text>

			<text style="text_m_fail">
				<condition var1="tw_operation_status" op="!=" var2="0"/>
				<placement x="15" y="330"/>
				<text>{@failed=Failed}</text>
			</text>

			<text style="text_m">
				<condition var1="tw_operation_status" var2="0"/>
				<placement x="15" y="330"/>
				<text>{@successful=Successful}</text>
			</text>

			<console>
				<placement x="%indent%" y="440" w="%content_width%" h="1090"/>
			</console>

			<fill color="%fileselector_linecolor%">
				<placement x="%indent%" y="435" w="%content_width%" h="input_line_width" placement="1"/>
			</fill>

			<fill color="%fileselector_linecolor%">
				<placement x="%indent%" y="row17_y" w="%content_width%" h="input_line_width"/>
			</fill>

			<button style="main_button_half_height">
				<placement x="%indent%" y="%row21a_y%"/>
				<text>{@reboot_recovery=Reboot Recovery}</text>
				<actions>
					<action function="set">tw_back=reboot</action>
					<action function="set">tw_action=reboot</action>
					<action function="set">tw_action_param=recovery</action>
					<action function="set">tw_reboot_param=recovery</action>
					<action function="set">tw_has_action2=0</action>
					<action function="set">tw_text1={@no_os1=No OS Installed!}</action>
					<action function="set">tw_text2={@no_osrb=Are you sure you wish to reboot?}</action>
					<action function="set">tw_action_text1={@rebooting=Rebooting...}</action>
					<action function="set">tw_complete_text1={@rebooting=Rebooting...}</action>
					<action function="set">tw_slider_text={@swipe_reboot=Swipe to Reboot}</action>
					<action function="page">rebootcheck</action>
				</actions>
			</button>

			<button style="main_button_half_height">
				<placement x="%center_x%" y="%row21a_y%"/>
				<text>{@reboot_system_btn=Reboot System}</text>
				<actions>
					<action function="set">tw_back=main2</action>
					<action function="page">reboot_system_routine</action>
				</actions>
			</button>

			<action>
				<touch key="home"/>
				<actions>
					<action function="set">tw_clear_destination=%tw_theme_splash%</action>
					<action function="page">clear_vars</action>
				</actions>
			</action>

			<action>
				<touch key="back"/>
				<actions>
					<action function="set">tw_clear_destination=%tw_back%</action>
					<action function="page">clear_vars</action>
				</actions>
			</action>
		</page>

		<page name="filecheck">
			<action>
				<action function="fileexists">%tw_filecheck%</action>
			</action>

			<action>
				<conditions>
					<condition var1="tw_operation_state" var2="1"/>
					<condition var1="tw_operation_status" var2="0"/>
				</conditions>
				<actions>
					<action function="set">tw_fileexists=1</action>
					<action function="page">%tw_existpage%</action>
				</actions>
			</action>

			<action>
				<conditions>
					<condition var1="tw_operation_state" var2="1"/>
					<condition var1="tw_operation_status" var2="1"/>
				</conditions>
				<actions>
					<action function="set">tw_fileexists=0</action>
					<action function="page">%tw_notexistpage%</action>
				</actions>
			</action>
		</page>
		
		<page name="appcheck">
			<action>
				<condition var1="tw_app_prompt" var2="1"/>
				<action function="checkforapp"></action>
			</action>

			<action>
				<condition var1="tw_app_prompt" op="!=" var2="1"/>
				<action function="reboot">%tw_reboot_param%</action>
			</action>

			<action>
				<condition var1="tw_app_install_status" var2="1"/>
				<action function="page">rebootapp</action>
			</action>

			<action>
				<condition var1="tw_app_install_status" var2="2"/>
				<action function="reboot">%tw_reboot_param%</action>
			</action>
		</page>

		<page name="rebootcheck">
			<action>
				<condition var1="tw_backup_system_size" op="&gt;=" var2="%tw_min_system%"/>
				<action function="page">appcheck</action>
			</action>

			<action>
				<condition var1="tw_backup_system_size" op="&lt;" var2="%tw_min_system%"/>
				<action function="page">confirm_action</action>
			</action>
		</page>
		
		<page name="wipe">
			<template name="page_n"/>
			
			<button style="status_logo">
				<placement x="270" y="40"/>
				<action function="screenshot"/>
			</button>

			<text style="text_m_accent">
				<placement x="%center_x%" y="500" placement="5"/>
				<text>{@factory_reset1=Wipes Data, Cache, and Dalvik}</text>
			</text>

			<text style="text_m_accent">
				<condition var1="tw_has_data_media" var2="1"/>
				<placement x="%center_x%" y="564" placement="5"/>
				<text>{@factory_reset2=(not including internal storage)}</text>
			</text>

			<text style="text_m_accent">
				<conditions>
					<condition var1="tw_has_android_secure" var2="1"/>
					<condition var1="fileexists" var2="/and-sec"/>
				</conditions>
				<placement x="%center_x%" y="628" placement="5"/>
				<text>{@android_secure=Android Secure}</text>
			</text>

			<text style="text_m_accent">
				<condition var1="tw_has_sdext_partition" var2="1"/>
				<placement x="%center_x%" y="%row5_y%" placement="5"/>
				<text>{@sdext=SD-EXT}</text>
			</text>

			<text style="text_m">
				<placement x="%center_x%" y="960" placement="5"/>
				<text>{@factory_reset3=Most of the time this is}</text>
			</text>

			<text style="text_m">
				<placement x="%center_x%" y="1024" placement="5"/>
				<text>{@factory_reset4=the only wipe that you need.}</text>
			</text>

			<text style="text_m">
				<placement x="%center_x%" y="1110" placement="5"/>
				<text>{@back_cancel=Press back button to cancel.}</text>
			</text>

			<button style="main_button_half_height">
				<placement x="%indent%" y="%row18a_y%"/>
				<text>{@advanced_wipe_btn=Advanced Wipe}</text>
				<actions>
					<action function="set">partitionlisterror=0</action>
					<action function="page">advancedwipe</action>
				</actions>
			</button>

			<button style="main_button_half_height">
				<condition var1="tw_has_data_media" var2="1"/>
				<placement x="%center_x%" y="%row18a_y%"/>
				<text>{@format_data_btn=Format Data}</text>
				<action function="page">formatdata</action>
			</button>

			<button style="main_button_half_height">
				<conditions>
					<condition var1="tw_is_encrypted" var2="1"/>
					<condition var1="tw_has_data_media" var2="0"/>
				</conditions>
				<placement x="%center_x%" y="%row18a_y%"/>
				<text>{@wipe_enc_btn=Wipe Encryption}</text>
				<actions>
					<action function="set">tw_back=wipe</action>
					<action function="set">tw_action=wipe</action>
					<action function="set">tw_action_param=DATAMEDIA</action>
					<action function="set">tw_has_action2=0</action>
					<action function="set">tw_text1={@wipe_enc_confirm=Wipe Encryption from Data?}</action>
					<action function="set">tw_text2=</action>
					<action function="set">tw_action_text1={@formatting_data=Formatting Data...}</action>
					<action function="set">tw_complete_text1={@format_data_complete=Data Format Complete}</action>
					<action function="set">tw_slider_text={@swipe_format_data=Swipe to Format Data}</action>
					<action function="page">confirm_action</action>
				</actions>
			</button>

			<slider>
				<text>{@swipe_factory_reset=Swipe to Factory Reset}</text>
				<actions>
					<action function="set">tw_back=wipe</action>
					<action function="set">tw_action=wipe</action>
					<action function="set">tw_action_param=data</action>
					<action function="set">tw_action_text1={@factory_resetting=Factory Reset...}</action>
					<action function="set">tw_complete_text1={@factory_reset_complete=Factory Reset Complete}</action>
					<action function="page">action_page</action>
				</actions>
			</slider>

			<action>
				<touch key="back"/>
				<action function="page">main2</action>
			</action>

			<action>
				<touch key="home"/>
				<action function="page">main2</action>
			</action>
		</page>

		<page name="advancedwipe">
			<template name="page_n"/>
			
			<button style="status_logo">
				<placement x="270" y="40"/>
				<action function="screenshot"/>
			</button>
			
			<template name="fm1"/>
			
			<text style="text_m">
				<placement x="%indent%" y="277"/>
				<text>{@sel_part_wipe=Select Partitions to Wipe:}</text>
			</text>

			<action>
				<action function="set">tw_wipe_list=</action>
			</action>
			
			<fill color="%about_back%">
				<placement x="0" y="375" w="1080" h="973"/>
			</fill>
			
			<fill color="%dialog_front%">
				<placement x="5" y="380" w="1070" h="963"/>
			</fill>
			
			<partitionlist>
				<placement x="%indent%" y="370" w="%content_width%" h="%partitionlist_wipe_height%"/>
				<data name="tw_wipe_list"/>
				<listtype name="wipe"/>
			</partitionlist>

			<text style="text_m_fail">
				<condition var1="partitionlisterror" var2="1"/>
				<placement x="%center_x%" y="%row17_y%" placement="5"/>
				<text>{@invalid_part_sel=Invalid partition selection}</text>
			</text>

			<button style="main_button_half_height_full_width">
				<placement x="%indent%" y="%row18a_y%"/>
				<text>{@repair_change_btn=Repair or Change File System}</text>
				<actions>
					<action function="checkpartitionlist">tw_wipe_list</action>
					<action function="page">checkpartitionlist</action>
				</actions>
			</button>

			<slider>
				<text>{@swipe_wipe=Swipe to Wipe}</text>
				<actions>
					<action function="set">tw_back=advancedwipe</action>
					<action function="set">tw_action=wipe</action>
					<action function="set">tw_action_param=LIST</action>
					<action function="set">tw_text1={@wipe_sel_confirm=Wipe Selected Partition(s)?}</action>
					<action function="set">tw_action_text1={@wiping_part=Wiping Partition(s)...}</action>
					<action function="set">tw_complete_text1={@wipe_complete=Wipe Complete}</action>
					<action function="page">action_page</action>
				</actions>
			</slider>

			<action>
				<touch key="home"/>
				<action function="page">main2</action>
			</action>

			<action>
				<touch key="back"/>
				<action function="page">wipe</action>
			</action>
		</page>

		<page name="formatdata">
			<template name="page_n"/>
			
			<button style="status_logo">
				<placement x="270" y="40"/>
				<action function="screenshot"/>
			</button>

			<text style="text_m_fail">
				<placement x="%center_x%" y="%row2_y%" placement="5"/>
				<text>{@format_data_ptr1=Format Data will wipe all of your apps,}</text>
			</text>

			<text style="text_m_fail">
				<placement x="%center_x%" y="%row3_y%" placement="5"/>
				<text>{@format_data_ptr2=backups, pictures, videos, media, and}</text>
			</text>

			<text style="text_m_fail">
				<placement x="%center_x%" y="%row4_y%" placement="5"/>
				<text>{@format_data_ptr3=removes encryption on internal storage.}</text>
			</text>

			<text style="text_m_fail">
				<condition var1="tw_has_adopted_storage" var2="1"/>
				<placement x="%center_x%" y="%row5_y%" placement="5"/>
				<text>{@format_data_adopted=Including Adopted Storage}</text>
			</text>

			<text style="text_m">
				<placement x="%center_x%" y="%row6_y%" placement="5"/>
				<text>{@format_data_undo=This cannot be undone.}</text>
			</text>

			<text style="text_m">
				<placement x="%center_x%" y="%row8_y%" placement="5"/>
				<text>{@yes_continue=Type yes to continue.  Press back to cancel.}</text>
			</text>

			<input>
				<placement x="%indent%" y="%row10_y%" w="%content_width%" h="%input_height%"/>
				<text>%tw_confirm_formatdata%</text>
				<data name="tw_confirm_formatdata"/>
				<restrict minlen="3" maxlen="3" allow="yes"/>
				<action function="page">formatdata_confirm</action>
			</input>

			<fill color="%accent_color%">
				<placement x="%indent%" y="row11_y" w="%content_width%" h="input_line_width"/>
			</fill>

			<template name="keyboardtemplate"/>

			<action>
				<touch key="home"/>
				<action function="page">main2</action>
			</action>

			<action>
				<touch key="back"/>
				<action function="page">wipe</action>
			</action>
		</page>

		<page name="formatdata_confirm">
			<action>
				<condition var1="tw_confirm_formatdata" op="=" var2="yes"/>
				<actions>
					<action function="set">tw_back=formatdata</action>
					<action function="set">tw_action=wipe</action>
					<action function="set">tw_action_param=DATAMEDIA</action>
					<action function="set">tw_action_text1={@formatting_data=Formatting Data...}</action>
					<action function="set">tw_complete_text1={@format_data_complete=Data Format Complete}</action>
					<action function="page">action_page</action>
				</actions>
			</action>

			<action>
				<condition var1="tw_confirm_formatdata" op="!=" var2="yes"/>
				<action function="page">formatdata</action>
			</action>
		</page>

		<page name="checkpartitionlist">
			<action>
				<condition var1="tw_check_partition_list" op="=" var2="1"/>
				<actions>
					<action function="set">partitionlisterror=0</action>
					<action function="getpartitiondetails">tw_wipe_list</action>
					<action function="page">partitionoptions</action>
				</actions>
			</action>

			<action>
				<condition var1="tw_check_partition_list" op="!=" var2="1"/>
				<actions>
					<action function="set">partitionlisterror=1</action>
					<action function="page">advancedwipe</action>
				</actions>
			</action>
		</page>

		<page name="partitionoptions">
			<template name="page_n"/>

			<text style="text_l">
				<placement x="%col1_x_header%" y="%row3_header_y%"/>
				<text>{@wipe_hdr=Wipe}</text>
			</text>

			<text style="text_m">
				<placement x="%col1_x_header%" y="%row4_header_y%"/>
				<text>{@part_opt_hdr=Partition Options for: %tw_partition_name%}</text>
			</text>

			<text style="text_m_accent">
				<placement x="%center_x%" y="%row2_y%" placement="5"/>
				<text>{@part_mount_point=Mount Point: %tw_partition_mount_point%}</text>
			</text>

			<text style="text_m_accent">
				<placement x="%center_x%" y="%row3_y%" placement="5"/>
				<text>{@part_curr_fs=File system: %tw_partition_file_system%}</text>
			</text>

			<text style="text_m">
				<condition var1="tw_partition_is_present" var2="1"/>
				<placement x="%indent%" y="%row5_y%"/>
				<text>{@part_present_yes=Present: Yes}</text>
			</text>

			<text style="text_m">
				<condition var1="tw_partition_is_present" var2="0"/>
				<placement x="%indent%" y="%row5_y%"/>
				<text>{@part_present_no=Present: No}</text>
			</text>

			<text style="text_m">
				<condition var1="tw_partition_removable" var2="1"/>
				<placement x="%center_x%" y="%row5_y%"/>
				<text>{@part_removable_yes=Removable: Yes}</text>
			</text>

			<text style="text_m">
				<condition var1="tw_partition_removable" var2="0"/>
				<placement x="%center_x%" y="%row5_y%"/>
				<text>{@part_removable_no=Removable: No}</text>
			</text>

			<text style="text_m">
				<placement x="%indent%" y="%row7_y%"/>
				<text>{@part_size=Size: %tw_partition_size%MB}</text>
			</text>

			<text style="text_m">
				<placement x="%center_x%" y="%row7_y%"/>
				<text>{@part_used=Used: %tw_partition_used%MB}</text>
			</text>

			<text style="text_m">
				<placement x="%indent%" y="%row9_y%"/>
				<text>{@part_free=Free: %tw_partition_free%MB}</text>
			</text>

			<text style="text_m">
				<placement x="%center_x%" y="%row9_y%"/>
				<text>{@part_backup_size=Backup Size: %tw_partition_backup_size%MB}</text>
			</text>

			<button style="main_button_half_height">
				<condition var1="tw_partition_can_resize" op="=" var2="1"/>
				<placement x="%indent%" y="%row18a_y%"/>
				<text>{@resize_btn=Resize File System}</text>
				<actions>
					<action function="set">tw_back=partitionoptions</action>
					<action function="set">tw_action=resize</action>
					<action function="set">tw_action_param=%tw_partition_mount_point%</action>
					<action function="set">tw_has_action2=1</action>
					<action function="set">tw_action2=getpartitiondetails</action>
					<action function="set">tw_action2_param=tw_wipe_list</action>
					<action function="set">tw_text1={@resize_confirm=Resize %tw_partition_name%?}</action>
					<action function="set">tw_text2=</action>
					<action function="set">tw_action_text1={@resizing=Resizing...}</action>
					<action function="set">tw_complete_text1={@resize_complete=Resize Complete}</action>
					<action function="set">tw_slider_text={@swipe_resize=Swipe to Resize}</action>
					<action function="page">confirm_action</action>
				</actions>
			</button>

			<button style="main_button_half_height">
				<condition var1="tw_partition_can_repair" op="=" var2="1"/>
				<placement x="%indent%" y="%row21a_y%"/>
				<text>{@repair_btn=Repair File System}</text>
				<actions>
					<action function="set">tw_back=partitionoptions</action>
					<action function="set">tw_action=repair</action>
					<action function="set">tw_action_param=%tw_partition_mount_point%</action>
					<action function="set">tw_has_action2=0</action>
					<action function="set">tw_text1={@repair_confirm=Repair %tw_partition_name%?}</action>
					<action function="set">tw_text2=</action>
					<action function="set">tw_action_text1={@repairing=Repairing...}</action>
					<action function="set">tw_complete_text1={@repair_complete=Repair Complete}</action>
					<action function="set">tw_slider_text={@swipe_repair=Swipe to Repair}</action>
					<action function="page">confirm_action</action>
				</actions>
			</button>

			<button style="main_button_half_height">
				<placement x="%center_x%" y="%row21a_y%"/>
				<text>{@change_fs_btn=Change File System}</text>
				<action function="page">selectfilesystem</action>
			</button>

			<action>
				<touch key="home"/>
				<action function="page">main2</action>
			</action>

			<action>
				<touch key="back"/>
				<action function="page">advancedwipe</action>
			</action>
		</page>

		<page name="refreshfilesystem">
			<action>
				<condition var1="tw_check_partition_list" op="=" var2="1"/>
				<actions>
					<action function="set">partitionlisterror=0</action>
					<action function="getpartitiondetails">tw_wipe_list</action>
					<action function="page">selectfilesystem</action>
				</actions>
			</action>

			<action>
				<condition var1="tw_check_partition_list" op="!=" var2="1"/>
				<actions>
					<action function="set">partitionlisterror=1</action>
					<action function="set">tw_wipe_list=</action>
					<action function="page">advancedwipe</action>
				</actions>
			</action>
		</page>

		<page name="selectfilesystem">
			<template name="page_n"/>

			<text style="text_l">
				<placement x="%col1_x_header%" y="%row3_header_y%"/>
				<text>{@wipe_hdr=Wipe}</text>
			</text>

			<text style="text_m">
				<placement x="%col1_x_header%" y="%row4_header_y%"/>
				<text>{@change_fs_for_hdr=Change File System for: %tw_partition_name%}</text>
			</text>

			<text style="text_m_accent">
				<placement x="%center_x%" y="%row2_y%" placement="5"/>
				<text>{@part_mount_point=Mount Point: %tw_partition_mount_point%}</text>
			</text>

			<text style="text_m_accent">
				<placement x="%center_x%" y="%row3_y%" placement="5"/>
				<text>{@part_curr_fs=File system: %tw_partition_file_system%}</text>
			</text>

			<text style="text_m_fail">
				<placement x="%center_x%" y="%row5_y%" placement="5"/>
				<text>{@change_fs_warn1=Some ROMs or kernels may not support some}</text>
			</text>

			<text style="text_m_fail">
				<placement x="%center_x%" y="%row6_y%" placement="5"/>
				<text>{@change_fs_warn2=file systems. Proceed with caution!}</text>
			</text>

			<button style="main_button_half_height">
				<condition var1="tw_partition_ext" op="=" var2="1"/>
				<placement x="%indent%" y="%row15a_y%"/>
				<text>EXT2</text>
				<actions>
					<action function="set">tw_back=refreshfilesystem</action>
					<action function="set">tw_action=changefilesystem</action>
					<action function="set">tw_action_param=%tw_partition_mount_point%</action>
					<action function="set">tw_action_new_file_system=ext2</action>
					<action function="set">tw_has_action2=0</action>
					<action function="set">tw_text1={@change_fs_confirm=Change %tw_partition_name%?}</action>
					<action function="set">tw_text2=EXT2</action>
					<action function="set">tw_action_text1={@formatting=Formatting...}</action>
					<action function="set">tw_complete_text1={@format_complete=Format Complete}</action>
					<action function="set">tw_slider_text={@swipe_change_fs=Swipe to Change}</action>
					<action function="page">confirm_action</action>
				</actions>
			</button>

			<button style="main_button_half_height">
				<condition var1="tw_partition_ext" op="=" var2="1"/>
				<placement x="%indent%" y="%row18a_y%"/>
				<text>EXT3</text>
				<actions>
					<action function="set">tw_back=refreshfilesystem</action>
					<action function="set">tw_action=changefilesystem</action>
					<action function="set">tw_action_param=%tw_partition_mount_point%</action>
					<action function="set">tw_action_new_file_system=ext3</action>
					<action function="set">tw_has_action2=0</action>
					<action function="set">tw_text1={@change_fs_confirm=Change %tw_partition_name%?}</action>
					<action function="set">tw_text2=EXT3</action>
					<action function="set">tw_action_text1={@formatting=Formatting...}</action>
					<action function="set">tw_complete_text1={@format_complete=Format Complete}</action>
					<action function="set">tw_slider_text={@swipe_change_fs=Swipe to Change}</action>
					<action function="page">confirm_action</action>
				</actions>
			</button>

			<button style="main_button_half_height">
				<condition var1="tw_partition_ext" op="=" var2="1"/>
				<placement x="%indent%" y="%row21a_y%"/>
				<text>EXT4</text>
				<actions>
					<action function="set">tw_back=refreshfilesystem</action>
					<action function="set">tw_action=changefilesystem</action>
					<action function="set">tw_action_param=%tw_partition_mount_point%</action>
					<action function="set">tw_action_new_file_system=ext4</action>
					<action function="set">tw_has_action2=0</action>
					<action function="set">tw_text1={@change_fs_confirm=Change %tw_partition_name%?}</action>
					<action function="set">tw_text2=EXT4</action>
					<action function="set">tw_action_text1={@formatting=Formatting...}</action>
					<action function="set">tw_complete_text1={@format_complete=Format Complete}</action>
					<action function="set">tw_slider_text={@swipe_change_fs=Swipe to Change}</action>
					<action function="page">confirm_action</action>
				</actions>
			</button>

			<button style="main_button_half_height">
				<condition var1="tw_partition_vfat" op="=" var2="1"/>
				<placement x="%center_x%" y="%row15a_y%"/>
				<text>FAT</text>
				<actions>
					<action function="set">tw_back=refreshfilesystem</action>
					<action function="set">tw_action=changefilesystem</action>
					<action function="set">tw_action_param=%tw_partition_mount_point%</action>
					<action function="set">tw_action_new_file_system=vfat</action>
					<action function="set">tw_has_action2=0</action>
					<action function="set">tw_text1={@change_fs_confirm=Change %tw_partition_name%?}</action>
					<action function="set">tw_text2=FAT</action>
					<action function="set">tw_action_text1={@formatting=Formatting...}</action>
					<action function="set">tw_complete_text1={@format_complete=Format Complete}</action>
					<action function="set">tw_slider_text={@swipe_change_fs=Swipe to Change}</action>
					<action function="page">confirm_action</action>
				</actions>
			</button>

			<button style="main_button_half_height">
				<condition var1="tw_partition_exfat" op="=" var2="1"/>
				<placement x="%center_x%" y="%row18a_y%"/>
				<text>exFAT</text>
				<actions>
					<action function="set">tw_back=refreshfilesystem</action>
					<action function="set">tw_action=changefilesystem</action>
					<action function="set">tw_action_param=%tw_partition_mount_point%</action>
					<action function="set">tw_action_new_file_system=exfat</action>
					<action function="set">tw_has_action2=0</action>
					<action function="set">tw_text1={@change_fs_confirm=Change %tw_partition_name%?}</action>
					<action function="set">tw_text2=exFAT</action>
					<action function="set">tw_action_text1={@formatting=Formatting...}</action>
					<action function="set">tw_complete_text1={@format_complete=Format Complete}</action>
					<action function="set">tw_slider_text={@swipe_change_fs=Swipe to Change}</action>
					<action function="page">confirm_action</action>
				</actions>
			</button>

			<button style="main_button_half_height">
				<condition var1="tw_partition_f2fs" op="=" var2="1"/>
				<placement x="%center_x%" y="%row21a_y%"/>
				<text>F2FS</text>
				<actions>
					<action function="set">tw_back=refreshfilesystem</action>
					<action function="set">tw_action=changefilesystem</action>
					<action function="set">tw_action_param=%tw_partition_mount_point%</action>
					<action function="set">tw_action_new_file_system=f2fs</action>
					<action function="set">tw_has_action2=0</action>
					<action function="set">tw_text1={@change_fs_confirm=Change %tw_partition_name%?}</action>
					<action function="set">tw_text2=F2FS</action>
					<action function="set">tw_action_text1={@formatting=Formatting...}</action>
					<action function="set">tw_complete_text1={@format_complete=Format Complete}</action>
					<action function="set">tw_slider_text={@swipe_change_fs=Swipe to Change}</action>
					<action function="page">confirm_action</action>
				</actions>
			</button>

			<action>
				<touch key="home"/>
				<action function="page">main2</action>
			</action>

			<action>
				<touch key="back"/>
				<action function="page">partitionoptions</action>
			</action>
		</page>

		<page name="backup">
			<template name="page_n"/>
			
			<button style="status_logo">
				<placement x="270" y="40"/>
				<action function="screenshot"/>
			</button>
			
			<template name="fm1"/>

			<text style="text_m">
				<placement x="%indent%" y="277"/>
				<text>{@storage_hdr=Storage: %tw_storage_display_name% (%tw_storage_free_size% MB)}</text>
			</text>
			
			<button>
				<placement x="864" y="210"/>
				<image resource="fab_selectfolder"/>
				<action function="overlay">backup_menu</action>
			</button>
			
			<template name="fm2"/>

			<text style="text_m_fail">
				<placement x="%indent%" y="410"/>
				<text>{@name=Name:}</text>
			</text>

			<text style="text_m">
				<placement x="%indent%" y="464"/>
				<text>%tw_backup_name%</text>
			</text>

			<fill color="%fileselector_linecolor%">
				<placement x="%indent%" y="508" w="%content_width%" h="input_line_width"/>
			</fill>

			<button>
				<condition var1="tw_enable_adb_backup" op="!=" var2="1"/>
				<placement x="indent" y="410" w="%content_width%" h="%navbar_height%"/>
				<fill color="%transparent%"/>
				<actions>
					<action function="set">tw_fileexists=0</action>
					<action function="page">backupname1</action>
				</actions>
			</button>
			
			<text style="text_m_fail">
				<placement x="%indent%" y="590"/>
				<text>{@sel_part_backup=Select Partitions to Backup:}</text>
			</text>
			
			<partitionlist>
				<placement x="%indent%" y="602" w="%content_width%" h="625"/>
				<data name="tw_backup_list"/>
				<listtype name="backup"/>
			</partitionlist>
			
			<button style="main_button_half_height">
				<condition var1="tw_enable_adb_backup" op="!=" var2="1"/>
				<placement x="%indent%" y="1578"/>
				<text>{@select_storage_btn=Select Storage}</text>
				<actions>
					<action function="set">tw_back=backup</action>
					<action function="overlay">select_storage</action>
				</actions>
			</button>

			<button style="main_button_half_height">
				<placement x="%center_x%" y="1578"/>
				<text>{@backup_confirm_btn=Backup Confirm}</text>
				<action function="overlay">backup_page</action>
			</button>

			<action>
				<touch key="home"/>
				<action function="page">main2</action>
			</action>

			<action>
				<touch key="back"/>
				<action function="page">main2</action>
			</action>
		</page>
		
		<page name="backup_menu">
			<background color="%lightransparent%"/>
			
			<button>
				<fill color="%transparent%"/>
				<placement x="0" y="0" w="%screen_width%" h="%screen_height%"/>
				<action function="overlay"/>
			</button>

			<button style="button_third_width">
				<text>{@tab_backup=BACKUP}</text>
				<placement x="768" y="400"/>
				<actions>
					<action function="page">backup</action>
					<action function="overlay"/>
				</actions>
			</button>
			
			<button style="button_third_width">
				<conditions>
					<condition var1="tw_include_encrypted_backup" var2="1"/>
					<condition var1="tw_encrypt_backup" var2="0"/>
					<condition var1="tw_enable_adb_backup" op="!=" var2="1"/>
				</conditions>
				<text>{@encryption_tab=ENCRYPTION}</text>'
				<placement x="768" y="528"/>
				<actions>
					<action function="set">tw_password_not_match=0</action>
					<action function="page">backupencryption</action>
					<action function="overlay"/>
				</actions>
			</button>
			
			<button style="button_third_width">
				<conditions>
					<condition var1="tw_include_encrypted_backup" var2="1"/>
					<condition var1="tw_encrypt_backup" var2="1"/>
					<condition var1="tw_enable_adb_backup" op="!=" var2="1"/>
				</conditions>
				<text>{@encryption_tab=ENCRYPTION}</text>'
				<placement x="768" y="528"/>
				<actions>
					<action function="set">tw_password_not_match=0</action>
					<action function="page">backupencryption</action>
					<action function="overlay"/>
				</actions>
			</button>
			
			<button style="button_third_width">
				<text>{@tab_options=OPTIONS}</text>
				<placement x="768" y="656"/>
				<actions>
					<action function="page">backup_options</action>
					<action function="overlay"/>
				</actions>
			</button>
			
			<action>
				<touch key="power+voldown" />
				<action function="screenshot" />
			</action>
		</page>
		
		<page name="backup_page">
			<background color="%lightransparent%"/>

			<fill color="%about_back%">
				<placement x="101" y="635" w="869" h="673"/>
			</fill>
			
			<fill color="%dialog_front%">
				<placement x="112" y="645" w="849" h="653"/>
			</fill>
			
			<fill color="%dialog_front%">
				<placement x="112" y="645" w="849" h="653"/>
			</fill>

			<text style="text_m">
				<placement x="192" y="706"/>
				<text>{@backup_confirm_btn=Backup Confirm}</text>
			</text>

			<text style="text_m">
				<placement x="192" y="832"/>
				<text>{@backup_confirm_btn1=New backup will created}</text>
			</text>

			<text style="text_m">
				<placement x="192" y="892"/>
				<text>{@backup_confirm_btn2=Confirm or Cancel the action.}</text>
			</text>

			<button style="button_dialog">
				<placement x="380" y="1129"/>
				<text>{@cancel=CANCEL}</text>
				<action function="overlay"/>
				<action function="page">backup</action>
			</button>

			<button style="button_dialog_hl">
				<placement x="644" y="1129"/>
				<text>{@backup_confirm_btn3=BACKUP}</text>
				<action function="overlay"/>
				<action function="page">backup_run</action>
			</button>

			<action>
				<touch key="power+voldown"/>
				<action function="screenshot"/>
			</action>
		</page>

		<page name="backup_options">
			<template name="page_n"/>
			
			<button style="status_logo">
				<placement x="270" y="40"/>
				<action function="screenshot"/>
			</button>
			
			<template name="fm1"/>
			
			<text style="text_m">
				<placement x="%indent%" y="277"/>
				<text>{@storage_hdr=Storage: %tw_storage_display_name% (%tw_storage_free_size% MB)}</text>
			</text>

			<button>
				<placement x="864" y="210"/>
				<image resource="fab_selectfolder"/>
				<action function="overlay">backup_menu</action>
			</button>

			<checkbox>
				<placement x="%indent%" y="%row3a_y%"/>
				<text>{@enable_backup_comp_chk=Enable compression}</text>
				<data variable="tw_use_compression"/>
			</checkbox>

			<checkbox>
				<placement x="%indent%" y="%row5_y%"/>
				<text>{@skip_digest_backup_chk=Skip Digest generation during backup}</text>
				<data variable="tw_skip_digest_generate"/>
			</checkbox>

			<checkbox>
				<placement x="%indent%" y="%row6a_y%"/>
				<text>{@disable_backup_space_chk=Disable Free Space Check}</text>
				<data variable="tw_disable_free_space"/>
			</checkbox>
			
			<text style="text_m">
				<condition var1="tw_has_boot_slots" var2="1"/>
				<placement x="%center_x%" y="%row17_y%" placement="5"/>
				<text>{@current_boot_slot=Current Slot: %tw_active_slot%}</text>
			</text>

			<button style="main_button">
				<condition var1="tw_has_boot_slots" var2="1"/>
				<placement x="%indent%" y="%row19_y%"/>
				<text>{@boot_slot_a=Slot A}</text>
				<actions>
					<action function="set">tw_back=backup_options</action>
					<action function="set">tw_action=setbootslot</action>
					<action function="set">tw_action_param=A</action>
					<action function="set">tw_has_action2=0</action>
					<action function="set">tw_action_text1={@changing_boot_slot=Changing Boot Slot}</action>
					<action function="set">tw_action_text2=</action>
					<action function="set">tw_complete_text1={@changing_boot_slot_complete=Change Boot Slot Complete}</action>
					<action function="page">action_page</action>
				</actions>
			</button>

			<button style="main_button">
				<condition var1="tw_has_boot_slots" var2="1"/>
				<placement x="%center_x%" y="%row19_y%"/>
				<text>{@boot_slot_b=Slot B}</text>
				<actions>
					<action function="set">tw_back=backup_options</action>
					<action function="set">tw_action=setbootslot</action>
					<action function="set">tw_action_param=B</action>
					<action function="set">tw_has_action2=0</action>
					<action function="set">tw_action_text1={@changing_boot_slot=Changing Boot Slot}</action>
					<action function="set">tw_action_text2=</action>
					<action function="set">tw_complete_text1={@changing_boot_slot_complete=Change Boot Slot Complete}</action>
					<action function="page">action_page</action>
				</actions>
			</button>

			<action>
				<touch key="home"/>
				<action function="page">main2</action>
			</action>

			<action>
				<touch key="back"/>
				<action function="page">backup</action>
			</action>
		</page>

		<page name="backupname1">
			<action>
				<condition var1="tw_backup_name" op="=" var2="{@auto_generate=(Auto Generate)}"/>
				<action function="set">tw_backup_name=</action>
				<!--action function="generatebackupname"></action-->
			</action>

			<action>
				<action function="page">backupname2</action>
			</action>
		</page>

		<page name="backupname2">
			<template name="page_n"/>

			<button style="status_logo">
				<placement x="270" y="40"/>
				<action function="screenshot"/>
			</button>
			
			<template name="fm1"/>
			
			<text style="text_m_fail">
				<placement x="%indent%" y="277"/>
				<text>{@storage_hdr=Storage: %tw_storage_display_name% (%tw_storage_free_size% MB)}</text>
			</text>
			
			<button>
				<placement x="864" y="210"/>
				<image resource="fab_selectfolder"/>
				<action function="overlay">sort_menu</action>
			</button>
			
			<fill color="%about_back%">
				<placement x="0" y="400" w="1080" h="160"/>
			</fill>
			
			<fill color="%dialog_front%">
				<placement x="5" y="405" w="1070" h="150"/>
			</fill>
			
			<fill color="%dialog_front%">
				<placement x="5" y="405" w="1070" h="150"/>
			</fill>
			
			<text style="text_m_fail">
				<placement x="%indent%" y="%row3a_y%"/>
				<text>{@name=Name:}</text>
			</text>

			<input>
				<placement x="%indent%" y="%row4_input_y%" w="%content_width2%" h="%input_height%"/>
				<background color="%input_background%"/>
				<text>%tw_backup_name%</text>
				<data name="tw_backup_name"/>
				<restrict minlen="1" maxlen="64" allow=" abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ1234567890-_.{}[]"/>
				<actions>
					<action function="set">tw_filecheck=%tw_backups_folder%/%tw_backup_name%</action>
					<action function="set">tw_existpage=backupname2</action>
					<action function="set">tw_notexistpage=backup</action>
					<action function="page">filecheck</action>
				</actions>
			</input>
			
			<button>
				<placement x="%ab1_btn1_x%" y="470"/>
				<image resource="append_date"/>
				<action function="appenddatetobackupname"/>
			</button>

			<fill color="#FF004B">
				<placement x="%indent%" y="row5a_y" w="%content_width%" h="input_line_width" placement="1"/>
			</fill>

			<fill color="%text_fail_color%">
				<condition var1="tw_fileexists" var2="1"/>
				<placement x="%indent%" y="row5a_y" w="%content_width%" h="input_line_width" placement="1"/>
			</fill>

			<text style="text_m_fail">
				<condition var1="tw_fileexists" var2="1"/>
				<placement x="%indent%" y="%row6_y%"/>
				<text>{@backup_name_exists=A backup with that name already exists!}</text>
			</text>

			<button style="main_button_half_height">
				<placement x="288" y="852"/>
				<text>{@cancel_btn=Cancel}</text>
				<actions>
					<action function="set">tw_backup_name={@auto_generate=(Auto Generate)}</action>
					<action function="page">backup</action>
				</actions>
			</button>

			<template name="keyboardtemplate"/>

			<action>
				<touch key="home"/>
				<actions>
					<action function="set">tw_backup_name={@auto_generate=(Auto Generate)}</action>
					<action function="page">main2</action>
				</actions>
			</action>

			<action>
				<touch key="back"/>
				<actions>
					<action function="set">tw_backup_name={@auto_generate=(Auto Generate)}</action>
					<action function="page">backup</action>
				</actions>
			</action>
		</page>

		<page name="backupencryption">
			<template name="page_n"/>
			
			<button style="status_logo">
				<placement x="270" y="40"/>
				<action function="screenshot"/>
			</button>
			
			<template name="fm1"/>
			
			<text style="text_m">
				<placement x="%indent%" y="277"/>
				<text>{@storage_hdr=Storage: %tw_storage_display_name% (%tw_storage_free_size% MB)}</text>
			</text>

			<button>
				<placement x="864" y="210"/>
				<image resource="fab_selectfolder"/>
				<action function="overlay">backup_menu</action>
			</button>

			<text style="text_m_accent">
				<placement x="%center_x%" y="%row3a_y%" placement="5"/>
				<text>{@encrypt_backup=Encrypt your Backup?}</text>
			</text>

			<text style="text_m">
				<placement x="%center_x%" y="%row5_y%" placement="5"/>
				<text>{@enter_pass=Enter Password:}</text>
			</text>

			<input>
				<placement x="%indent%" y="%row7_y%" w="%content_width%" h="%input_height%"/>
				<background color="%input_background%"/>
				<text>%tw_backup_encrypt_display%</text>
				<data name="tw_backup_password" mask="*" maskvariable="tw_backup_encrypt_display"/>
				<restrict minlen="1" maxlen="32" allow="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ1234567890_"/>
				<action function="page">backupencryption2</action>
			</input>

			<fill color="#FF0000">
				<placement x="%indent%" y="row8_y" w="%content_width%" h="input_line_width" placement="1"/>
			</fill>

			<fill color="%text_fail_color%">
				<condition var1="tw_password_not_match" var2="1"/>
				<placement x="%indent%" y="row8_y" w="%content_width%" h="input_line_width" placement="1"/>
			</fill>

			<text style="text_m_fail">
				<condition var1="tw_password_not_match" var2="1"/>
				<placement x="%indent%" y="%row8a_y%"/>
				<text>{@pass_not_match=Passwords do not match!}</text>
			</text>

			<button style="main_button_half_height">
				<placement x="288" y="852"/>
				<text>{@cancel_btn=Cancel}</text>
				<actions>
					<action function="set">tw_encrypt_backup=0</action>
					<action function="set">tw_backup_password=</action>
					<action function="set">tw_backup_password2=</action>
					<action function="set">tw_backup_encrypt_display=</action>
					<action function="set">tw_backup_encrypt_display2=</action>
					<action function="page">backup</action>
				</actions>
			</button>

			<template name="keyboardtemplate"/>

			<action>
				<touch key="home"/>
				<action function="page">main2</action>
			</action>

			<action>
				<touch key="back"/>
				<action function="page">backup</action>
			</action>
		</page>

		<page name="backupencryption2">
			<template name="page_n"/>

			<button style="status_logo">
				<placement x="270" y="40"/>
				<action function="screenshot"/>
			</button>
			
			<template name="fm1"/>
			
			<text style="text_m">
				<placement x="%indent%" y="277"/>
				<text>{@storage_hdr=Storage: %tw_storage_display_name% (%tw_storage_free_size% MB)}</text>
			</text>
			
			<button>
				<placement x="864" y="210"/>
				<image resource="fab_selectfolder"/>
				<action function="overlay">backup_menu</action>
			</button>

			<text style="text_m_accent">
				<placement x="%center_x%" y="%row3a_y%" placement="5"/>
				<text>{@encrypt_backup=Encrypt your Backup?}</text>
			</text>

			<text style="text_m">
				<placement x="%center_x%" y="%row5_y%" placement="5"/>
				<text>{@enter_pass2=Enter Password again:}</text>
			</text>

			<input>
				<placement x="%indent%" y="%row7_y%" w="%content_width%" h="%input_height%"/>
				<background color="%input_background%"/>
				<text>%tw_backup_encrypt_display2%</text>
				<data name="tw_backup_password2" mask="*" maskvariable="tw_backup_encrypt_display2"/>
				<restrict minlen="1" maxlen="32" allow="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ1234567890_"/>
				<action function="page">checkbackuppassword</action>
			</input>

			<fill color="#FF0000">
				<placement x="%indent%" y="row8_y" w="%content_width%" h="input_line_width" placement="1"/>
			</fill>

			<button style="main_button_half_height">
				<placement x="%center_x%" y="%row10_y%"/>
				<text>{@cancel_btn=Cancel}</text>
				<actions>
					<action function="set">tw_encrypt_backup=0</action>
					<action function="set">tw_backup_password=</action>
					<action function="set">tw_backup_password2=</action>
					<action function="set">tw_backup_encrypt_display=</action>
					<action function="set">tw_backup_encrypt_display2=</action>
					<action function="page">backup</action>
				</actions>
			</button>

			<template name="keyboardtemplate"/>

			<action>
				<touch key="home"/>
				<action function="page">main2</action>
			</action>

			<action>
				<touch key="back"/>
				<action function="page">backup</action>
			</action>
		</page>

		<page name="checkbackuppassword">
			<action>
				<condition var1="tw_backup_password2" var2="tw_backup_password"/>
				<actions>
					<action function="set">tw_encrypt_backup=1</action>
					<action function="page">backup</action>
				</actions>
			</action>

			<action>
				<condition var1="tw_backup_password2" op="!=" var2="tw_backup_password"/>
				<actions>
					<action function="set">tw_encrypt_backup=0</action>
					<action function="set">tw_password_not_match=1</action>
					<action function="set">tw_backup_password=</action>
					<action function="set">tw_backup_password2=</action>
					<action function="set">tw_backup_encrypt_display=</action>
					<action function="set">tw_backup_encrypt_display2=</action>
					<action function="page">backupencryption</action>
				</actions>
			</action>
		</page>

		<page name="backup_run">
			<template name="page_n"/>
			
			<button style="status_logo">
				<placement x="270" y="40"/>
				<action function="screenshot"/>
			</button>
			
			<fill color="%about_back%">
				<placement x="0" y="250" w="1080" h="155"/>
			</fill>
			
			<fill color="%dialog_front%">
				<placement x="5" y="255" w="1070" h="145"/>
			</fill>
			
			<text style="text_l">
				<placement x="15" y="270"/>
				<text>%tw_operation%</text>
			</text>

			<text style="text_m_fail">
				<placement x="15" y="330"/>
				<text>%tw_partition% Partition</text>
			</text>

			<console>
				<placement x="%indent%" y="440" w="%content_width%" h="980"/>
			</console>
			
			<template name="progress_bar_backup"/>
			
			<text style="text_m_accent">
				<placement x="%indent%" y="%row21a_y%"/>
				<text>{@progress=Progress:}</text>
			</text>

			<text style="text_m">
				<placement x="%indent%" y="%row22a_y%"/>
				<text>%tw_file_progress%</text>
			</text>

			<text style="text_m">
				<placement x="%indent%" y="%row23a_y%"/>
				<text>%tw_size_progress%</text>
			</text>

			<button style="main_button_half_height">
				<placement x="%center_x%" y="%row21a_y%"/>
				<text>{@cancel_btn=Cancel}</text>
				<action function="cancelbackup"/>
			</button>

			<action>
				<action function="nandroid">backup</action>
			</action>

			<action>
				<condition var1="tw_operation_state" var2="1"/>
				<condition var1="tw_cancel_backup" var2="0"/>
				<actions>
					<action function="set">tw_back=backup</action>
					<action function="set">tw_complete_text1={@backup_complete=Backup Complete}</action>
					<action function="set">tw_show_reboot=1</action>
					<action function="page">action_complete</action>
				</actions>
			</action>

			<action>
				<condition var1="tw_operation_state" var2="1"/>
				<condition var1="tw_cancel_backup" var2="1"/>
				<actions>
					<action function="set">tw_back=backup</action>
					<action function="set">tw_complete_text1={@backup_cancel=Backup Cancelled}</action>
					<action function="set">tw_show_reboot=1</action>
					<action function="page">action_complete</action>
				</actions>
			</action>
		</page>

		<page name="restore">
			<template name="page_n"/>

			<button style="status_logo">
				<placement x="270" y="40"/>
				<action function="screenshot"/>
			</button>
			
			<template name="fm1"/>
			
			<text style="text_m_fail">
				<placement x="%indent%" y="277"/>
				<text>{@restore_sel_pack_fs=Select Package to Restore:}</text>
			</text>

			<button>
				<placement x="864" y="210"/>
				<image resource="fab_selectfolder"/>
				<action function="overlay">sort_menu</action>
			</button>
			
			<template name="fm2"/>
			
			<fileselector>
				<placement x="%indent%" y="400" w="%content_width%" h="1170"/>
				<filter folders="1" files="1" nav="0" extn=".ab"/>
				<path name="tw_backups_folder"/>
				<data name="tw_restore" default=""/>
				<selection name="tw_restore_name"/>
			</fileselector>

			<button style="main_button_half_height">
				<placement x="%indent%" y="1578"/>
				<text>{@select_storage_btn=Select Storage}</text>
				<actions>
					<action function="set">tw_back=restore</action>
					<action function="overlay">select_storage</action>
				</actions>
			</button>

			<action>
				<condition var1="tw_restore" op="modified"/>
				<actions>
					<action function="readBackup"/>
					<action function="page">restore_read</action>
				</actions>
			</action>

			<action>
				<touch key="home"/>
				<action function="page">main2</action>
			</action>

			<action>
				<touch key="back"/>
				<action function="page">main2</action>
			</action>
		</page>

		<page name="restore_read">
			<action>
				<condition var1="tw_restore_encrypted" var2="1"/>
				<actions>
					<action function="set">tw_password_fail=0</action>
					<action function="page">restore_decrypt</action>
				</actions>
			</action>

			<action>
				<condition var1="tw_restore_encrypted" var2="0"/>
				<actions>
					<action function="page">restore_select</action>
				</actions>
			</action>
		</page>

		<page name="restore_decrypt">
			<template name="page_n"/>

			<text style="text_l">
				<placement x="%col1_x_header%" y="%row3_header_y%"/>
				<text>{@restore_hdr=Restore}</text>
			</text>

			<text style="text_m">
				<placement x="%col1_x_header%" y="%row4_header_y%"/>
				<text>{@restore_enc_backup_hdr=Encrypted Backup}</text>
			</text>

			<text style="text_m_accent">
				<placement x="%center_x%" y="%row2_y%" placement="5"/>
				<text>{@enter_pass=Enter Password:}</text>
			</text>

			<input>
				<placement x="%indent%" y="%row3_input_y%" w="%content_width%" h="%input_height%"/>
				<background color="%input_background%"/>
				<text>%tw_restore_display%</text>
				<data name="tw_restore_password" mask="*" maskvariable="tw_restore_display"/>
				<restrict minlen="1" maxlen="32" allow="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ1234567890_"/>
				<action function="page">try_restore_decrypt</action>
			</input>

			<fill color="#FF0000">
				<placement x="%indent%" y="row4a_y" w="%content_width%" h="input_line_width" placement="1"/>
			</fill>

			<fill color="%text_fail_color%">
				<condition var1="tw_password_fail" var2="1"/>
				<placement x="%indent%" y="row4a_y" w="%content_width%" h="input_line_width" placement="1"/>
			</fill>

			<text style="text_m_fail">
				<condition var1="tw_password_fail" var2="1"/>
				<placement x="%indent%" y="%row5_y%"/>
				<text>{@restore_dec_fail=Password failed, please try again!}</text>
			</text>

			<button style="main_button_half_height">
				<placement x="%indent%" y="%row10_y%"/>
				<text>{@cancel_btn=Cancel}</text>
				<actions>
					<action function="set">tw_page_done=1</action>
					<action function="page">restore</action>
				</actions>
			</button>

			<button style="main_button_half_height">
				<placement x="%center_x%" y="%row10_y%"/>
				<text>{@del_backup_btn=Delete Backup}</text>
				<actions>
					<action function="set">tw_back=restore</action>
					<action function="set">tw_action=cmd</action>
					<action function="set">tw_action_param=cd %tw_backups_folder% &amp;&amp; rm -rf "%tw_restore_name%"</action>
					<action function="set">tw_text1={@del_backup_confirm=Delete Backup?}</action>
					<action function="set">tw_text2=%tw_restore_name%</action>
					<action function="set">tw_text4={@del_backup_confirm2=This cannot be undone!}</action>
					<action function="set">tw_action_text1={@deleting_backup=Deleting Backup...}</action>
					<action function="set">tw_complete_text1={@backup_deleted=Backup Delete Complete}</action>
					<action function="set">tw_slider_text={@swipe_delete=Swipe to Delete}</action>
					<action function="page">confirm_action</action>
				</actions>
			</button>

			<template name="keyboardtemplate"/>

			<action>
				<touch key="home"/>
				<action function="page">main2</action>
			</action>

			<action>
				<touch key="back"/>
				<action function="page">restore</action>
			</action>
		</page>

		<page name="try_restore_decrypt">
			<template name="page_n"/>

			<text style="text_l">
				<placement x="%col1_x_header%" y="%row3_header_y%"/>
				<text>{@restore_hdr=Restore}</text>
			</text>

			<text style="text_m">
				<placement x="%col1_x_header%" y="%row4_header_y%"/>
				<text>{@restore_try_decrypt=Encrypted Backup - Trying Decryption}</text>
			</text>

			<template name="console"/>

			<template name="progress_bar"/>

			<action>
				<action function="decrypt_backup"/>
			</action>

			<action>
				<conditions>
					<condition var1="tw_operation_state" var2="1"/>
					<condition var1="tw_operation_status" op="!=" var2="0"/>
				</conditions>
				<actions>
					<action function="set">tw_password_fail=1</action>
					<action function="page">restore_decrypt</action>
				</actions>
			</action>

			<action>
				<conditions>
					<condition var1="tw_operation_state" var2="1"/>
					<condition var1="tw_operation_status" op="=" var2="0"/>
				</conditions>
				<actions>
					<action function="set">tw_page_done=1</action>
					<action function="page">restore_select</action>
				</actions>
			</action>
		</page>

		<page name="restore_select">
			<template name="page_n"/>

			<button style="status_logo">
				<placement x="270" y="40"/>
				<action function="screenshot"/>
			</button>
			
			<template name="fm1"/>

			<text style="text_m_fail">
				<placement x="%indent%" y="277"/>
				<text>%tw_restore_name%</text>
			</text>

			<fill color="%fileselector_linecolor%">
				<placement x="%indent%" y="280" w="%content_width%" h="input_line_width"/>
			</fill>

			<button>
				<placement x="indent" y="%row2_y%" w="%content_width%" h="%navbar_height%"/>
				<fill color="%transparent%"/>
				<actions>
					<action function="set">tw_backup_rename=%tw_restore_name%</action>
					<action function="set">tw_fileexists=0</action>
					<action function="page">renamebackup</action>
				</actions>
			</button>
			
			<template name="fm2"/>
			
			<text style="text_m_fail">
				<placement x="%indent%" y="415"/>
				<text>{@restore_sel_part=Select Partitions to Restore:}</text>
			</text>

			<partitionlist>
				<placement x="%indent%" y="%row4_y%" w="%content_width%" h="%partitionlist_backup_height%"/>
				<data name="tw_restore_list" selectedlist="tw_restore_selected"/>
				<listtype name="restore"/>
			</partitionlist>

			<checkbox>
				<condition var1="tw_enable_adb_backup" op="=" var2="0"/>
				<placement x="%indent%" y="%row17_y%"/>
				<text>{@restore_enable_digest_chk=Enable Digest Verification of Backup Files}</text>
				<data variable="tw_skip_digest_check"/>
			</checkbox>

			<button style="main_button_half_height">
				<placement x="%indent%" y="1578"/>
				<text>{@del_backup_btn=Delete Backup}</text>
				<actions>
					<action function="set">tw_back=restore</action>
					<action function="set">tw_action=cmd</action>
					<action function="set">tw_action_param=cd %tw_backups_folder% &amp;&amp; rm -rf "%tw_restore_name%"</action>
					<action function="set">tw_text1={@del_backup_confirm=Delete Backup?}</action>
					<action function="set">tw_text2=%tw_restore_name%</action>
					<action function="set">tw_text4={@del_backup_confirm2=This cannot be undone!}</action>
					<action function="set">tw_action_text1={@deleting_backup=Deleting Backup...}</action>
					<action function="set">tw_complete_text1={@backup_deleted=Backup Delete Complete}</action>
					<action function="set">tw_slider_text={@swipe_delete=Swipe to Delete}</action>
					<action function="overlay">delete_confirm</action>
				</actions>
			</button>
			
			<button style="main_button_half_height">
				<placement x="%center_x%" y="1578"/>
				<text>{@restore_confirm_btn=Restore Confirm}</text>
				<action function="overlay">restore_page</action>
			</button>

			<action>
				<touch key="home"/>
				<action function="page">main2</action>
			</action>

			<action>
				<touch key="back"/>
				<action function="page">restore</action>
			</action>
		</page>
		
		<page name="delete_confirm">
			<background color="%lightransparent%"/>

			<fill color="%about_back%">
				<placement x="101" y="635" w="869" h="673"/>
			</fill>
			
			<fill color="%dialog_front%">
				<placement x="112" y="645" w="849" h="653"/>
			</fill>
			
			<fill color="%dialog_front%">
				<placement x="112" y="645" w="849" h="653"/>
			</fill>

			<text style="text_m">
				<placement x="192" y="706"/>
				<text>{@confirm_delete=Confirm Delete}</text>
			</text>

			<text style="text_m">
				<placement x="192" y="832"/>
				<text>{@confirm_delete1=Confirm your delete selection}</text>
			</text>

			<text style="text_m">
				<placement x="192" y="892"/>
				<text>{@confirm_delete2=Confirm or Cancel the action.}</text>
			</text>

			<button style="button_dialog">
				<placement x="380" y="1129"/>
				<text>{@cancel=CANCEL}</text>
				<action function="overlay"/>
				<action function="page">restore</action>
			</button>

			<button style="button_dialog_hl">
				<placement x="644" y="1129"/>
				<text>{@confirm_delete3=DELETE}</text>
				<action function="overlay"/>
				<action function="page">action_page</action>
			</button>

			<action>
				<touch key="power+voldown"/>
				<action function="screenshot"/>
			</action>
		</page>
		
		<page name="restore_page">
			<background color="%lightransparent%"/>

			<fill color="%about_back%">
				<placement x="101" y="635" w="869" h="673"/>
			</fill>
			
			<fill color="%dialog_front%">
				<placement x="112" y="645" w="849" h="653"/>
			</fill>
			
			<fill color="%dialog_front%">
				<placement x="112" y="645" w="849" h="653"/>
			</fill>

			<text style="text_m">
				<placement x="192" y="706"/>
				<text>{@restore_action=Restore Action}</text>
			</text>

			<text style="text_m">
				<placement x="192" y="832"/>
				<text>{@restore_action1=Confirm your restore selection}</text>
			</text>

			<text style="text_m">
				<placement x="192" y="892"/>
				<text>{@restore_action2=Confirm or Cancel the action.}</text>
			</text>

			<button style="button_dialog">
				<placement x="380" y="1129"/>
				<text>{@cancel=CANCEL}</text>
				<action function="overlay"/>
				<action function="page">restore</action>
			</button>

			<button style="button_dialog_hl">
				<placement x="644" y="1129"/>
				<text>{@restore=RESTORE}</text>
				<action function="overlay"/>
				<action function="page">restore_run</action>
			</button>

			<action>
				<touch key="power+voldown"/>
				<action function="screenshot"/>
			</action>
		</page>

		<page name="renamebackup">
			<template name="page_n"/>

			<button style="status_logo">
				<placement x="270" y="40"/>
				<action function="screenshot"/>
			</button>

			<text style="text_m_accent">
				<placement x="%indent%" y="%row2_y%"/>
				<text>{@name=Name:}</text>
			</text>

			<input>
				<placement x="%indent%" y="%row2_input_y%" w="%content_width%" h="%input_height%"/>
				<background color="%input_background%"/>
				<text>%tw_backup_rename%</text>
				<data name="tw_backup_rename"/>
				<restrict minlen="1" maxlen="64" allow=" abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ1234567890-_.{}[]"/>
				<actions>
					<action function="set">tw_back=restore</action>
					<action function="set">tw_action=cmd</action>
					<action function="set">tw_action_param=cd %tw_backups_folder% &amp;&amp; mv "%tw_restore_name%" "%tw_backup_rename%"</action>
					<action function="set">tw_text1={@rename_backup_confirm=Rename Backup?}</action>
					<action function="set">tw_text2={@rename_backup_confirm2=This cannot be undone!}</action>
					<action function="set">tw_action_text1={@renaming_backup=Renaming Backup...}</action>
					<action function="set">tw_complete_text1={@rename_backup_complete=Backup Rename Complete}</action>
					<action function="set">tw_slider_text={@swipe_to_rename=Swipe to Rename}</action>
					<action function="set">tw_filecheck=%tw_backups_folder%/%tw_backup_rename%</action>
					<action function="set">tw_existpage=renamebackup</action>
					<action function="set">tw_notexistpage=confirm_action</action>
					<action function="page">filecheck</action>
				</actions>
			</input>

			<fill color="#FF0000">
				<placement x="%indent%" y="row4_y" w="%content_width%" h="input_line_width" placement="1"/>
			</fill>

			<fill color="%text_fail_color%">
				<condition var1="tw_fileexists" var2="1"/>
				<placement x="%indent%" y="row4_y" w="%content_width%" h="input_line_width" placement="1"/>
			</fill>

			<text style="text_m_fail">
				<condition var1="tw_fileexists" var2="1"/>
				<placement x="%indent%" y="%row4a_y%"/>
				<text>{@backup_name_exists=A backup with that name already exists!}</text>
			</text>

			<button style="main_button_half_height">
				<placement x="%indent%" y="%row10_y%"/>
				<text>{@cancel_btn=Cancel}</text>
				<action function="page">restore_select</action>
			</button>

			<template name="keyboardtemplate"/>

			<action>
				<touch key="home"/>
				<action function="page">main2</action>
			</action>

			<action>
				<touch key="back"/>
				<action function="page">restore_select</action>
			</action>
		</page>

		<page name="restore_run">
			<template name="page_n"/>

			<text style="text_l">
				<placement x="350" y="50"/>
				<text>{@restore_hdr=Restore}</text>
			</text>

			<text style="text_m">
				<placement x="350" y="120"/>
				<text>%tw_operation% %tw_partition%</text>
			</text>

			<template name="console"/>

			<template name="progress_bar"/>

			<text style="text_m_accent">
				<placement x="%indent%" y="%row21a_y%"/>
				<text>{@progress=Progress:}</text>
			</text>

			<text style="text_m">
				<placement x="%indent%" y="%row22a_y%"/>
				<text>%tw_size_progress%</text>
			</text>

			<action>
				<condition var1="tw_operation_state" var2="1"/>
				<actions>
					<action function="set">tw_back=restore_select</action>
					<action function="set">tw_complete_text1={@restore_complete=Restore Complete}</action>
					<action function="set">tw_show_reboot=1</action>
					<action function="page">action_complete</action>
				</actions>
			</action>

			<action>
				<action function="nandroid">restore</action>
			</action>
		</page>

		<page name="mount">
			<template name="page_n"/>
			
			<button style="status_logo">
				<placement x="270" y="40"/>
				<action function="screenshot"/>
			</button>
			
			<template name="fm1"/>

			<text style="text_m_fail">
				<placement x="%indent%" y="277"/>
				<text>{@storage_hdr=Storage: %tw_storage_display_name% (%tw_storage_free_size% MB)}</text>
			</text>
			
			<template name="fm2"/>
			
			<text style="text_m_fail">
				<placement x="%indent%" y="415"/>
				<text>{@mount_sel_part=Select Partitions to Mount:}</text>
			</text>
			
			<partitionlist>
				<placement x="%indent%" y="380" w="%content_width%" h="%partitionlist_mount_height%"/>
				<listtype name="mount"/>
			</partitionlist>

			<button style="checkbox">
				<condition var1="tw_mount_system_ro" op="=" var2="0"/>
				<placement x="%indent%" y="1470" textplacement="6"/>
				<text>{@mount_sys_ro_chk=Mount system partition read-only}</text>
				<image resource="checkbox_false"/>
				<action function="mountsystemtoggle">1</action>
			</button>

			<button style="checkbox">
				<condition var1="tw_mount_system_ro" op="!=" var2="0"/>
				<placement x="%indent%" y="1500" textplacement="6"/>
				<text>{@mount_sys_ro_chk=Mount system partition read-only}</text>
				<image resource="checkbox_true"/>
				<actions>
					<action function="set">tw_lifetime_writes=2</action>
					<action function="page">system_readonly_check</action>
				</actions>
			</button>

			<button style="main_button_half_height">
				<condition var1="tw_has_usb_storage" var2="1"/>
				<placement x="%indent%" y="%row18a_y%"/>
				<text>{@mount_usb_storage_btn=Mount USB Storage}</text>
				<action function="page">usb_mount</action>
			</button>

			<button style="main_button_half_height">
				<conditions>
					<condition var1="tw_is_encrypted" var2="1"/>
					<condition var1="tw_is_decrypted" var2="0"/>
				</conditions>
				<placement x="%center_x%" y="%row18a_y%"/>
				<text>{@decrypt_data_btn=Decrypt Data}</text>
				<action function="page">decrypt</action>
			</button>

			<button style="main_button_half_height">
				<placement x="%indent%" y="1578"/>
				<text>{@select_storage_btn=Select Storage}</text>
				<actions>
					<action function="set">tw_back=mount</action>
					<action function="overlay">select_storage</action>
				</actions>
			</button>

			<button style="main_button_half_height">
				<conditions>
					<condition var1="tw_has_mtp" var2="1"/>
					<condition var1="tw_mtp_enabled" var2="0"/>
				</conditions>
				<placement x="%center_x%" y="1578"/>
				<text>{@enable_mtp_btn=Enable MTP}</text>
				<action function="startmtp"/>
			</button>

			<button style="main_button_half_height">
				<conditions>
					<condition var1="tw_has_mtp" var2="1"/>
					<condition var1="tw_mtp_enabled" var2="1"/>
				</conditions>
				<placement x="%center_x%" y="1578"/>
				<text>{@disable_mtp_btn=Disable MTP}</text>
				<action function="stopmtp"/>
			</button>

			<action>
				<touch key="home"/>
				<action function="page">main2</action>
			</action>

			<action>
				<touch key="back"/>
				<action function="page">main2</action>
			</action>
		</page>

		<page name="usb_mount">
			<template name="page_n"/>

			<text style="text_l">
				<placement x="%col1_x_header%" y="%row3_header_y%"/>
				<text>{@mount_hdr=Mount}</text>
			</text>

			<text style="text_m">
				<placement x="%col1_x_header%" y="%row4_header_y%"/>
				<text>{@usb_storage_hdr=USB Storage}</text>
			</text>

			<text style="text_m_accent">
				<placement x="%center_x%" y="%row2_y%" placement="5"/>
				<text>{@usb_stor_mnt1=USB Storage Mounted}</text>
			</text>

			<text style="text_m">
				<placement x="%center_x%" y="%row4_y%" placement="5"/>
				<text>{@usb_stor_mnt2=Be sure to safely remove your device}</text>
			</text>

			<text style="text_m">
				<placement x="%center_x%" y="%row5_y%" placement="5"/>
				<text>{@usb_stor_mnt3=from your computer before unmounting!}</text>
			</text>

			<button style="main_button_half_height">
				<placement x="%indent%" y="%row21a_y%"/>
				<text>{@unmount_btn=Unmount}</text>
				<action function="page">usb_umount</action>
			</button>

			<action>
				<action function="mount">usb</action>
				<action function="set">tw_busy=1</action>
			</action>
		</page>

		<page name="usb_umount">
			<action>
				<action function="unmount">usb</action>
			</action>

			<action>
				<action function="page">mount</action>
				<action function="set">tw_busy=0</action>
			</action>
		</page>

		<page name="system_readonly_check">
			<action>
				<action function="checkpartitionlifetimewrites">/system</action>
			</action>

			<action>
				<condition var1="tw_lifetime_writes" var2="1"/>
				<actions>
					<action function="mountsystemtoggle">0</action>
					<action function="page">mount</action>
				</actions>
			</action>

			<action>
				<condition var1="tw_lifetime_writes" var2="0"/>
				<actions>
					<action function="set">tw_back=mount</action>
					<action function="page">system_readonly</action>
				</actions>
			</action>
		</page>

		<page name="reboot">
			<template name="page_n"/>
			
			<button style="status_logo">
				<placement x="270" y="40"/>
				<action function="screenshot"/>
			</button>
			
			<button style="main_button_n">
				<condition var1="tw_reboot_system" var2="1"/>
				<placement x="%indent_main_button%" y="260"/>
				<text>{@rb_system_btn=System}</text>
				<actions>
					<action function="set">tw_back=reboot</action>
					<action function="page">reboot_system_routine</action>
				</actions>
			</button>

			<button style="main_button_n">
				<condition var1="tw_reboot_poweroff" var2="1"/>
				<placement x="%indent_main_button%" y="410"/>
				<text>{@rb_poweroff_btn=Power Off}</text>
				<actions>
					<action function="set">tw_back=reboot</action>
					<action function="set">tw_action=reboot</action>
					<action function="set">tw_action_param=poweroff</action>
					<action function="set">tw_reboot_param=poweroff</action>
					<action function="set">tw_has_action2=0</action>
					<action function="set">tw_text1={@no_os1=No OS Installed! Are you}</action>
					<action function="set">tw_text2={@no_ospo=sure you wish to power off?}</action>
					<action function="set">tw_action_text1={@turning_off=Turning Off...}</action>
					<action function="set">tw_complete_text1={@turning_off=Turning Off...}</action>
					<action function="set">tw_slider_text={@swipe_power_off=Swipe to Power Off}</action>
					<action function="page">rebootcheck</action>
				</actions>
			</button>

			<button style="main_button_n">
				<condition var1="tw_reboot_recovery" var2="1"/>
				<placement x="%indent_main_button%" y="560"/>
				<text>{@rb_recovery_btn=Recovery}</text>
				<actions>
					<action function="set">tw_back=reboot</action>
					<action function="set">tw_action=reboot</action>
					<action function="set">tw_action_param=recovery</action>
					<action function="set">tw_reboot_param=recovery</action>
					<action function="set">tw_has_action2=0</action>
					<action function="set">tw_text1={@no_os1=No OS Installed! Are you}</action>
					<action function="set">tw_text2={@no_osrb=sure you wish to reboot?}</action>
					<action function="set">tw_action_text1={@rebooting=Rebooting...}</action>
					<action function="set">tw_complete_text1={@rebooting=Rebooting...}</action>
					<action function="set">tw_slider_text={@swipe_reboot=Swipe to Reboot}</action>
					<action function="page">rebootcheck</action>
				</actions>
			</button>

			<button style="main_button_n">
				<condition var1="tw_reboot_bootloader" var2="1"/>
				<placement x="%indent_main_button%" y="710"/>
				<text>{@rb_bootloader_btn=Bootloader}</text>
				<actions>
					<action function="set">tw_back=reboot</action>
					<action function="set">tw_action=reboot</action>
					<action function="set">tw_action_param=bootloader</action>
					<action function="set">tw_reboot_param=bootloader</action>
					<action function="set">tw_has_action2=0</action>
					<action function="set">tw_text1={@no_os1=No OS Installed! Are you}</action>
					<action function="set">tw_text2={@no_osrb=sure you wish to reboot?}</action>
					<action function="set">tw_action_text1={@rebooting=Rebooting...}</action>
					<action function="set">tw_complete_text1={@rebooting=Rebooting...}</action>
					<action function="set">tw_slider_text={@swipe_reboot=Swipe to Reboot}</action>
					<action function="page">rebootcheck</action>
				</actions>
			</button>

			<button style="main_button_n">
				<placement x="%indent_main_button%" y="860"/>
				<text>{@reload_theme_btn=Reload Theme}</text>
				<action function="overlay"/>
				<action function="page">reload_theme</action>
			</button>
			
			
			<button style="main_button">
				<condition var1="tw_download_mode" var2="1"/>
				<placement x="%indent_main_button%" y="1160"/>
				<text>{@rb_download_btn=Download}</text>
				<actions>
					<action function="set">tw_back=reboot</action>
					<action function="set">tw_action=reboot</action>
					<action function="set">tw_action_param=download</action>
					<action function="set">tw_reboot_param=download</action>
					<action function="set">tw_has_action2=0</action>
					<action function="set">tw_text1={@no_os1=No OS Installed! Are you}</action>
					<action function="set">tw_text2={@no_osrb=sure you wish to reboot?}</action>
					<action function="set">tw_action_text1={@rebooting=Rebooting...}</action>
					<action function="set">tw_complete_text1={@rebooting=Rebooting...}</action>
					<action function="set">tw_slider_text={@swipe_reboot=Swipe to Reboot}</action>
					<action function="page">rebootcheck</action>
				</actions>
			</button>
			
			<button style="main_button">
				<condition var1="tw_has_boot_slots" var2="1"/>
				<placement x="%indent_main_button%" y="1310"/>
				<text>{@boot_slot_a=Slot A}</text>
				<actions>
					<action function="set">tw_back=reboot</action>
					<action function="set">tw_action=setbootslot</action>
					<action function="set">tw_action_param=A</action>
					<action function="set">tw_has_action2=0</action>
					<action function="set">tw_action_text1={@changing_boot_slot=Changing Boot Slot}</action>
					<action function="set">tw_action_text2=</action>
					<action function="set">tw_complete_text1={@changing_boot_slot_complete=Change Boot Slot Complete}</action>
					<action function="page">action_page</action>
				</actions>
			</button>

			<button style="main_button">
				<condition var1="tw_has_boot_slots" var2="1"/>
				<placement x="%indent_main_button%" y="%row19_y%"/>
				<text>{@boot_slot_b=Slot B}</text>
				<actions>
					<action function="set">tw_back=reboot</action>
					<action function="set">tw_action=setbootslot</action>
					<action function="set">tw_action_param=B</action>
					<action function="set">tw_has_action2=0</action>
					<action function="set">tw_action_text1={@changing_boot_slot=Changing Boot Slot}</action>
					<action function="set">tw_action_text2=</action>
					<action function="set">tw_complete_text1={@changing_boot_slot_complete=Change Boot Slot Complete}</action>
					<action function="page">action_page</action>
				</actions>
			</button>
			
			<action>
				<touch key="power+voldown"/>
				<action function="screenshot"/>
			</action>
			
			<action>
				<touch key="home"/>
				<action function="overlay"/>
				<action function="page">main2</action>
			</action>

			<action>
				<touch key="back"/>
				<action function="overlay"/>
				<action function="page">main2</action>
			</action>
		</page>
		
		<page name="reboot_stock">
			<template name="page_n"/>

			<button style="status_logo">
				<placement x="270" y="40"/>
				<action function="screenshot"/>
			</button>

			<button style="main_button_stock">
				<condition var1="tw_reboot_system" var2="1"/>
				<placement x="%indent%" y="%row2a_y%"/>
				<text>{@rb_system_btn=System}</text>
				<actions>
					<action function="set">tw_back=reboot</action>
					<action function="page">reboot_system_routine</action>
				</actions>
			</button>

			<button style="main_button_stock">
				<condition var1="tw_reboot_poweroff" var2="1"/>
				<placement x="%center_x%" y="%row2a_y%"/>
				<text>{@rb_poweroff_btn=Power Off}</text>
				<actions>
					<action function="set">tw_back=reboot</action>
					<action function="set">tw_action=reboot</action>
					<action function="set">tw_action_param=poweroff</action>
					<action function="set">tw_reboot_param=poweroff</action>
					<action function="set">tw_has_action2=0</action>
					<action function="set">tw_text1={@no_os1=No OS Installed! Are you}</action>
					<action function="set">tw_text2={@no_ospo=sure you wish to power off?}</action>
					<action function="set">tw_action_text1={@turning_off=Turning Off...}</action>
					<action function="set">tw_complete_text1={@turning_off=Turning Off...}</action>
					<action function="set">tw_slider_text={@swipe_power_off=Swipe to Power Off}</action>
					<action function="page">rebootcheck</action>
				</actions>
			</button>

			<button style="main_button_stock">
				<condition var1="tw_reboot_recovery" var2="1"/>
				<placement x="%indent%" y="%row8_y%"/>
				<text>{@rb_recovery_btn=Recovery}</text>
				<actions>
					<action function="set">tw_back=reboot</action>
					<action function="set">tw_action=reboot</action>
					<action function="set">tw_action_param=recovery</action>
					<action function="set">tw_reboot_param=recovery</action>
					<action function="set">tw_has_action2=0</action>
					<action function="set">tw_text1={@no_os1=No OS Installed! Are you}</action>
					<action function="set">tw_text2={@no_osrb=sure you wish to reboot?}</action>
					<action function="set">tw_action_text1={@rebooting=Rebooting...}</action>
					<action function="set">tw_complete_text1={@rebooting=Rebooting...}</action>
					<action function="set">tw_slider_text={@swipe_reboot=Swipe to Reboot}</action>
					<action function="page">rebootcheck</action>
				</actions>
			</button>
			
			<button style="main_button_stock">
				<placement x="%center_x%" y="%row8_y%"/>
				<text>{@reload_theme_btn=Reload Theme}</text>
				<action function="reload"/>
			</button>

			<button style="main_button_stock">
				<condition var1="tw_reboot_bootloader" var2="1"/>
				<placement x="%center_x%" y="%row13a_y%"/>
				<text>{@rb_bootloader_btn=Bootloader}</text>
				<actions>
					<action function="set">tw_back=reboot</action>
					<action function="set">tw_action=reboot</action>
					<action function="set">tw_action_param=bootloader</action>
					<action function="set">tw_reboot_param=bootloader</action>
					<action function="set">tw_has_action2=0</action>
					<action function="set">tw_text1={@no_os1=No OS Installed! Are you}</action>
					<action function="set">tw_text2={@no_osrb=sure you wish to reboot?}</action>
					<action function="set">tw_action_text1={@rebooting=Rebooting...}</action>
					<action function="set">tw_complete_text1={@rebooting=Rebooting...}</action>
					<action function="set">tw_slider_text={@swipe_reboot=Swipe to Reboot}</action>
					<action function="page">rebootcheck</action>
				</actions>
			</button>

			<button style="main_button_stock">
				<condition var1="tw_download_mode" var2="1"/>
				<placement x="%indent%" y="%row13a_y%"/>
				<text>{@rb_download_btn=Download}</text>
				<actions>
					<action function="set">tw_back=reboot</action>
					<action function="set">tw_action=reboot</action>
					<action function="set">tw_action_param=download</action>
					<action function="set">tw_reboot_param=download</action>
					<action function="set">tw_has_action2=0</action>
					<action function="set">tw_text1={@no_os1=No OS Installed! Are you}</action>
					<action function="set">tw_text2={@no_osrb=sure you wish to reboot?}</action>
					<action function="set">tw_action_text1={@rebooting=Rebooting...}</action>
					<action function="set">tw_complete_text1={@rebooting=Rebooting...}</action>
					<action function="set">tw_slider_text={@swipe_reboot=Swipe to Reboot}</action>
					<action function="page">rebootcheck</action>
				</actions>
			</button>

			<text style="text_m">
				<condition var1="tw_has_boot_slots" var2="1"/>
				<placement x="%center_x%" y="%row17_y%" placement="5"/>
				<text>{@current_boot_slot=Current Slot: %tw_active_slot%}</text>
			</text>

			<button style="main_button_stock">
				<condition var1="tw_has_boot_slots" var2="1"/>
				<placement x="%indent%" y="%row19_y%"/>
				<text>{@boot_slot_a=Slot A}</text>
				<actions>
					<action function="set">tw_back=reboot</action>
					<action function="set">tw_action=setbootslot</action>
					<action function="set">tw_action_param=A</action>
					<action function="set">tw_has_action2=0</action>
					<action function="set">tw_action_text1={@changing_boot_slot=Changing Boot Slot}</action>
					<action function="set">tw_action_text2=</action>
					<action function="set">tw_complete_text1={@changing_boot_slot_complete=Change Boot Slot Complete}</action>
					<action function="page">action_page</action>
				</actions>
			</button>

			<button style="main_button_stock">
				<condition var1="tw_has_boot_slots" var2="1"/>
				<placement x="%center_x%" y="%row19_y%"/>
				<text>{@boot_slot_b=Slot B}</text>
				<actions>
					<action function="set">tw_back=reboot</action>
					<action function="set">tw_action=setbootslot</action>
					<action function="set">tw_action_param=B</action>
					<action function="set">tw_has_action2=0</action>
					<action function="set">tw_action_text1={@changing_boot_slot=Changing Boot Slot}</action>
					<action function="set">tw_action_text2=</action>
					<action function="set">tw_complete_text1={@changing_boot_slot_complete=Change Boot Slot Complete}</action>
					<action function="page">action_page</action>
				</actions>
			</button>

			<action>
				<touch key="home"/>
				<action function="page">main2</action>
			</action>

			<action>
				<touch key="back"/>
				<action function="page">main2</action>
			</action>
		</page>
		
		<page name="rebootapp">
			<template name="page_n"/>
			
			<button style="status_logo">
				<placement x="270" y="40"/>
				<action function="screenshot"/>
			</button>

			<text style="text_m_accent">
				<placement x="%center_x%" y="%row2_y%" placement="5"/>
				<text>{@reboot_install_app1=Would you like to install the Official TWRP App?}</text>
			</text>

			<text style="text_m_accent">
				<placement x="%center_x%" y="%row3_y%" placement="5"/>
				<text>{@reboot_install_app2=The app can check for new TWRP versions.}</text>
			</text>

			<checkbox>
				<placement x="%indent%" y="%row5_y%"/>
				<text>{@reboot_install_app_prompt_install=Prompt to install TWRP app if not installed}</text>
				<data variable="tw_app_prompt"/>
			</checkbox>

			<checkbox>
				<condition var1="tw_mount_system_ro" var2="0"/>
				<placement x="%indent%" y="620"/>
				<text>{@reboot_install_app_system=Install as a System App}</text>
				<data variable="tw_app_install_system"/>
			</checkbox>
			
			<image>
				<placement x="365" y="850"/>
				<image resource="splashlogo"/>
			</image>

			<button style="main_button_half_height">
				<placement x="%indent%" y="1578"/>
				<text>{@reboot_to_system=Reboot to System}</text>
				<action function="reboot">%tw_reboot_param%</action>
			</button>
			
			<button style="main_button_half_height">
				<placement x="%center_x%" y="1578"/>
				<text>{@install_twrp_app=Install TWRP App}</text>
				<actions>
					<action function="set">tw_back=reboot</action>
					<action function="set">tw_action=installapp</action>
					<action function="set">tw_action_text1={@reboot_installing_app=Installing App...}</action>
					<action function="set">tw_action_text2=</action>
					<action function="set">tw_has_action2=1</action>
					<action function="set">tw_action2=reboot</action>
					<action function="set">tw_action2_param=%tw_reboot_param%</action>
					<action function="set">tw_complete_text1={@rebooting=Rebooting...}</action>
					<action function="page">action_page</action>
				</actions>
			</button>

			<action>
				<touch key="home"/>
				<actions>
					<action function="set">tw_app_install_status=0</action>
					<action function="page">main2</action>
				</actions>
			</action>

			<action>
				<touch key="back"/>
				<actions>
					<action function="set">tw_app_install_status=0</action>
					<action function="page">reboot</action>
				</actions>
			</action>
		</page>

		<page name="system_readonly">
			<template name="page_n"/>

			<text style="text_l">
				<placement x="%col1_x_header%" y="%row3_header_y%"/>
				<text>{@sys_ro_hdr=Unmodified System Partition}</text>
			</text>

			<text style="text_m_accent">
				<placement x="%center_x%" y="%row2_y%" placement="5"/>
				<text>{@sys_ro_keep=Keep System Read only?}</text>
			</text>

			<text style="text_m">
				<placement x="%center_x%" y="%row4_y%" placement="5"/>
				<text>{@sys_rop1=TWRP can leave your system partition unmodified}</text>
			</text>

			<text style="text_m">
				<placement x="%center_x%" y="%row5_y%" placement="5"/>
				<text>{@sys_rop2=to make it easier for you to take official updates.}</text>
			</text>

			<text style="text_m">
				<placement x="%center_x%" y="%row6_y%" placement="5"/>
				<text>{@sys_rop3=TWRP will be unable to prevent the stock ROM from}</text>
			</text>

			<text style="text_m">
				<placement x="%center_x%" y="%row7_y%" placement="5"/>
				<text>{@sys_rop4=replacing TWRP and will not offer to root your device.}</text>
			</text>

			<text style="text_m_fail">
				<placement x="%center_x%" y="%row9_y%" placement="5"/>
				<text>{@sys_rop5=Installing zips or performing adb operations may still}</text>
			</text>

			<text style="text_m_fail">
				<placement x="%center_x%" y="%row10_y%" placement="5"/>
				<text>{@sys_rop6=modify the system partition.}</text>
			</text>

			<checkbox>
				<condition var1="tw_is_encrypted" var2="0"/>
				<placement x="%indent%" y="%row15_y%"/>
				<text>{@sys_ro_never_show_chk=Never show this screen during boot again}</text>
				<data variable="tw_never_show_system_ro_page"/>
			</checkbox>

			<button style="main_button_half_height">
				<placement x="%indent%" y="%row18a_y%"/>
				<text>{@sys_ro_keep_ro_btn=Keep Read Only}</text>
				<actions>
					<action function="mountsystemtoggle">1</action>
					<action function="set">tw_page_done=1</action>
					<action function="page">%tw_back%</action>
				</actions>
			</button>

			<button style="main_button_half_height">
				<placement x="%center_x%" y="%row18a_y%"/>
				<text>{@sel_lang_btn=Select Language}</text>
				<action function="overlay">select_language</action>
			</button>

			<slider>
				<text>{@swipe_allow_mod=Swipe to Allow Modifications}</text>
				<actions>
					<action function="mountsystemtoggle">0</action>
					<action function="set">tw_page_done=1</action>
					<action function="page">%tw_back%</action>
				</actions>
			</slider>
		</page>

		<page name="settings">
			<template name="page_n"/>

			<button style="status_logo">
				<placement x="270" y="40"/>
				<action function="screenshot"/>
			</button>
			
			<template name="tabs_settings"/>
			
			<fill color="%about_back%">
				<placement x="0" y="365" w="1080" h="1045"/>
			</fill>
			
			<fill color="%dialog_front%">
				<placement x="5" y="370" w="1070" h="1035"/>
			</fill>
			
			<listbox style="scrolllist">
				<placement x="%indent%" y="%row3a_y%" w="%content_width%" h="%listbox_settings_height%"/>
				<icon selected="checkbox_true" unselected="checkbox_false"/>
				<listitem name="{@zip_sig_chk=Zip signature verification}">
					<data variable="tw_signed_zip_verify"/>
				</listitem>
				<listitem name="{@install_reboot_chk=Reboot after installation is complete}">
					<data variable="tw_install_reboot"/>
				</listitem>
				<listitem name="{@use_rmrf_chk=Use rm -rf instead of formatting}">
					<data variable="tw_rm_rf"/>
				</listitem>
				<listitem name="{@disable_backup_space_chk=Disable free space check before backup}">
					<data variable="tw_disable_free_space"/>
				</listitem>
				<listitem name="{@skip_digest_backup_chk=Skip Digest generation during backup}">
					<data variable="tw_skip_digest_generate"/>
				</listitem>
				<listitem name="{@restore_enable_digest_chk=Enable Digest verification of backup files}">
					<data variable="tw_skip_digest_check"/>
				</listitem>
				<listitem name="{@use24clock_chk=Use 24-hour clock}">
					<data variable="tw_military_time"/>
				</listitem>
				<listitem name="{@rev_navbar_chk=Reversed navbar layout}">
					<data variable="tw_samsung_navbar"/>
				</listitem>
				<listitem name="{@reboot_install_app_prompt_install=Prompt to install TWRP app on every reboot}">
					<data variable="tw_app_prompt"/>
				</listitem>
				<listitem name="{@simact_chk=Simulate actions for theme testing}">
					<data variable="tw_simulate_actions"/>
				</listitem>
				<listitem name="{@simfail_chk=Simulate failure for actions}">
					<condition var1="tw_simulate_actions" var2="1"/>
					<data variable="tw_simulate_fail"/>
				</listitem>
				<listitem name="{@show_cpu_temp_bar=Show CPU temperature}">
					<data variable="show_cpu_temp"/>
				</listitem>
				<listitem name="{@sha2_chk=Use SHA2 for hashing}">
					<condition var1="tw_no_sha2" var2="0"/>
					<data variable="tw_use_sha2"/>
				</listitem>
			</listbox>
			
			<button style="main_button">
				<condition var1="tw_is_multirom" var2="1"/>
				<condition var1="tw_busy" var2="0"/>
				<placement x="300" y="1415"/>
				<text>{@settings_theme=Theme Settings}</text>
				<action function="page">theme_settings</action>
			</button>
			
			<button style="main_button_half_height">
				<placement x="%indent%" y="%row21a_y%"/>
				<text>{@restore_defaults_btn=Restore Defaults}</text>
				<action function="overlay">defaultsettings_page</action>
			</button>

			<button style="main_button_half_height">
				<placement x="%center_x%" y="%row21a_y%"/>
				<text>{@settings_language_btn=Language}</text>
				<action function="page">settings_language</action>
			</button>
			
			<action>
				<touch key="home"/>
				<action function="page">main2</action>
			</action>

			<action>
				<touch key="back"/>
				<action function="page">main2</action>
			</action>
		</page>
		
		<page name="defaultsettings_page">
			<background color="%lightransparent%"/>

			<fill color="%about_back%">
				<placement x="101" y="635" w="869" h="673"/>
			</fill>
			
			<fill color="%dialog_front%">
				<placement x="112" y="645" w="849" h="653"/>
			</fill>
			
			<fill color="%dialog_front%">
				<placement x="112" y="645" w="849" h="653"/>
			</fill>

			<text style="text_m_fail">
				<placement x="192" y="706"/>
				<text>{@restore_defaults_btn=Restore Defaults}</text>
			</text>

			<text style="text_m_fail">
				<placement x="192" y="832"/>
				<text>{@restore_defaults_btn1=Restore your default settings}</text>
			</text>

			<text style="text_m">
				<placement x="192" y="892"/>
				<text>{@restore_action2=Confirm or Cancel the action.}</text>
			</text>

			<button style="button_dialog">
				<placement x="380" y="1129"/>
				<text>{@cancel=CANCEL}</text>
				<action function="overlay"/>
				<action function="page">settings</action>
			</button>

			<button style="button_dialog_hl">
				<placement x="644" y="1129"/>
				<text>{@restore=RESTORE}</text>
				<action function="overlay"/>
				<action function="set">tw_samsung_navbar=0</action>
				<action function="set">tw_tab_icons=0</action>
				<action function="restoredefaultsettings"/>
			</button>

			<action>
				<touch key="power+voldown"/>
				<action function="screenshot"/>
			</action>
		</page>

		<page name="settings_timezone">
			<template name="page_n"/>

			<button style="status_logo">
				<placement x="270" y="40"/>
				<action function="screenshot"/>
			</button>
			
			<template name="tabs_settings"/>
			
			<fill color="%about_back%">
				<placement x="0" y="365" w="1080" h="805"/>
			</fill>
			
			<fill color="%dialog_front%">
				<placement x="5" y="370" w="1070" h="795"/>
			</fill>
			
			<listbox>
				<placement x="%indent%" y="%row3_y%" w="%content_width%" h="%listbox_timezone_height%"/>
				<data name="tw_time_zone_guisel"/>
				<listitem name="{@utcm11=(UTC -11) Samoa, Midway Island}">BST11;BDT</listitem>
				<listitem name="{@utcm10=(UTC -10) Hawaii}">HST10;HDT</listitem>
				<listitem name="{@utcm9=(UTC -9) Alaska}">AST9;ADT</listitem>
				<listitem name="{@utcm8=(UTC -8) Pacific Time}">PST8;PDT,M3.2.0,M11.1.0</listitem>
				<listitem name="{@utcm7=(UTC -7) Mountain Time}">MST7;MDT,M3.2.0,M11.1.0</listitem>
				<listitem name="{@utcm6=(UTC -6) Central Time}">CST6;CDT,M3.2.0,M11.1.0</listitem>
				<listitem name="{@utcm5=(UTC -5) Eastern Time}">EST5;EDT,M3.2.0,M11.1.0</listitem>
				<listitem name="{@utcm4=(UTC -4) Atlantic Time}">AST4;ADT</listitem>
				<listitem name="{@utcm3=(UTC -3) Brazil, Buenos Aires}">GRNLNDST3;GRNLNDDT</listitem>
				<listitem name="{@utcm2=(UTC -2) Mid-Atlantic}">FALKST2;FALKDT</listitem>
				<listitem name="{@utcm1=(UTC -1) Azores, Cape Verde}">AZOREST1;AZOREDT</listitem>
				<listitem name="{@utc0=(UTC  0) London, Dublin, Lisbon}">GMT0;BST,M3.5.0,M10.5.0</listitem>
				<listitem name="{@utcp1=(UTC +1) Berlin, Brussels, Paris}">CET-1;CEST,M3.5.0,M10.5.0</listitem>
				<listitem name="{@utcp2=(UTC +2) Athens, Istanbul, South Africa}">WET-2;WET,M3.5.0,M10.5.0</listitem>
				<listitem name="{@utcp3=(UTC +3) Moscow, Baghdad}">SAUST-3;SAUDT</listitem>
				<listitem name="{@utcp4=(UTC +4) Abu Dhabi, Tbilisi, Muscat}">WST-4;WDT</listitem>
				<listitem name="{@utcp5=(UTC +5) Yekaterinburg, Islamabad}">PAKST-5;PAKDT</listitem>
				<listitem name="{@utcp6=(UTC +6) Almaty, Dhaka, Colombo}">TASHST-6;TASHDT</listitem>
				<listitem name="{@utcp7=(UTC +7) Bangkok, Hanoi, Jakarta}">THAIST-7;THAIDT</listitem>
				<listitem name="{@utcp8=(UTC +8) Beijing, Singapore, Hong Kong}">TAIST-8;TAIDT</listitem>
				<listitem name="{@utcp9=(UTC +9) Tokyo, Seoul, Yakutsk}">JST-9;JSTDT</listitem>
				<listitem name="{@utcp10=(UTC +10) Eastern Australia, Guam}">EET-10;EETDT</listitem>
				<listitem name="{@utcp11=(UTC +11) Vladivostok, Solomon Islands}">MET-11;METDT</listitem>
				<listitem name="{@utcp12=(UTC +12) Auckland, Wellington, Fiji}">NZST-12;NZDT</listitem>
			</listbox>
			
			<button>
				<highlight color="%highlight_color%"/>
				<placement x="0" y="1200"/>
				<font resource="font_m" color="%text_button_color%"/>
				<text>{@set_tz_btn=Set Time Zone}</text>
				<image resource="main_button_reboot"/>
				<action function="setguitimezone"/>
			</button>

			<text style="text_m_accent">
				<placement x="%indent%" y="%row18a_y%"/>
				<text>{@sel_tz_offset=Select Offset (usually 0): %tw_time_zone_guioffset%}</text>
			</text>
			
			<button style="tabs_settings">
				<placement x="0" y="%row20_y%" w="%tab4_width%" h="%tab_height%"/>
				<text>{@tz_offset_none=None}</text>
				<action function="set">tw_time_zone_guioffset=0</action>
			</button>

			<button style="tabs_settings">
				<placement x="270" y="%row20_y%" w="%tab4_width%" h="%tab_height%"/>
				<text>{@tz_offset_15=15}</text>
				<action function="set">tw_time_zone_guioffset=15</action>
			</button>
			
			<button style="tabs_settings">
				<placement x="540" y="%row20_y%" w="%tab4_width%" h="%tab_height%"/>
				<text>{@tz_offset_30=30}</text>
				<action function="set">tw_time_zone_guioffset=30</action>
			</button>
			
			<button style="tabs_settings">
				<placement x="810" y="%row20_y%" w="%tab4_width%" h="%tab_height%"/>
				<text>{@tz_offset_45=45}</text>
				<action function="set">tw_time_zone_guioffset=45</action>
			</button>

			<checkbox>
				<placement x="%indent%" y="1600"/>
				<font resource="font_m" color="%text_color%"/>
				<text>{@use_dst_chk=Use daylight savings time (DST)}</text>
				<data variable="tw_time_zone_guidst"/>
				<image checked="checkbox_true" unchecked="checkbox_false"/>
			</checkbox>

			<text color="%text_fail_color%">
				<font resource="font_m"/>
				<placement x="%indent%" y="1696"/>
				<text>{@curr_tz=Current Time Zone: %tw_time_zone%}</text>
			</text>

			<action>
				<touch key="home"/>
				<action function="page">main2</action>
			</action>

			<action>
				<touch key="back"/>
				<action function="page">settings</action>
			</action>
		</page>

		<page name="settings_screen">
			<template name="page_n"/>

			<button style="status_logo">
				<placement x="270" y="40"/>
				<action function="screenshot"/>
			</button>
			
			<template name="tabs_settings"/>
			
			<fill color="%about_back%">
				<placement x="0" y="365" w="1080" h="1365"/>
			</fill>
			
			<fill color="%dialog_front%">
				<placement x="5" y="370" w="1070" h="1355"/>
			</fill>

			<button>
				<placement x="%indent%" y="%row3a_y%" textplacement="6"/>
				<font resource="font_m" color="%text_color%"/>
				<condition var1="tw_screen_timeout_secs" op="=" var2="0"/>
				<condition var1="tw_no_screen_timeout" op="!=" var2="1"/>
				<text>{@enable_timeout_chk=Enable screen timeout}</text>
				<image resource="checkbox_false"/>
				<action function="set">tw_screen_timeout_secs=60</action>
			</button>

			<button>
				<placement x="%indent%" y="%row3a_y%" textplacement="6"/>
				<font resource="font_m" color="%text_color%"/>
				<condition var1="tw_screen_timeout_secs" op="!=" var2="0"/>
				<condition var1="tw_no_screen_timeout" op="!=" var2="1"/>
				<text>{@enable_timeout_chk=Enable screen timeout}</text>
				<image resource="checkbox_true"/>
				<action function="set">tw_screen_timeout_secs=0</action>
			</button>

			<slidervalue>
				<condition var1="tw_screen_timeout_secs" op="!=" var2="0"/>
				<condition var1="tw_no_screen_timeout" op="!=" var2="1"/>
				<placement x="indent" y="%row5_y%" w="%content_width%"/>
				<text>{@screen_to_slider=Screen timeout in seconds:}</text>
				<data variable="tw_screen_timeout_secs" min="15" max="300"/>
			</slidervalue>
			
			<slidervalue>
				<condition var1="tw_has_brightnesss_file" var2="1"/>
				<placement x="indent" y="747" w="%content_width%"/>
				<text>{@screen_bright_slider=Brightness: %tw_brightness_pct%%}</text>
				<data variable="tw_brightness_pct" min="10" max="100"/>
				<actions>
					<action function="set">tw_brightness=%tw_brightness_max%</action>
					<action function="compute">tw_brightness*%tw_brightness_pct%</action>
					<action function="compute">tw_brightness/100</action>
					<!--action function="cmd">echo %tw_brightness% > &quot;%tw_brightness_file%&quot;</action-->
					<action function="setbrightness">%tw_brightness%</action>
				</actions>
			</slidervalue>
			
			<slidervalue>
				<placement x="indent" y="982" w="%content_width%"/>
				<text>{@button_vibration=Button Vibration:}</text>
				<data variable="tw_button_vibrate" min="0" max="300"/>
			</slidervalue>
			
			<slidervalue>
				<placement x="indent" y="1217" w="%content_width%"/>
				<text>{@kb_vibration=Keyboard Vibration:}</text>
				<data variable="tw_keyboard_vibrate" min="0" max="300"/>
			</slidervalue>

			<slidervalue>
				<placement x="indent" y="1452" w="%content_width%"/>
				<text>{@act_vibration=Action Vibration:}</text>
				<data variable="tw_action_vibrate" min="0" max="500"/>
			</slidervalue>

			<action>
				<touch key="home"/>
				<action function="page">main2</action>
			</action>

			<action>
				<touch key="back"/>
				<action function="page">settings</action>
			</action>
		</page>

		<page name="settings_vibration">
			<template name="page_n"/>

			<button style="status_logo">
				<placement x="270" y="40"/>
				<action function="screenshot"/>
			</button>
			
			<template name="tabs_settings"/>
			
			<text style="text_m2">
				<placement x="142" y="360"/>
				<text>Extra Recovery Settings</text>
			</text>

			<listbox style="scrolllist">
				<placement x="%indent%" y="500" w="%content_width%" h="%listbox_settings_height%"/>
				<icon selected="checkbox_true" unselected="checkbox_false"/>
				<listitem name="{@extra_soft_buttons=Extra Soft Buttons}">
					<data variable="show_extra_buttons"/>
				</listitem>
				<listitem name="{@show_free_sdmb=Show Free SD Mb}">
					<data variable="show_theme_version"/>
				</listitem>
				<listitem name="{@disable_auto_backup_name=Disable Auto Generate Backup Name}">
					<data variable="auto_generate"/>
				</listitem>
				<listitem name="{@use_flashit_script=Use FlashIt script for image flashing}">
					<data variable="tw_flashit"/>
				</listitem>
			</listbox>

			<action>
				<touch key="home"/>
				<action function="page">settings</action>
			</action>

			<action>
				<touch key="back"/>
				<action function="page">settings</action>
			</action>
		</page>

		<page name="settings_language">
			<template name="page_n"/>

			<button style="status_logo">
				<placement x="270" y="40"/>
				<action function="screenshot"/>
			</button>
			
			<template name="fm1"/>
			
			<text style="text_m_fail">
				<placement x="%indent%" y="277"/>
				<text>{@select_language=Select Language:}</text>
			</text>
			
			<template name="fm2"/>

			<listbox>
				<placement x="%indent%" y="370" w="%content_width%" h="1200"/>
				<icon selected="radio_true" unselected="radio_false" />
				<data name="tw_language" />
			</listbox>
			
			<fill color="%about_back%">
				<placement x="0" y="1605" w="1080" h="160"/>
			</fill>
			
			<fill color="%dialog_front%">
				<placement x="5" y="1610" w="1070" h="150"/>
			</fill>
			
			<fill color="%dialog_front%">
				<placement x="5" y="1610" w="1070" h="150"/>
			</fill>

			<button style="main_button_reboot_empty">
				<placement x="%indent_main_button%" y="1601"/>
				<text>{@set_language_btn=Set Language}</text>
				<action function="setlanguage"></action>
			</button>

			<action>
				<touch key="home" />
				<action function="page">main2</action>
			</action>

			<action>
				<touch key="back" />
				<action function="page">settings</action>
			</action>
		</page>
		
		<page name="copylog">
			<template name="page_n"/>

			<button style="status_logo">
				<placement x="270" y="40"/>
				<action function="screenshot"/>
			</button>
			
			<text style="text_m2">
				<placement x="390" y="260"/>
				<text>Copy Log</text>
			</text>

			<checkbox>
				<placement x="%indent%" y="%row4_y%"/>
				<text>{@include_kernel_log=Include Kernel Log}</text>
				<data variable="tw_include_kernel_log" value="1"/>
			</checkbox>

			<slider>
				<text>{@copying_log=Copy Logs to SD Card}</text>
				<actions>
					<action function="set">tw_back=advanced</action>
					<action function="set">tw_action=copylog</action>
                    <action function="set">tw_action_text1={@copying_log=Copy Logs to SD Card}</action>
                    <action function="set">tw_complete_text1={@copy_log_complete=Logs Copy Completed}</action>
					<action function="page">action_page</action>
				</actions>
			</slider>

			<action>
				<touch key="home"/>
				<action function="page">main2</action>
			</action>

			<action>
				<touch key="back"/>
				<actions>
					<action function="page">advanced</action>
				</actions>
			</action>
		</page>

		<page name="advanced">
			<template name="page_n"/>
			
			<button style="status_logo">
				<placement x="270" y="40"/>
				<action function="screenshot"/>
			</button>
			
			<button style="main_button_n">
				<placement x="%indent_main_button%" y="260"/>
				<text>{@copy_log_btn=Copy Logs}</text>
				<action function="page">copylog</action>
			</button>

			<button style="main_button_n">
				<condition var1="tw_has_data_media" var2="1"/>
				<placement x="%indent_main_button%" y="410"/>
				<text>{@fix_contexts_hdr=Fix Contexts}</text>
				<action function="page">fixcontexts</action>
			</button>

			<button style="main_button_n">
				<condition var1="tw_allow_partition_sdcard" var2="1"/>
				<placement x="%indent_main_button%" y="560"/>
				<text>{@part_sd_btn=Partition SD Card}</text>
				<actions>
					<action function="set">partitionlisterror=0</action>
					<action function="page">partsdcardsel</action>
				</actions>
			</button>

			<button style="main_button_n">
				<placement x="%indent_main_button%" y="710"/>
				<text>{@adb_sideload_btn=ADB Sideload}</text>
				<action function="page">sideload</action>
			</button>

			<button style="main_button_n">
				<placement x="%indent_main_button%" y="860"/>
				<text>{@terminal_btn=Terminal}</text>
				<action function="page">terminalcommand</action>
			</button>
			
			<button style="main_button_reboot">
				<condition var1="tw_show_dumlock" var2="1"/>
				<placement x="%center_x%" y="%row19_y%"/>
				<text>{@dumlock_btn=HTC Dumlock}</text>
				<action function="page">htcdumlock</action>
			</button>

			<button style="main_button_reboot">
				<condition var1="tw_has_injecttwrp" var2="1"/>
				<placement x="%center_x%" y="%row19_y%"/>
				<text>{@inject_twrp_btn=Inject TWRP}</text>
				<actions>
					<action function="set">tw_back=advanced</action>
					<action function="set">tw_action=reinjecttwrp</action>
					<action function="set">tw_text1={@inject_twrp_confirm=Re-Inject TWRP?}</action>
					<action function="set">tw_action_text1={@injecting_twrp=Re-Injecting TWRP...}</action>
					<action function="set">tw_complete_text1={@inject_twrp_complete=TWRP Injection Complete}</action>
					<action function="set">tw_slider_text={@swipe_to_confirm=Swipe to Confirm}</action>
					<action function="page">confirm_action</action>
				</actions>
			</button>
			
			<action>
				<touch key="power+voldown"/>
				<action function="screenshot"/>
			</action>

			<action>
				<touch key="home"/>
				<action function="page">main2</action>
			</action>

			<action>
				<touch key="back"/>
				<action function="page">main2</action>
			</action>
		</page>
		
		<page name="partsdcardsel">
			<template name="page_n"/>

			<button style="status_logo">
				<placement x="270" y="40"/>
				<action function="screenshot"/>
			</button>
			
			<text style="text_m2">
				<placement x="260" y="260"/>
				<text>{@part_sd_hdr=Partition SD Card}</text>
			</text>

			<partitionlist>
				<placement x="%indent%" y="466" w="%content_width%" h="%partitionlist_storage_height%"/>
				<text>{@sel_storage_list=Select Storage}</text>
				<data name="tw_storage_path"/>
				<listtype name="storage"/>
			</partitionlist>

			<text style="text_m_fail">
				<condition var1="partitionlisterror" var2="1"/>
				<placement x="%center_x%" y="%row20_y%" placement="5"/>
				<text>{@invalid_partsd_sel=You must select a removable device}</text>
			</text>

			<button style="main_button_half_height">
				<placement x="288" y="1500"/>
				<text>{@ok_btn=OK}</text>
				<actions>
					<action function="getpartitiondetails">tw_storage_path</action>
					<action function="page">partsdcardcheck</action>
				</actions>
			</button>

			<action>
				<touch key="home"/>
				<action function="page">main2</action>
			</action>

			<action>
				<touch key="back"/>
				<action function="page">advanced</action>
			</action>
		</page>

		<page name="partsdcardcheck">
			<action>
				<condition var1="tw_partition_removable" op="=" var2="1"/>
				<actions>
					<action function="set">partitionlisterror=0</action>
					<action function="page">partsdcard</action>
				</actions>
			</action>

			<action>
				<condition var1="tw_partition_removable" op="!=" var2="1"/>
				<actions>
					<action function="set">partitionlisterror=1</action>
					<action function="page">partsdcardsel</action>
				</actions>
			</action>
		</page>

		<page name="partsdcard">
			<template name="page_n"/>
			
			<button style="status_logo">
				<placement x="270" y="40"/>
				<action function="screenshot"/>
			</button>
			
			<template name="fm1"/>
			
			<text style="text_m">
				<placement x="%indent%" y="277"/>
				<text>{@part_sd_hdr=Partition SD Card}</text>
			</text>
			
			<fill color="%about_back%">
				<placement x="0" y="375" w="1080" h="1140"/>
			</fill>
			
			<fill color="%dialog_front%">
				<placement x="5" y="380" w="1070" h="1130"/>
			</fill>

			<text style="text_m_accent">
				<placement x="%center_x%" y="%row5_y%" placement="5"/>
				<text>{@part_sd_ext_sz=EXT Size:}</text>
			</text>

			<text style="text_m">
				<placement x="%center_x%" y="%row6a_y%" placement="5"/>
				<text>%tw_sdext_size%</text>
			</text>

			<button style="button_quarter_width">
				<placement x="%indent%" y="%row6_y%"/>
				<text>{@part_sd_m=-}</text>
				<action function="addsubtract">tw_sdext_size-256</action>
			</button>

			<button style="button_quarter_width">
				<placement x="%btn4_col4_x%" y="%row6_y%"/>
				<text>{@part_sd_p=+}</text>
				<action function="addsubtract">tw_sdext_size+256</action>
			</button>

			<text style="text_m_accent">
				<placement x="%center_x%" y="%row9_y%" placement="5"/>
				<text>{@part_sd_swap_sz=Swap Size:}</text>
			</text>

			<text style="text_m">
				<placement x="%center_x%" y="%row10a_y%" placement="5"/>
				<text>%tw_swap_size%</text>
			</text>

			<button style="button_quarter_width">
				<placement x="%indent%" y="%row10_y%"/>
				<text>{@part_sd_m=-}</text>
				<action function="addsubtract">tw_swap_size-64</action>
			</button>

			<button style="button_quarter_width">
				<placement x="%btn4_col4_x%" y="%row10_y%"/>
				<text>{@part_sd_p=+}</text>
				<action function="addsubtract">tw_swap_size+64</action>
			</button>

			<text style="text_m_accent">
				<placement x="%center_x%" y="%row13_y%" placement="5"/>
				<text>{@file_system=File System:}</text>
			</text>

			<text style="text_m">
				<placement x="%center_x%" y="%row14a_y%" placement="5"/>
				<text>%tw_sdpart_file_system%</text>
			</text>

			<button style="button_quarter_width">
				<placement x="%indent%" y="%row14_y%"/>
				<text>EXT3</text>
				<action function="set">tw_sdpart_file_system=ext3</action>
			</button>

			<button style="button_quarter_width">
				<placement x="%btn4_col4_x%" y="%row14_y%"/>
				<text>EXT4</text>
				<action function="set">tw_sdpart_file_system=ext4</action>
			</button>
			
			<text style="text_m_accent">
				<placement x="290" y="1330"/>
				<text>{@part_sd_lose=You will lose all files on your SD card!}</text>
			</text>

			<text style="text_m_accent">
				<placement x="290" y="1394"/>
				<text>{@part_sd_undo=This action cannot be undone!}</text>
			</text>

			<slider>
				<text>{@swipe_part_sd=Swipe to Partition}</text>
				<action function="page">partsdcardaction</action>
				<actions>
					<action function="set">tw_back=partsdcard</action>
					<action function="set">tw_action=partitionsd</action>
					<action function="set">tw_has_action2=1</action>
					<action function="set">tw_action2=set</action>
					<action function="set">tw_action2_param=tw_zip_location=/sdcard</action>
					<action function="set">tw_action_text1={@partitioning_sd=Partitioning SD Card...}</action>
					<action function="set">tw_action_text2={@partitioning_sd2=This will take a few minutes.}</action>
					<action function="set">tw_complete_text1={@part_sd_complete=Partitioning Complete}</action>
					<action function="page">action_page</action>
				</actions>
			</slider>

			<action>
				<touch key="home"/>
				<action function="page">main2</action>
			</action>

			<action>
				<touch key="back"/>
				<actions>
					<action function="set">partitionlisterror=0</action>
					<action function="page">partsdcardsel</action>
				</actions>
			</action>
		</page>

		<page name="htcdumlock">
			<template name="page_n"/>

			<text style="text_l">
				<placement x="%col1_x_header%" y="%row3_header_y%"/>
				<text>{@advanced_hdr=Advanced}</text>
			</text>

			<text style="text_m">
				<placement x="%col1_x_header%" y="%row4_header_y%"/>
				<text>{@dumlock_hdr=HTC Dumlock}</text>
			</text>

			<button style="main_button_half_height_full_width">
				<placement x="%indent%" y="%row15a_y%"/>
				<text>{@dumlock_restore_btn=Restore Original Boot}</text>
				<actions>
					<action function="set">tw_back=htcdumlock</action>
					<action function="set">tw_action=htcdumlockrestoreboot</action>
					<action function="set">tw_text1={@dumlock_restore_confirm=Restore original boot image?}</action>
					<action function="set">tw_action_text1={@dumlock_restoring=Restoring Original Boot...}</action>
					<action function="set">tw_complete_text1={@dumlock_restore_complete=Restore Original Boot Complete}</action>
					<action function="set">tw_slider_text={@swipe_to_confirm=Swipe to Confirm}</action>
					<action function="page">confirm_action</action>
				</actions>
			</button>

			<button style="main_button_half_height_full_width">
				<placement x="%indent%" y="%row18a_y%"/>
				<text>{@dumlock_reflash_btn=Reflash Recovery}</text>
				<actions>
					<action function="set">tw_back=htcdumlock</action>
					<action function="set">tw_action=htcdumlockreflashrecovery</action>
					<action function="set">tw_text1={@dumlock_reflash_confirm=Reflash recovery to boot?}</action>
					<action function="set">tw_action_text1={@dumlock_reflashing=Flashing recovery to boot...}</action>
					<action function="set">tw_complete_text1={@dumlock_reflash_complete=Recovery Flash to Boot Complete}</action>
					<action function="set">tw_slider_text={@swipe_to_confirm=Swipe to Confirm}</action>
					<action function="page">confirm_action</action>
				</actions>
			</button>

			<button style="main_button_half_height_full_width">
				<placement x="%indent%" y="%row21a_y%"/>
				<text>{@dumlock_install_btn=Install HTC Dumlock}</text>
				<actions>
					<action function="set">tw_back=htcdumlock</action>
					<action function="set">tw_action=installhtcdumlock</action>
					<action function="set">tw_text1={@dumlock_install_confirm=Install HTC dumlock files to ROM?}</action>
					<action function="set">tw_action_text1={@dumlock_installing=Installing HTC Dumlock...}</action>
					<action function="set">tw_complete_text1={@dumlock_install_complete=HTC Dumlock Install Complete}</action>
					<action function="set">tw_slider_text={@swipe_to_confirm=Swipe to Confirm}</action>
					<action function="page">confirm_action</action>
				</actions>
			</button>

			<action>
				<touch key="home"/>
				<action function="page">main2</action>
			</action>

			<action>
				<touch key="back"/>
				<action function="page">advanced</action>
			</action>
		</page>

		<page name="lock">
			<background color="#000000"/>
			
			<action>
				<touch key="power+voldown" />
				<action function="screenshot" />
			</action>

			<action>
				<touch key="power"/>
				<action function="togglebacklight"/>
			</action>
			
			<slider>
				<text>{@swipe_to_unlock=Swipe to Unlock}</text>
				<action function="overlay"/>
			</slider>
		</page>
		
		<page name="filemanagerlist">
			<template name="page_n"/>

			<button style="status_logo">
				<placement x="270" y="40"/>
				<action function="screenshot"/>
			</button>
			
			<template name="fm1"/>

			<button>
				<placement x="864" y="210"/>
				<image resource="fab_selectfolder"/>
				<action function="overlay">sort_menu</action>
			</button>
			
			<text style="text_m_fail">
				<placement x="%indent%" y="277"/>
				<text>%tw_file_location1%</text>
			</text>
			
			<template name="fm2"/>
			
			<fileselector>
				<placement x="%indent%" y="400" w="%content_width%" h="1170"/>
				<filter folders="1" files="1"/>
				<path name="tw_file_location1" default="/"/>
				<data name="tw_filename1"/>
				<selection name="tw_selection1"/>
			</fileselector>

			<button>
				<placement x="864" y="1578"/>
				<image resource="fab_selectfolder"/>
				<actions>
					<action function="set">tw_filename1=tw_file_location1</action>
					<action function="set">tw_fm_isfolder=1</action>
					<action function="set">tw_fm_type={@fm_type_folder=Folder}</action>
					<action function="page">filemanageroptions</action>
				</actions>
			</button>

			<action>
				<actions>
					<action function="set">tw_fm_type={@fm_type_file=File}</action>
					<action function="set">tw_fm_isfolder=0</action>
				</actions>
			</action>

			<action>
				<touch key="home"/>
				<action function="page">main2</action>
			</action>

			<action>
				<touch key="back"/>
				<action function="page">main2</action>
			</action>

			<action>
				<condition var1="tw_filename1" op="modified"/>
				<action function="page">filemanageroptions</action>
			</action>
		</page>

		<page name="filemanageroptions">
			<background color="%lightransparent%"/>
			
			<button>
				<fill color="%transparent%"/>
				<placement x="0" y="0" w="%screen_width%" h="%screen_height%"/>
				<action function="overlay"/>
			</button>

			<fill color="%about_back%">
				<placement x="549" y="375" w="531" h="1360"/>
			</fill>
			
			<fill color="%dialog_front%">
				<placement x="560" y="385" w="511" h="1340"/>
			</fill>
			
			<fill color="%dialog_front%">
				<placement x="560" y="385" w="511" h="1340"/>
			</fill>
			
			<text style="text_m_fail">
				<placement x="763" y="465"/>
				<text>{@actions=Actions}</text>
			</text>
			
			<button style="main_button_fmo">
				<condition var1="tw_fm_isfolder" var2="0"/>
				<placement x="577" y="542"/>
				<text>{@fm_copy_file_btn=Copy File}</text>
				<actions>
					<action function="set">tw_filemanager_command=cp</action>
					<action function="set">tw_fm_text1={@fm_copying=Copying}</action>
					<action function="page">choosedestinationfolder</action>
				</actions>
			</button>

			<button style="main_button_fmo">
				<condition var1="tw_fm_isfolder" var2="1"/>
				<placement x="577" y="542"/>
				<text>{@fm_copy_folder_btn=Copy Folder}</text>
				<actions>
					<action function="set">tw_filemanager_command=cd "%tw_file_location1%" &amp;&amp; cd .. &amp;&amp; cp -R</action>
					<action function="set">tw_fm_text1={@fm_copying=Copying}</action>
					<action function="page">choosedestinationfolder</action>
				</actions>
			</button>

			<button style="main_button_fmo">
				<placement x="577" y="672"/>
				<text>{@fm_move_btn=Move}</text>
				<actions>
					<action function="set">tw_filemanager_command=mv</action>
					<action function="set">tw_fm_text1={@fm_moving=Moving}</action>
					<action function="page">choosedestinationfolder</action>
				</actions>
			</button>

			<button style="main_button_fmo">
				<placement x="577" y="802"/>
				<text>{@fm_chmod755_btn=chmod 755}</text>
				<actions>
					<action function="set">tw_filemanager_command=chmod 755</action>
					<action function="set">tw_fm_text1={@fm_chmod755ing=chmod 755}</action>
					<action function="set">tw_fm_text2=</action>
					<action function="set">tw_fm_text3=</action>
					<action function="set">tw_include_text3=0</action>
					<action function="set">tw_back=filemanageroptions</action>
					<action function="page">filemanagerconfirm</action>
				</actions>
			</button>

			<button style="main_button_fmo">
				<placement x="577" y="932"/>
				<text>{@fm_chmod_btn=chmod}</text>
				<actions>
					<action function="set">tw_filemanager_rename=0000</action>
					<action function="set">tw_fm_text2=</action>
					<action function="set">tw_fm_text3=</action>
					<action function="set">tw_include_text3=0</action>
					<action function="set">tw_back=filemanageroptions</action>
					<action function="page">filemanagerchmod</action>
				</actions>
			</button>
			
			<button style="main_button_fmo">
				<placement x="577" y="1062"/>
				<text>{@fm_chmod644_btn=chmod 644}</text>
				<actions>
					<action function="set">tw_filemanager_command=chmod 644</action>
					<action function="set">tw_fm_text1={@fm_chmod644ing=chmod 644}</action>
					<action function="set">tw_fm_text2=</action>
					<action function="set">tw_fm_text3=</action>
					<action function="set">tw_include_text3=0</action>
					<action function="set">tw_back=filemanageroptions</action>
					<action function="page">filemanagerconfirm</action>
				</actions>
			</button>
			
			<button style="main_button_fmo">
				<placement x="577" y="1192"/>
				<text>{@fm_delete_btn=Delete}</text>
				<actions>
					<action function="set">tw_filemanager_command=rm -rf</action>
					<action function="set">tw_fm_text1={@fm_deleting=Deleting}</action>
					<action function="set">tw_fm_text2=</action>
					<action function="set">tw_fm_text3=</action>
					<action function="set">tw_include_text3=0</action>
					<action function="set">tw_back=filemanageroptions</action>
					<action function="page">filemanagerconfirm</action>
				</actions>
			</button>

			<button style="main_button_fmo">
				<condition var1="tw_fm_isfolder" var2="0"/>
				<placement x="577" y="1322"/>
				<text>{@fm_rename_file_btn=Rename File}</text>
				<actions>
					<action function="set">tw_filemanager_rename=tw_selection1</action>
					<action function="set">tw_fm_text1={@fm_renaming=Renaming}</action>
					<action function="set">tw_filemanager_command=mv</action>
					<action function="page">filemanagerrenamefile</action>
				</actions>
			</button>

			<button style="main_button_fmo">
				<condition var1="tw_fm_isfolder" var2="1"/>
				<placement x="577" y="1322"/>
				<text>{@fm_rename_folder_btn=Rename Folder}</text>
				<actions>
					<action function="set">tw_filemanager_rename=tw_selection1</action>
					<action function="set">tw_fm_text1={@fm_renaming=Renaming}</action>
					<action function="set">tw_filemanager_command=cd "%tw_file_location1%" &amp;&amp; cd .. &amp;&amp; mv</action>
					<action function="page">filemanagerrenamefolder</action>
				</actions>
			</button>
			
			<button style="main_button_fmo">
				<condition var1="tw_fm_isfolder" var2="0"/>
				<placement x="577" y="1452"/>
				<text>Unzip</text>
				<actions>
					<action function="set">tw_filemanager_command=unzip -o</action>
					<action function="set">tw_fm_text1=Unzip</action>
					<action function="set">tw_fm_text2=</action>
					<action function="set">tw_fm_text3=</action>
					<action function="set">tw_include_text3=1</action>
					<action function="set">tw_back=filemanageroptions</action>
					<action function="page">choosedestinationfolder</action>
				</actions>
			</button>
			
			<button>
				<placement x="864" y="1578"/>
				<image resource="fab_selectfolder"/>
				<action function="page">filemanagerlist</action>
			</button>
			
			<action>
				<touch key="power+voldown" />
				<action function="screenshot" />
			</action>

			<action>
				<touch key="home"/>
				<action function="page">main2</action>
			</action>

			<action>
				<touch key="back"/>
				<action function="page">filemanagerlist</action>
			</action>
		</page>

		<page name="choosedestinationfolder">
			<template name="page_n"/>
			
			<button style="status_logo">
				<placement x="270" y="40"/>
				<action function="screenshot"/>
			</button>
			
			<template name="fm1"/>

			<text style="text_m_fail">
				<placement x="%indent%" y="277"/>
				<text>%tw_file_location2%</text>
			</text>
			
			<template name="fm2"/>

			<button>
				<placement x="864" y="210"/>
				<image resource="fab_selectfolder"/>
				<action function="overlay">sort_menu</action>
			</button>

			<fileselector>
				<placement x="%indent%" y="370" w="%content_width%" h="1200"/>
				<filter folders="1" files="0"/>
				<path name="tw_file_location2" default="/"/>
				<data name="tw_filename2"/>
				<selection name="tw_selection2"/>
			</fileselector>

			<button style="fab">
				<image resource="fab_selectfolder"/>
				<actions>
					<action function="set">tw_fm_text2=to</action>
					<action function="set">tw_fm_text3=%tw_file_location2%</action>
					<action function="set">tw_include_text3=1</action>
					<action function="set">tw_back=filemanageroptions</action>
					<action function="page">filemanagerconfirm</action>
				</actions>
			</button>

			<action>
				<touch key="home"/>
				<action function="page">main2</action>
			</action>

			<action>
				<touch key="back"/>
				<action function="page">filemanageroptions</action>
			</action>
		</page>

		<page name="filemanagerrenamefile">
			<template name="page_n"/>

			<button style="status_logo">
				<placement x="270" y="40"/>
				<action function="screenshot"/>
			</button>

			<text style="text_m_fail">
				<placement x="%indent%" y="%row2_y%"/>
				<text>{@name=Name:}</text>
			</text>

			<input>
				<placement x="%indent%" y="%row2_input_y%" w="%content_width%" h="%input_height%"/>
				<background color="%input_background%"/>
				<text>%tw_filemanager_rename%</text>
				<data name="tw_filemanager_rename"/>
				<restrict minlen="1" maxlen="128"/>
				<actions>
					<action function="set">tw_fm_text2=to</action>
					<action function="set">tw_fm_text3="%tw_file_location1%/%tw_filemanager_rename%"</action>
					<action function="set">tw_include_text3=1</action>
					<action function="set">tw_back=filemanageroptions</action>
					<action function="page">filemanagerconfirm</action>
				</actions>
			</input>

			<fill color="#FF0000">
				<placement x="%indent%" y="row4_y" w="%content_width%" h="input_line_width" placement="1"/>
			</fill>

			<button style="main_button_half_height">
				<placement x="%indent%" y="%row10_y%"/>
				<text>{@cancel_btn=Cancel}</text>
				<action function="page">filemanageroptions</action>
			</button>

			<template name="keyboardtemplate"/>

			<action>
				<touch key="home"/>
				<action function="page">main2</action>
			</action>

			<action>
				<touch key="back"/>
				<action function="page">filemanageroptions</action>
			</action>
		</page>

		<page name="filemanagerrenamefolder">
			<template name="page_n"/>

			<button style="status_logo">
				<placement x="270" y="40"/>
				<action function="screenshot"/>
			</button>

			<text style="text_m_accent">
				<placement x="%indent%" y="%row2_y%"/>
				<text>{@name=Name:}</text>
			</text>

			<input>
				<placement x="%indent%" y="%row2_input_y%" w="%content_width%" h="%input_height%"/>
				<background color="%input_background%"/>
				<text>%tw_filemanager_rename%</text>
				<data name="tw_filemanager_rename"/>
				<restrict minlen="1" maxlen="128"/>
				<actions>
					<action function="set">tw_fm_text2=to</action>
					<action function="set">tw_fm_text3=%tw_filemanager_rename%</action>
					<action function="set">tw_include_text3=1</action>
					<action function="set">tw_back=filemanageroptions</action>
					<action function="page">filemanagerconfirm</action>
				</actions>
			</input>

			<fill color="#FF0000">
				<placement x="%indent%" y="row4_y" w="%content_width%" h="input_line_width" placement="1"/>
			</fill>

			<button style="main_button_half_height">
				<placement x="288" y="852"/>
				<text>{@cancel_btn=Cancel}</text>
				<action function="page">filemanageroptions</action>
			</button>

			<template name="keyboardtemplate"/>

			<action>
				<touch key="home"/>
				<action function="page">main2</action>
			</action>

			<action>
				<touch key="back"/>
				<action function="page">filemanageroptions</action>
			</action>
		</page>

		<page name="filemanagerchmod">
			<template name="page_n"/>

			<text style="text_m">
				<placement x="400" y="%row3_header_y%"/>
				<text>{@fm_set_perms_hdr=Set Permissions}</text>
			</text>

			<text style="text_m_accent">
				<placement x="%indent%" y="%row2_y%"/>
				<text>{@fm_perms=Permissions:}</text>
			</text>

			<input>
				<placement x="%indent%" y="%row2_input_y%" w="%content_width%" h="%input_height%"/>
				<background color="%input_background%"/>
				<text>%tw_filemanager_rename%</text>
				<data name="tw_filemanager_rename"/>
				<restrict minlen="3" maxlen="4" allow="0123456789"/>
				<actions>
					<action function="set">tw_filemanager_command=chmod %tw_filemanager_rename%</action>
					<action function="set">tw_fm_text1=chmod %tw_filemanager_rename%</action>
					<action function="set">tw_back=filemanageroptions</action>
					<action function="page">filemanagerconfirm</action>
				</actions>
			</input>

			<fill color="#FF0000">
				<placement x="%indent%" y="row4_y" w="%content_width%" h="input_line_width" placement="1"/>
			</fill>

			<button style="main_button_half_height">
				<placement x="288" y="852"/>
				<text>{@cancel_btn=Cancel}</text>
				<action function="page">filemanageroptions</action>
			</button>

			<template name="keyboardtemplate"/>

			<action>
				<touch key="home"/>
				<action function="page">main2</action>
			</action>

			<action>
				<touch key="back"/>
				<action function="page">filemanageroptions</action>
			</action>
		</page>

		<page name="filemanagerconfirm">
			<template name="page_n"/>

			<button style="status_logo">
				<placement x="270" y="40"/>
				<action function="screenshot"/>
			</button>

			<text style="text_m_accent">
				<placement x="%center_x%" y="%row2_y%" placement="5"/>
				<text>%tw_fm_text1%</text>
			</text>

			<text style="text_m">
				<placement x="%center_x%" y="%row3_y%" placement="5"/>
				<text>%tw_filename1%</text>
			</text>

			<text style="text_m_accent">
				<placement x="%center_x%" y="%row5_y%" placement="5"/>
				<text>%tw_fm_text2%</text>
			</text>

			<text style="text_m">
				<placement x="%center_x%" y="%row6_y%" placement="5"/>
				<text>%tw_fm_text3%</text>
			</text>

			<text style="text_m">
				<placement x="%center_x%" y="%row8_y%" placement="5"/>
				<text>{@back_cancel=Press back button to cancel.}</text>
			</text>

			<slider>
				<text>{@swipe_to_confirm=Swipe to Confirm}</text>
				<action function="page">filemanageraction</action>
			</slider>

			<action>
				<touch key="back"/>
				<action function="page">%tw_back%</action>
			</action>

			<action>
				<touch key="home"/>
				<action function="page">main2</action>
			</action>
		</page>

		<page name="filemanageraction">
			<template name="page_n"/>

			<text style="text_m">
				<placement x="400" y="%row3_header_y%"/>
				<text>%tw_fm_text1%</text>
			</text>

			<template name="console"/>

			<template name="progress_bar"/>

			<action>
				<conditions>
					<condition var1="tw_operation_state" var2="1"/>
					<condition var1="tw_operation_status" var2="0"/>
				</conditions>
				<actions>
					<action function="set">tw_back=filemanagerlist</action>
					<action function="set">tw_complete_text1={@fm_complete=File Operation Complete}</action>
					<action function="page">action_complete</action>
				</actions>
			</action>

			<action>
				<conditions>
					<condition var1="tw_operation_state" var2="1"/>
					<condition var1="tw_operation_status" op="!=" var2="0"/>
				</conditions>
				<actions>
					<action function="set">tw_complete_text1={@fm_complete=File Operation Complete}</action>
					<action function="page">action_complete</action>
				</actions>
			</action>

			<action>
				<condition var1="tw_include_text3" var2="0"/>
				<actions>
					<action function="cmd">%tw_filemanager_command% "%tw_filename1%"</action>
				</actions>
			</action>
			
			<action>
				<condition var1="tw_filemanager_command" op="=" var2="unzip -o"/>
				<condition var1="tw_include_text3" var2="1"/>
				<actions>
					<action function="cmd">%tw_filemanager_command% "%tw_filename1%" -d "%tw_fm_text3%"</action>
				</actions>
			</action>

			<action>
				<condition var1="tw_filemanager_command" op="!=" var2="unzip -o"/>
				<condition var1="tw_include_text3" var2="1"/>
				<actions>
					<action function="cmd">%tw_filemanager_command% "%tw_filename1%" "%tw_fm_text3%"</action>
				</actions>
			</action>
		</page>

		<page name="decrypt">
			<template name="page_n"/>

			<action>
				<condition var1="tw_crypto_pwtype" var2="2"/>
				<action function="page">decrypt_pattern</action>
			</action>

			<text style="text_l">
				<placement x="%col1_x_header%" y="%row3_header_y%"/>
				<text>{@mount_hdr=Mount}</text>
			</text>

			<text style="text_m">
				<placement x="%col1_x_header%" y="%row4_header_y%"/>
				<text>{@decrypt_data_hdr=Decrypt Data}</text>
			</text>

			<text style="text_m_accent">
				<placement x="%center_x%" y="%row2_y%" placement="5"/>
				<text>{@decrypt_data_enter_pass=Enter Password:}</text>
			</text>

			<input>
				<placement x="%indent%" y="%row3_input_y%" w="%content_width%" h="%input_height%"/>
				<text>%tw_crypto_display%</text>
				<data name="tw_crypto_password" mask="*" maskvariable="tw_crypto_display"/>
				<restrict minlen="1" maxlen="254"/>
				<action function="page">trydecrypt</action>
			</input>

			<fill color="%accent_color%">
				<placement x="%indent%" y="row4a_y" w="%content_width%" h="input_line_width" placement="1"/>
			</fill>

			<fill color="%text_fail_color%">
				<condition var1="tw_password_fail" var2="1"/>
				<placement x="%indent%" y="row4a_y" w="%content_width%" h="input_line_width" placement="1"/>
			</fill>

			<text style="text_m_fail">
				<condition var1="tw_password_fail" var2="1"/>
				<placement x="%indent%" y="%row5_y%"/>
				<text>{@decrypt_data_failed=Password failed, please try again!}</text>
			</text>

			<button style="main_button_half_height">
				<placement x="%indent%" y="%row10_y%"/>
				<text>{@cancel_btn=Cancel}</text>
				<actions>
					<action function="set">tw_page_done=1</action>
					<action function="page">main2</action>
				</actions>
			</button>

			<button style="main_button_half_height">
				<placement x="%center_x%" y="%row10_y%"/>
				<text>{@sel_lang_btn=Select Language}</text>
				<action function="overlay">select_language</action>
			</button>

			<template name="keyboardtemplate"/>
		</page>

		<page name="decrypt_pattern">
			<template name="page_n"/>

			<text style="text_l">
				<placement x="%col1_x_header%" y="%row3_header_y%"/>
				<text>{@mount_hdr=Mount}</text>
			</text>

			<text style="text_m">
				<placement x="%col1_x_header%" y="%row4_header_y%"/>
				<text>{@decrypt_data_hdr=Decrypt Data}</text>
			</text>

			<text style="text_m_accent">
				<placement x="%center_x%" y="%row2_y%" placement="5"/>
				<text>{@decrypt_data_enter_pattern=Enter Pattern.}</text>
			</text>

			<text style="text_m_fail">
				<condition var1="tw_password_fail" var2="1"/>
				<placement x="%center_x%" y="%row3_y%" placement="5"/>
				<text>{@decrypt_data_failed_pattern=Pattern failed, please try again!}</text>
			</text>

			<patternpassword>
				<placement x="%pattern_x%" y="%row5_y%" w="%pattern_size%" h="%pattern_size%"/>
				<dot color="%fileselector_linecolor%" activecolor="%accent_color%" radius="%pattern_dot_dia%"/>
				<line color="%fileselector_linecolor%" width="%pattern_line_w%"/>
				<data name="tw_crypto_password"/>
				<action function="page">trydecrypt</action>
			</patternpassword>

			<button style="button_quarter_width">
				<placement x="%indent%" y="%row19a_y%"/>
				<text>3x3</text>
				<action function="set">tw_gui_pattern_grid_size=3</action>
			</button>

			<button style="button_quarter_width">
				<placement x="%btn4_col2_x%" y="%row19a_y%"/>
				<text>4x4</text>
				<action function="set">tw_gui_pattern_grid_size=4</action>
			</button>

			<button style="button_quarter_width">
				<placement x="%btn4_col3_x%" y="%row19a_y%"/>
				<text>5x5</text>
				<action function="set">tw_gui_pattern_grid_size=5</action>
			</button>

			<button style="button_quarter_width">
				<placement x="%btn4_col4_x%" y="%row19a_y%"/>
				<text>6x6</text>
				<action function="set">tw_gui_pattern_grid_size=6</action>
			</button>

			<button style="main_button_half_height">
				<placement x="%indent%" y="%row21a_y%"/>
				<text>{@cancel_btn=Cancel}</text>
				<actions>
					<action function="set">tw_page_done=1</action>
					<action function="page">main2</action>
				</actions>
			</button>

			<button style="main_button_half_height">
				<placement x="%center_x%" y="%row21a_y%"/>
				<text>{@sel_lang_btn=Select Language}</text>
				<action function="overlay">select_language</action>
			</button>
		</page>

		<page name="trydecrypt">
			<template name="page_n"/>

			<text style="text_l">
				<placement x="%col1_x_header%" y="%row3_header_y%"/>
				<text>{@mount_hdr=Mount}</text>
			</text>

			<text style="text_m">
				<placement x="%col1_x_header%" y="%row4_header_y%"/>
				<text>{@decrypt_data_trying=Trying Decryption}</text>
			</text>

			<template name="console"/>

			<template name="progress_bar"/>

			<action>
				<action function="decrypt"/>
			</action>

			<action>
				<conditions>
					<condition var1="tw_operation_state" var2="1"/>
					<condition var1="tw_operation_status" op="!=" var2="0"/>
				</conditions>
				<actions>
					<action function="set">tw_password_fail=1</action>
					<action function="page">decrypt</action>
				</actions>
			</action>

			<action>
				<conditions>
					<condition var1="tw_operation_state" var2="1"/>
					<condition var1="tw_operation_status" op="=" var2="0"/>
				</conditions>
				<actions>
					<action function="set">tw_page_done=1</action>
					<action function="page">main2</action>
				</actions>
			</action>
		</page>

		<page name="terminalcommand">
			<template name="page_terminal"/>

			<fill color="%background_color%">
				<placement x="0" y="%row2_header_y%" w="%screen_width%" h="%slideout_bg_height%"/>
			</fill>

			<terminal>
				<condition var1="tw_hide_kb" var2="0"/>
				<placement x="0" y="%row3_header_y%" w="%screen_width%" h="%console_terminal_height%"/>
			</terminal>

			<terminal>
				<condition var1="tw_hide_kb" var2="1"/>
				<placement x="0" y="%row3_header_y%" w="%screen_width%" h="%slideout_height%"/>
			</terminal>

			<template name="keyboardterminaltemplate"/>

			<template name="keyboardtemplate"/>

			<fill color="%dialog_front%">
				<placement x="0" y="%navbar_y%" w="%screen_width%" h="%navbar_height%" />
			</fill>
			
			<button>
				<condition var1="tw_samsung_navbar" op="!=" var2="1" />
				<placement x="%back_button_x%" y="%navbar_btn_y%" placement="4" />
				<image resource="back" />
				<condition var1="tw_busy" var2="0" />
				<actions>
					<action function="set">tw_hide_kb=0</action>
					<action function="key">back</action>
				</actions>
			</button>

			<button>
				<condition var1="tw_samsung_navbar" op="=" var2="1" />
				<condition var1="tw_hide_kb" op="=" var2="0" />
				<placement x="%back_button_x%" y="%navbar_btn_y%" placement="4" />
				<image resource="kb_hide" />
				<condition var1="tw_busy" var2="0" />
				<actions>
					<action function="set">tw_hide_kb=1</action>
					<action function="page">terminalcommand</action>
				</actions>
			</button>

			<button>
				<condition var1="tw_samsung_navbar" op="=" var2="1" />
				<condition var1="tw_hide_kb" op="=" var2="1" />
				<placement x="%back_button_x%" y="%navbar_btn_y%" placement="4" />
				<image resource="kb_show" />
				<condition var1="tw_busy" var2="0" />
				<actions>
					<action function="set">tw_hide_kb=0</action>
					<action function="page">terminalcommand</action>
				</actions>
			</button>

			<button>
				<placement x="%center_x%" y="%navbar_btn_y%" placement="4" />
				<image resource="home" />
				<condition var1="tw_busy" var2="0" />
				<actions>
					<action function="set">tw_hide_kb=0</action>
					<action function="key">home</action>
				</actions>
			</button>

			<button>
				<condition var1="tw_samsung_navbar" op="!=" var2="1" />
				<condition var1="tw_hide_kb" op="=" var2="0" />
				<placement x="%console_button_x%" y="%navbar_btn_y%" placement="4" />
				<image resource="kb_hide" />
				<condition var1="tw_busy" var2="0" />
				<actions>
					<action function="set">tw_hide_kb=1</action>
					<action function="page">terminalcommand</action>
				</actions>
			</button>

			<button>
				<condition var1="tw_samsung_navbar" op="!=" var2="1" />
				<condition var1="tw_hide_kb" op="=" var2="1" />
				<placement x="%console_button_x%" y="%navbar_btn_y%" placement="4" />
				<image resource="kb_show" />
				<condition var1="tw_busy" var2="0" />
				<actions>
					<action function="set">tw_hide_kb=0</action>
					<action function="page">terminalcommand</action>
				</actions>
			</button>

			<button>
				<condition var1="tw_samsung_navbar" op="=" var2="1" />
				<placement x="%console_button_x%" y="%navbar_btn_y%" placement="4" />
				<image resource="back" />
				<condition var1="tw_busy" var2="0" />
				<actions>
					<action function="set">tw_hide_kb=0</action>
					<action function="key">back</action>
				</actions>
			</button>

			<action>
				<touch key="home"/>
				<actions>
					<action function="set">tw_hide_kb=0</action>
					<action function="page">main2</action>
				</actions>
			</action>

			<action>
				<touch key="back"/>
				<actions>
					<action function="set">tw_hide_kb=0</action>
					<action function="page">advanced</action>
				</actions>
			</action>

			<action>
				<touch key="power+voldown" />
				<action function="screenshot" />
			</action>
		</page>

		<page name="sideload">
			<template name="page_n"/>

			<button style="status_logo">
				<placement x="270" y="40"/>
				<action function="screenshot"/>
			</button>
			
			<text style="text_m2">
				<placement x="321" y="260"/>
				<text>{@adb_sideload_btn=ADB Sideload}</text>
			</text>
			
			<text style="text_m">
				<placement x="%indent%" y="446"/>
				<text>{@options=Options:</text>
			</text>

			<checkbox>
				<placement x="%indent%" y="540"/>
				<text>{@sideload_wipe_dalvik_chk=Wipe Dalvik Cache}</text>
				<data variable="tw_wipe_dalvik"/>
			</checkbox>

			<checkbox>
				<placement x="%indent%" y="620"/>
				<text>{@sideload_wipe_cache_chk=Wipe Cache}</text>
				<data variable="tw_wipe_cache"/>
			</checkbox>

			<slider>
				<text>{@swipe_to_sideload=Swipe to Start Sideload}</text>
				<actions>
					<action function="set">tw_back=advanced</action>
					<action function="set">tw_action=adbsideload</action>
					<action function="set">tw_action_text1={@sideload_confirm=ADB Sideload}</action>
					<action function="set">tw_action_text2={@sideload_usage=Usage: adb sideload filename.zip}</action>
					<action function="set">tw_complete_text1={@sideload_complete=ADB Sideload Complete}</action>
					<action function="set">tw_has_cancel=1</action>
					<action function="set">tw_show_reboot=1</action>
					<action function="set">tw_cancel_action=adbsideloadcancel</action>
					<action function="page">action_page</action>
				</actions>
			</slider>

			<action>
				<touch key="home"/>
				<action function="page">main2</action>
			</action>

			<action>
				<touch key="back"/>
				<action function="page">advanced</action>
			</action>
		</page>

		<page name="fixcontexts">
			<template name="page_n"/>

			<button style="status_logo">
				<placement x="270" y="40"/>
				<action function="screenshot"/>
			</button>
			
			<text style="text_m2">
				<placement x="340" y="260"/>
				<text>{@fix_contexts_hdr=Fix Contexts}</text>
			</text>

			<text style="text_m_accent">
				<placement x="%center_x%" y="970" placement="5"/>
				<text>{@fix_contexts_note1=Note: Fixing contexts is rarely needed.}</text>
			</text>

			<text style="text_m_fail">
				<placement x="%center_x%" y="1040" placement="5"/>
				<text>{@fix_contexts_note2=Fixing SELinux Contexts may cause}</text>
			</text>

			<text style="text_m_fail">
				<placement x="%center_x%" y="1100" placement="5"/>
				<text>{@fix_contexts_note3=your device to not boot properly.}</text>
			</text>

			<slider>
				<text>{@swipe_to_fix_contexts=Swipe to Fix Contexts}</text>
				<actions>
					<action function="set">tw_back=advanced</action>
					<action function="set">tw_action=fixcontexts</action>
					<action function="set">tw_action_text1={@fixing_contexts=Fixing Contexts...}</action>
					<action function="set">tw_complete_text1={@fix_contexts_complete=Fix Contexts Complete}</action>
					<action function="set">tw_slider_text={@swipe_to_confirm=Swipe to Confirm}</action>
					<action function="set">tw_show_reboot=1</action>
					<action function="page">action_page</action>
				</actions>
			</slider>

			<action>
				<touch key="home"/>
				<action function="page">main2</action>
			</action>

			<action>
				<touch key="back"/>
				<action function="page">advanced</action>
			</action>
		</page>

		<page name="installsu">
			<template name="page_n"/>

			<text style="text_l">
				<placement x="%col1_x_header%" y="%row3_header_y%"/>
				<text>{@reboot_hdr=Reboot}</text>
			</text>

			<text style="text_m">
				<placement x="%col1_x_header%" y="%row4_header_y%"/>
				<text>{@su_hdr=SuperSU Check}</text>
			</text>

			<text style="text_m_accent">
				<placement x="%center_x%" y="%row2_y%" placement="5"/>
				<text>{@su_note1=Your device does not appear to be rooted.}</text>
			</text>

			<text style="text_m">
				<placement x="%center_x%" y="%row4_y%" placement="5"/>
				<text>{@su_note2=Install SuperSU now?}</text>
			</text>

			<text style="text_m">
				<placement x="%center_x%" y="%row5_y%" placement="5"/>
				<text>{@su_note3=This will root your device.}</text>
			</text>

			<button style="main_button_half_height">
				<placement x="%indent%" y="%row18a_y%"/>
				<text>{@su_cancel=Do not Install}</text>
				<action function="set">tw_page_done=1</action>
			</button>

			<slider>
				<text>{@swipe_su_to_install=Swipe to Install}</text>
				<actions>
					<action function="set">tw_action=installsu</action>
					<action function="set">tw_action_text1={@su_installing=Installing SuperSU}</action>
					<action function="set">tw_action_text2=</action>
					<action function="page">singleaction_page</action>
				</actions>
			</slider>
		</page>

		<page name="slideout">
			<template name="page_n"/>
			
			<button style="status_logo">
				<placement x="270" y="40"/>
				<action function="screenshot"/>
			</button>
			
			<console>
				<placement x="%indent%" y="250" w="%content_width%" h="1500"/>
			</console>

			<button>
				<fill color="%transparent%"/>
				<placement x="0" y="%navbar_y%" w="%screen_width%" h="%navbar_height%"/>
				<action function="overlay"/>
			</button>
			
			<image>
				<placement x="%center_x%" y="%navbar_btn_y%" placement="4"/>
				<image resource="home"/>
				<condition var1="tw_busy" var2="0"/>
			</image>
			
			<action>
				<touch key="power"/>
				<action function="togglebacklight"/>
			</action>

			<action>
				<touch key="power+voldown"/>
				<action function="screenshot"/>
			</action>
		</page>

		<page name="select_storage">
			<background color="%lightransparent%"/>

			<fill color="%about_back%">
				<placement x="101" y="635" w="869" h="673"/>
			</fill>
			
			<fill color="%dialog_front%">
				<placement x="112" y="645" w="849" h="653"/>
			</fill>
			
			<fill color="%dialog_front%">
				<placement x="112" y="645" w="849" h="653"/>
			</fill>
			
			<text style="text_m">
				<placement x="192" y="706"/>
				<text>{@select_storage_btn=Select Storage}</text>
			</text>

			<partitionlist style="partitionlist_storage">
				<placement x="192" y="800" w="716" h="274"/>
				<data name="tw_storage_path"/>
				<listtype name="storage"/>
			</partitionlist>

			<button style="button_dialog_hl">
				<placement x="644" y="1129"/>
				<text>{@ok_btn=OK}</text>
				<actions>
					<action function="set">tw_clear_destination=%tw_back%</action>
					<action function="overlay"/>
					<action function="page">clear_vars</action>
				</actions>
			</button>
			
			<button style="button_dialog">
				<placement x="380" y="1129"/>
				<text>{@cancel_btn=CANCEL}</text>
				<actions>
					<action function="key">%tw_back%</action>
					<action function="overlay"/>
				</actions>
			</button>

			<action>
				<touch key="power+voldown"/>
				<action function="screenshot"/>
			</action>
		</page>

		<page name="select_language">
			<fill color="%light_transparent%">
				<placement x="0" y="0" w="%screen_width%" h="%screen_height%"/>
			</fill>

			<fill color="%background_color%">
				<placement x="%indent%" y="row5_y" w="%content_width%" h="%dialog_height%"/>
			</fill>

			<listbox>
				<placement x="%col1_x_left%" y="%row5_y%" w="%content_overlay_width%" h="%partitionlist_storage_height%"/>
				<text>{@select_language=Select Language:}</text>
				<icon selected="radio_true" unselected="radio_false" />
				<data name="tw_language" />
			</listbox>

			<button style="button_third_width">
				<placement x="%dialog_button_x%" y="%row14_y%"/>
				<text>{@ok_btn=OK}</text>
				<actions>
					<action function="overlay"/>
					<action function="setlanguage"></action>
				</actions>
			</button>

			<fill color="%dialog_front%">
				<placement x="0" y="row25_y" w="%screen_width%" h="%navbar_height"/>
			</fill>

			<button>
				<condition var1="tw_samsung_navbar" op="!=" var2="1"/>
				<placement x="%back_button_x%" y="%navbar_btn_y%" placement="4"/>
				<image resource="back"/>
				<condition var1="tw_busy" var2="0"/>
				<actions>
					<action function="overlay"/>
					<action function="key">%tw_back%</action>
				</actions>
			</button>

			<button>
				<condition var1="tw_samsung_navbar" op="=" var2="1"/>
				<placement x="%back_button_x%" y="%navbar_btn_y%" placement="4"/>
				<image resource="console"/>
				<condition var1="tw_busy" var2="0"/>
				<action function="overlay">slideout</action>
			</button>

			<button>
				<placement x="%center_x%" y="%navbar_btn_y%" placement="4"/>
				<image resource="home"/>
				<condition var1="tw_busy" var2="0"/>
				<actions>
					<action function="overlay"/>
					<action function="key">home</action>
				</actions>
			</button>

			<button>
				<condition var1="tw_samsung_navbar" op="!=" var2="1"/>
				<placement x="%console_button_x%" y="%navbar_btn_y%" placement="4"/>
				<image resource="console"/>
				<condition var1="tw_busy" var2="0"/>
				<action function="overlay">slideout</action>
			</button>

			<button>
				<condition var1="tw_samsung_navbar" op="=" var2="1"/>
				<placement x="%console_button_x%" y="%navbar_btn_y%" placement="4"/>
				<image resource="back"/>
				<condition var1="tw_busy" var2="0"/>
				<actions>
					<action function="overlay"/>
					<action function="key">%tw_back%</action>
				</actions>
			</button>

			<action>
				<touch key="power+voldown"/>
				<action function="screenshot"/>
			</action>
		</page>
		
		<page name="sort_menu">
			<background color="%lightransparent%"/>
			
			<button>
				<fill color="%transparent%"/>
				<placement x="0" y="0" w="%screen_width%" h="%screen_height%"/>
				<action function="overlay"/>
			</button>

			<button style="button_third_width">
				<condition var1="tw_gui_sort_order" op="=" var2="1"/>
				<text>{@sort_by_name_only=Name}</text>
				<placement x="768" y="400"/>
				<actions>
					<action function="set">tw_gui_sort_order=-1</action>
					<action function="overlay"/>
				</actions>
			</button>
			
			<button style="button_third_width">
				<condition var1="tw_gui_sort_order" op="=" var2="-1"/>
				<text>{@sort_by_name_only=Name}</text>
				<placement x="768" y="400"/>
				<actions>
					<action function="set">tw_gui_sort_order=1</action>
					<action function="overlay"/>
				</actions>
			</button>
			
			<button style="button_third_width">
				<conditions>
					<condition var1="tw_gui_sort_order" op="!=" var2="1"/>
					<condition var1="tw_gui_sort_order" op="!=" var2="-1"/>
				</conditions>
				<text>{@sort_by_name_only=Name}</text>
				<placement x="768" y="400"/>
				<actions>
					<action function="set">tw_gui_sort_order=1</action>
					<action function="overlay"/>
				</actions>
			</button>

			<button style="button_third_width">
				<condition var1="tw_gui_sort_order" op="=" var2="2"/>
				<text>{@sort_by_date_only=Date}</text>
				<placement x="768" y="528"/>
				<actions>
					<action function="set">tw_gui_sort_order=-2</action>
					<action function="overlay"/>
				</actions>
			</button>
			
			<button style="button_third_width">
				<condition var1="tw_gui_sort_order" op="=" var2="-2"/>
				<text>{@sort_by_date_only=Date}</text>
				<placement x="768" y="528"/>
				<actions>
					<action function="set">tw_gui_sort_order=2</action>
					<action function="overlay"/>
				</actions>
			</button>
			
			<button style="button_third_width">
				<conditions>
					<condition var1="tw_gui_sort_order" op="!=" var2="2"/>
					<condition var1="tw_gui_sort_order" op="!=" var2="-2"/>
				</conditions>
				<text>{@sort_by_date_only=Date}</text>
				<placement x="768" y="528"/>
				<actions>
					<action function="set">tw_gui_sort_order=2</action>
					<action function="overlay"/>
				</actions>
			</button>
			
			<button style="button_third_width">
				<condition var1="tw_gui_sort_order" op="=" var2="3"/>
				<text>{@sort_by_size_only=Size}</text>
				<placement x="768" y="656"/>
				<actions>
					<action function="set">tw_gui_sort_order=-3</action>
					<action function="overlay"/>
				</actions>
			</button>
			
			<button style="button_third_width">
				<condition var1="tw_gui_sort_order" op="=" var2="-3"/>
				<text>{@sort_by_size_only=Size}</text>
				<placement x="768" y="656"/>
				<actions>
					<action function="set">tw_gui_sort_order=3</action>
					<action function="overlay"/>
				</actions>
			</button>
			
			<button style="button_third_width">
				<conditions>
					<condition var1="tw_gui_sort_order" op="!=" var2="3"/>
					<condition var1="tw_gui_sort_order" op="!=" var2="-3"/>
				</conditions>
				<text>{@sort_by_size_only=Size}</text>
				<placement x="768" y="656"/>
				<actions>
					<action function="set">tw_gui_sort_order=3</action>
					<action function="overlay"/>
				</actions>
			</button>

			<action>
				<touch key="power+voldown" />
				<action function="screenshot" />
			</action>
		</page>
		
		<page name="tool_settings">
			<template name="page_n"/>
			
			<button style="status_logo">
				<placement x="270" y="40"/>
				<action function="screenshot"/>
			</button>
			
			<button style="main_button_n">
				<placement x="%indent_main_button%" y="260"/>
				<text>{@tools=Tools}</text>
				<action function="page">tools</action>
			</button>
			
			<button style="main_button_n">
				<placement x="%indent_main_button%" y="410"/>
				<text>Theme Settings</text>
				<action function="page">color_changer</action>
			</button>
			
			<button style="main_button_n">
				<placement x="%indent_main_button%" y="560"/>
				<text>{@about_theme=About Theme}</text>
				<action function="page">about</action>
			</button>
			
			<action>
				<touch key="back"/>
				<action function="page">main2</action>
			</action>

			<action>
				<touch key="home"/>
				<action function="page">main2</action>
			</action>
		</page>
		
		<page name="tools">
			<template name="page_n"/>
			
			<button style="status_logo">
				<placement x="270" y="40"/>
				<action function="screenshot"/>
			</button>
			
            <button style="tools_button">
                 <placement x="%indent_tools_button_left%" y="276"/>
                 <text>Magisk</text>
                 <actions>
                     <action function="set">tw_back=advanced</action>
                     <action function="set">tw_filename=/sdcard/TWRP/tools/magisk.zip</action>
                     <action function="set">tw_action=queuezip</action>
                     <action function="set">tw_has_action2=1</action>
                     <action function="set">tw_action2=flash</action>
                     <action function="set">tw_action2_param=flash_zip</action>
                     <action function="set">tw_text1={@Magisk_text=Magisk will be installed.}</action>
                     <action function="set">tw_text2={@Magisk_confirm=Try to install it?}</action>
                     <action function="set">tw_slider_text={@swipe_to_confirm=Swipe to Confirm}</action>
                     <action function="page">confirm_action</action>
                 </actions>
            </button>
			
			<button style="tools_button">
				<placement x="%indent_tools_button_left%" y="426"/>
				<text>{@Unroot_Magisk_btn=Unroot Magisk}</text>
				<actions>
					<action function="set">tw_back=advanced</action>
					<action function="set">tw_filename=/sdcard/TWRP/tools/unrootmagisk.zip</action>
					<action function="set">tw_action=queuezip</action>
					<action function="set">tw_has_action2=1</action>
					<action function="set">tw_action2=flash</action>
					<action function="set">tw_action2_param=flash_zip</action>
					<action function="set">tw_text1={@Unroot_Magisk_text=Unroot Magisk will be installed.}</action>
					<action function="set">tw_text2={@Unroot_Magisk_confirm=Try to install it?}</action>
					<action function="set">tw_slider_text={@swipe_to_confirm=Swipe to Confirm}</action>
					<action function="page">confirm_action</action>
				</actions>
			</button>
			
			<button style="tools_button">
				<placement x="%indent_tools_button_left%" y="576"/>
				<text>{@Lazy_Flasher_btn=Lazy Flasher}</text>
				<actions>
					<action function="set">tw_back=advanced</action>
					<action function="set">tw_filename=/sdcard/TWRP/tools/lazyflasher.zip</action>
					<action function="set">tw_action=queuezip</action>
					<action function="set">tw_has_action2=1</action>
					<action function="set">tw_action2=flash</action>
					<action function="set">tw_action2_param=flash_zip</action>
					<action function="set">tw_text1={@Lazy_Flasher_text=Lazy Flasher will be installed.}</action>
					<action function="set">tw_text2={@Lazy_Flasher_confirm=Try to Lazy Flasher Device?}</action>
					<action function="set">tw_slider_text={@swipe_to_confirm=Swipe to Confirm}</action>
					<action function="page">confirm_action</action>
				</actions>
			</button>
			
			<button style="tools_button">
				<placement x="%indent_tools_button_left%" y="726"/>
				<text>{@Reset_Password_btn=Reset Password}</text>
				<actions>
					<action function="set">tw_back=advanced</action>
					<action function="set">tw_filename=/sdcard/TWRP/tools/rmpass.zip</action>
					<action function="set">tw_action=queuezip</action>
					<action function="set">tw_has_action2=1</action>
					<action function="set">tw_action2=flash</action>
					<action function="set">tw_action2_param=flash_zip</action>
					<action function="set">tw_text1={@Reset_Password_text=Reset Password will be installed.}</action>
					<action function="set">tw_text2={@Reset_Password_confirm=Try to install it?}</action>
					<action function="set">tw_slider_text={@swipe_to_confirm=Swipe to Confirm}</action>
					<action function="page">confirm_action</action>
				</actions>
			</button>
			
			<button style="tools_button">
				<placement x="%indent_tools_button_left%" y="876"/>
				<text>Aroma</text>
				<actions>
					<action function="set">tw_back=advanced</action>
					<action function="set">tw_filename=/sdcard/TWRP/tools/aroma.zip</action>
					<action function="set">tw_action=queuezip</action>
					<action function="set">tw_has_action2=1</action>
					<action function="set">tw_action2=flash</action>
					<action function="set">tw_action2_param=flash_zip</action>
					<action function="set">tw_text1=Aroma will be installed.</action>
					<action function="set">tw_text2=Try to install it?</action>
					<action function="set">tw_slider_text={@swipe_to_confirm=Swipe to Confirm}</action>
					<action function="page">confirm_action</action>
				</actions>
			</button>
			
			<button style="tools_button">
				<placement x="%indent_tools_button_left%" y="1026"/>
				<text>{@Ramdisk_Cleaner_btn=Ramdisk Cleaner}</text>
				<actions>
					<action function="set">tw_back=advanced</action>
					<action function="set">tw_filename=/sdcard/TWRP/tools2/ramdiskcleaner.zip</action>
					<action function="set">tw_action=queuezip</action>
					<action function="set">tw_has_action2=1</action>
					<action function="set">tw_action2=flash</action>
					<action function="set">tw_action2_param=flash_zip</action>
					<action function="set">tw_text1={@Ramdisk_Cleaner_text=Ramdisk Cleaner will be installed.}</action>
					<action function="set">tw_text2={@Ramdisk_Cleaner_confirm=Try to install it?}</action>
					<action function="set">tw_slider_text={@swipe_to_confirm=Swipe to Confirm}</action>
					<action function="page">confirm_action</action>
				</actions>
			</button>
			
			<button style="tools_button">
				<placement x="%indent_tools_button_left%" y="1176"/>
				<text>{@Enable_HAL3_btn=Enabled HAL3}</text>
				<actions>
					<action function="set">tw_back=advanced</action>
					<action function="set">tw_filename=/sdcard/TWRP/tools2/enablehal3.zip</action>
					<action function="set">tw_action=queuezip</action>
					<action function="set">tw_has_action2=1</action>
					<action function="set">tw_action2=flash</action>
					<action function="set">tw_action2_param=flash_zip</action>
					<action function="set">tw_text1={@Enable_HAL3_text=Enable HAL3 will be installed.}</action>
					<action function="set">tw_text2={@Enable_HAL3_confirm=Try to install it?}</action>
					<action function="set">tw_slider_text={@swipe_to_confirm=Swipe to Confirm}</action>
					<action function="page">confirm_action</action>
				</actions>
			</button>
			
			<button style="tools_button">
				<placement x="%indent_tools_button_right%" y="276"/>
				<text>Disable HAL3</text>
				<actions>
					<action function="set">tw_back=advanced</action>
					<action function="set">tw_filename=/sdcard/TWRP/tools2/disablehal3.zip</action>
					<action function="set">tw_action=queuezip</action>
					<action function="set">tw_has_action2=1</action>
					<action function="set">tw_action2=flash</action>
					<action function="set">tw_action2_param=flash_zip</action>
					<action function="set">tw_text1=Disable HAL3 will be installed.</action>
					<action function="set">tw_text2={@Enable_HAL3_confirm=Try to install it?}</action>
					<action function="set">tw_slider_text={@swipe_to_confirm=Swipe to Confirm}</action>
					<action function="page">confirm_action</action>
				</actions>
			</button>
			
			<button style="tools_button">
				<placement x="%indent_tools_button_right%" y="426"/>
				<text>{@App_Delete_btn=App Delete}</text>
				<actions>
					<action function="set">tw_back=advanced</action>
					<action function="set">tw_filename=/sdcard/TWRP/tools2/appdel.zip</action>
					<action function="set">tw_action=queuezip</action>
					<action function="set">tw_has_action2=1</action>
					<action function="set">tw_action2=flash</action>
					<action function="set">tw_action2_param=flash_zip</action>
					<action function="set">tw_text1={@App_Delete_text=App Delete will be installed.}</action>
					<action function="set">tw_text2={@App_Delete_confirm=Try to install it?}</action>
					<action function="set">tw_slider_text={@swipe_to_confirm=Swipe to Confirm}</action>
					<action function="page">confirm_action</action>
				</actions>
			</button>
			
			<button style="tools_button">
				<placement x="%indent_tools_button_right%" y="576"/>
				<text>Enable Navbar</text>
				<actions>
					<action function="set">tw_back=advanced</action>
					<action function="set">tw_filename=/sdcard/TWRP/tools2/nb.zip</action>
					<action function="set">tw_action=queuezip</action>
					<action function="set">tw_has_action2=1</action>
					<action function="set">tw_action2=flash</action>
					<action function="set">tw_action2_param=flash_zip</action>
					<action function="set">tw_text1=Navbar will be installed.</action>
					<action function="set">tw_text2=Try to install it?</action>
					<action function="set">tw_slider_text={@swipe_to_confirm=Swipe to Confirm}</action>
					<action function="page">confirm_action</action>
				</actions>
			</button>

			<button style="tools_button">
				<placement x="%indent_tools_button_right%" y="726"/>
				<text>Disable Navbar</text>
				<actions>
					<action function="set">tw_back=advanced</action>
					<action function="set">tw_filename=/sdcard/TWRP/tools2/unnb.zip</action>
					<action function="set">tw_action=queuezip</action>
					<action function="set">tw_has_action2=1</action>
					<action function="set">tw_action2=flash</action>
					<action function="set">tw_action2_param=flash_zip</action>
					<action function="set">tw_text1=Navbar will be uninstalled.</action>
					<action function="set">tw_text2=Try to install it?</action>
					<action function="set">tw_slider_text={@swipe_to_confirm=Swipe to Confirm}</action>
					<action function="page">confirm_action</action>
				</actions>
			</button>
			
			<button style="tools_button">
				<placement x="%indent_tools_button_right%" y="876"/>
				<text>Subs Remover</text>
				<actions>
					<action function="set">tw_back=advanced</action>
					<action function="set">tw_filename=/sdcard/TWRP/tools2/subs.zip</action>
					<action function="set">tw_action=queuezip</action>
					<action function="set">tw_has_action2=1</action>
					<action function="set">tw_action2=flash</action>
					<action function="set">tw_action2_param=flash_zip</action>
					<action function="set">tw_text1=subs overlay remover will be uninstalled.</action>
					<action function="set">tw_text2=Try to install it?</action>
					<action function="set">tw_slider_text={@swipe_to_confirm=Swipe to Confirm}</action>
					<action function="page">confirm_action</action>
				</actions>
			</button>
			
			<action>
				<touch key="back"/>
				<action function="page">tool_settings</action>
			</action>

			<action>
				<touch key="home"/>
				<action function="page">main2</action>
			</action>
		</page>
		
		<page name="about">
			<template name="about"/>
			
			<button>
				<placement x="62" y="50"/>
				<image resource="gml_logo"/>
				<action function="screenshot"/>
			</button>
			
			<button style="tools_button">
				<placement x="%indent_tools_button_left%" y="645"/>
				<text>About DS</text>
				<action function="page">about</action>
			</button>
			
			<button style="tools_button">
				<placement x="%indent_tools_button_right%" y="645"/>
				<text>Credits</text>
				<action function="page">credits</action>
			</button>
			
			<button style="tools_button">
				<placement x="%indent_tools_button_left%" y="795"/>
				<text>Maintainers</text>
				<action function="page">maintainers</action>
			</button>
			
			<button style="tools_button">
				<placement x="%indent_tools_button_right%" y="795"/>
				<text>Changelog</text>
				<action function="page">changelog</action>
			</button>
			
			<fill color="#FFFFFF">
				<placement x="0" y="1014" w="1080" h="5"/>
			</fill>
			
			<image>
				<placement x="74" y="1084"/>
				<image resource="icon_theme"/>
			</image>
			
			<text color="%themeheader_color%">
				<font resource="font_m"/>
				<placement x="165" y="1100"/>
				<text>{@theme=Theme:}</text>
			</text>
			
			<text color="#EEEEEE">
				<font resource="font_m"/>
				<placement x="305" y="1100"/>
				<text>Dark Material TWRP</text>
			</text>
			
			<image>
				<placement x="74" y="1199"/>
				<image resource="icon_creator"/>
			</image>
			
			<text color="%themeheader_color%">
				<font resource="font_m"/>
				<placement x="165" y="1218"/>
				<text>Developed by:</text>
			</text>
			
			<text color="#EEEEEE">
				<font resource="font_m"/>
				<placement x="420" y="1218"/>
				<text>Sipun Ku Mahanta</text>
			</text>
			
			<image>
				<placement x="74" y="1314"/>
				<image resource="icon_tester"/>
			</image>
			
			<text color="%themeheader_color%">
				<font resource="font_m"/>
				<placement x="165" y="1335"/>
				<text>{@about1=Theme Designer:}</text>
			</text>
			
			<text color="#EEEEEE">
				<font resource="font_m"/>
				<placement x="467" y="1335"/>
				<text>Pasakalis George (G.M.L.)</text>
			</text>

			<image>
				<placement x="74" y="1429"/>
				<image resource="icon_about"/>
			</image>
			
			<text color="%themeheader_color%">
				<font resource="font_m"/>
				<placement x="165" y="1445"/>
				<text>{@about9=Version:}</text>
			</text>
			
			<text color="#EEEEEE">
				<font resource="font_m"/>
				<placement x="316" y="1445"/>
				<text>{@about10=TWRP: %tw_version%}</text>
			</text>

			<image>
				<placement x="74" y="1544"/>
				<image resource="icon_date"/>
			</image>
			
			<text color="%themeheader_color%">
				<font resource="font_m"/>
				<placement x="165" y="1565"/>
				<text>{@about11=Date Project:}</text>
			</text>
			
			<text color="#EEEEEE">
				<font resource="font_m"/>
				<placement x="410" y="1565"/>
				<text>27/09/18</text>
			</text>
			
			<action>
				<touch key="back"/>
				<action function="page">main2</action>
			</action>

			<action>
				<touch key="home"/>
				<action function="page">main2</action>
			</action>
		</page>
		
		<page name="maintainers">
			<template name="about"/>
			
			<button>
				<placement x="62" y="50"/>
				<image resource="gml_logo"/>
				<action function="screenshot"/>
			</button>
			
			<button style="tools_button">
				<placement x="%indent_tools_button_left%" y="645"/>
				<text>About DS</text>
				<action function="page">about</action>
			</button>
			
			<button style="tools_button">
				<placement x="%indent_tools_button_right%" y="645"/>
				<text>Credits</text>
				<action function="page">credits</action>
			</button>
			
			<button style="tools_button">
				<placement x="%indent_tools_button_left%" y="795"/>
				<text>Maintainers</text>
				<action function="page">maintainers</action>
			</button>
			
			<button style="tools_button">
				<placement x="%indent_tools_button_right%" y="795"/>
				<text>Changelog</text>
				<action function="page">changelog</action>
			</button>
			
			<fill color="#FFFFFF">
				<placement x="0" y="1014" w="1080" h="5"/>
			</fill>
			
			<image>
				<placement x="42" y="1100"/>
				<image resource="maint_logo1"/>
			</image>
			
			<text color="%themeheader_color%">
				<font resource="font_m"/>
				<placement x="188" y="1060"/>
				<text>Redmi 3S</text>
			</text>
			
			<text color="%themeheader_color%">
				<font resource="font_m"/>
				<placement x="188" y="1110"/>
				<text>land</text>
			</text>
			
			<text color="%themeheader_color%">
				<font resource="font_m"/>
				<placement x="188" y="1155"/>
				<text>Sipun Ku Mahanta</text>
			</text>
			
			<text color="%themeheader_color%">
				<font resource="font_m"/>
				<placement x="188" y="1200"/>
				<text>(Darkstar085)</text>
			</text>
			
			<action>
				<touch key="back"/>
				<action function="page">main2</action>
			</action>

			<action>
				<touch key="home"/>
				<action function="page">main2</action>
			</action>
		</page>
		
		<page name="credits">
			<template name="about"/>
			
			<button>
				<placement x="62" y="50"/>
				<image resource="gml_logo"/>
				<action function="screenshot"/>
			</button>
			
			<button style="tools_button">
				<placement x="%indent_tools_button_left%" y="645"/>
				<text>About DS</text>
				<action function="page">about</action>
			</button>
			
			<button style="tools_button">
				<placement x="%indent_tools_button_right%" y="645"/>
				<text>Credits</text>
				<action function="page">credits</action>
			</button>
			
			<button style="tools_button">
				<placement x="%indent_tools_button_left%" y="795"/>
				<text>Maintainers</text>
				<action function="page">maintainers</action>
			</button>
			
			<button style="tools_button">
				<placement x="%indent_tools_button_right%" y="795"/>
				<text>Changelog</text>
				<action function="page">changelog</action>
			</button>
			
			<fill color="#FFFFFF">
				<placement x="0" y="1014" w="1080" h="5"/>
			</fill>
			
			<listbox style="changelog">
				<placement x="25" y="1046" w="1031" h="691"/>
				<listitem name="twrp.me - For Official TWRP"/>
				<listitem name="PitchBlack Team - For Pitchblack TWRP"/>
				<listitem name="Chainfire - For SuperSU"/>
				<listitem name="Topjohnwu - For Magisk"/>
				<listitem name="Redwolf Team - For Redwolf TWRP"/>
				<listitem name="Jcadduono - For Lazyflasher"/>
				<listitem name="The Pirate Predator - App Deleter"/>
				<listitem name="Helmiau - Cam2API Enabler(HAL3)"/>
				<listitem name="Magua - Password Remover"/>
				<listitem name="You - For Using It"/>
			</listbox>
			
			<action>
				<touch key="back"/>
				<action function="page">main2</action>
			</action>

			<action>
				<touch key="home"/>
				<action function="page">main2</action>
			</action>
		</page>
		
		<page name="changelog">
			<template name="about"/>
			
			<button>
				<placement x="62" y="50"/>
				<image resource="gml_logo"/>
				<action function="screenshot"/>
			</button>
			
			<button style="tools_button">
				<placement x="%indent_tools_button_left%" y="645"/>
				<text>About DS</text>
				<action function="page">about</action>
			</button>
			
			<button style="tools_button">
				<placement x="%indent_tools_button_right%" y="645"/>
				<text>Credits</text>
				<action function="page">credits</action>
			</button>
			
			<button style="tools_button">
				<placement x="%indent_tools_button_left%" y="795"/>
				<text>Maintainers</text>
				<action function="page">maintainers</action>
			</button>
			
			<button style="tools_button">
				<placement x="%indent_tools_button_right%" y="795"/>
				<text>Changelog</text>
				<action function="page">changelog</action>
			</button>
			
			<fill color="#FFFFFF">
				<placement x="0" y="1014" w="1080" h="5"/>
			</fill>
			
			<listbox style="changelog">
				<placement x="25" y="1046" w="1031" h="691"/>
				<listitem name="Changelog 1"/>
				<listitem name="Changelog 2"/>
				<listitem name="Changelog 3"/>
				<listitem name="Changelog 4"/>
				<listitem name="Changelog 5"/>
			</listbox>
			
			<action>
				<touch key="back"/>
				<action function="page">main2</action>
			</action>

			<action>
				<touch key="home"/>
				<action function="page">main2</action>
			</action>
		</page>
		
		<page name="text_color">
			<template name="page_n"/>
			
			<button style="status_logo">
				<placement x="270" y="40"/>
				<action function="screenshot"/>
			</button>
			
			<text style="text_m2">
				<placement x="246" y="260"/>
				<text>{@text_color1=Theme Text Color}</text>
			</text>
			
			<text style="text_m_fail">
				<placement x="48" y="390"/>
				<text>{@text_color2=CHANGED IN ALL THEMES}</text>
			</text>
			
			<text style="text_m_fail">
				<placement x="48" y="460"/>
				<text>{@text_color3=Theme will reload it automatically}</text>
			</text>
			
			<text style="text_m_fail">
				<placement x="48" y="520"/>
				<text>{@text_color4=with your new selected theme text color.}</text>
			</text>
			
			<fill color="#FF0000">
				<placement x="48" y="700" w="308" h="180"/>
			</fill>
			
			<button style="navbutt_tr">
				<placement x="48" y="700"/>
				<actions>
					<action function="set">tw_main_buttons_color=FF0000</action>
					<action function="page">change_text_color</action>
				</actions>
			</button>
			
			<fill color="#000DFF">
				<placement x="386" y="700" w="308" h="180"/>
			</fill>
			
			<button style="navbutt_tr">
				<placement x="386" y="700"/>
				<actions>
					<action function="set">tw_main_buttons_color=000DFF</action>
					<action function="page">change_text_color</action>
				</actions>
			</button>
			
			<fill color="#FFFF00">
				<placement x="724" y="700" w="308" h="180"/>
			</fill>
			
			<button style="navbutt_tr">
				<placement x="724" y="700"/>
				<actions>
					<action function="set">tw_main_buttons_color=FFFF00</action>
					<action function="page">change_text_color</action>
				</actions>
			</button>
			
			<fill color="#F9740B">
				<placement x="48" y="910" w="308" h="180"/>
			</fill>
			
			<button style="navbutt_tr">
				<placement x="48" y="910"/>
				<actions>
					<action function="set">tw_main_buttons_color=F9740B</action>
					<action function="page">change_text_color</action>
				</actions>
			</button>
			
			<fill color="#09A9FF">
				<placement x="386" y="910" w="308" h="180"/>
			</fill>
			
			<button style="navbutt_tr">
				<placement x="386" y="910"/>
				<actions>
					<action function="set">tw_main_buttons_color=09A9FF</action>
					<action function="page">change_text_color</action>
				</actions>
			</button>
			
			<fill color="#5133B0">
				<placement x="724" y="910" w="308" h="180"/>
			</fill>
			
			<button style="navbutt_tr">
				<placement x="724" y="910"/>
				<actions>
					<action function="set">tw_main_buttons_color=5133B0</action>
					<action function="page">change_text_color</action>
				</actions>
			</button>
			
			<fill color="#00E9E9">
				<placement x="48" y="1120" w="308" h="180"/>
			</fill>
			
			<button style="navbutt_tr">
				<placement x="48" y="1120"/>
				<actions>
					<action function="set">tw_main_buttons_color=00E9E9</action>
					<action function="page">change_text_color</action>
				</actions>
			</button>
			
			<fill color="#0CE900">
				<placement x="386" y="1120" w="308" h="180"/>
			</fill>
			
			<button style="navbutt_tr">
				<placement x="386" y="1120"/>
				<actions>
					<action function="set">tw_main_buttons_color=0CE900</action>
					<action function="page">change_text_color</action>
				</actions>
			</button>
			
			<fill color="#FDFCFC">
				<placement x="724" y="1120" w="308" h="180"/>
			</fill>
			
			<button style="navbutt_tr">
				<placement x="724" y="1120"/>
				<actions>
					<action function="set">tw_main_buttons_color=FDFCFC</action>
					<action function="page">change_text_color</action>
				</actions>
			</button>
			
			<fill color="#0E4744">
				<placement x="48" y="1330" w="308" h="180"/>
			</fill>
			
			<button style="navbutt_tr">
				<placement x="48" y="1330"/>
				<actions>
					<action function="set">tw_main_buttons_color=0E4744</action>
					<action function="page">change_text_color</action>
				</actions>
			</button>
			
			<fill color="#646464">
				<placement x="386" y="1330" w="308" h="180"/>
			</fill>
			
			<button style="navbutt_tr">
				<placement x="386" y="1330"/>
				<actions>
					<action function="set">tw_main_buttons_color=646464</action>
					<action function="page">change_text_color</action>
				</actions>
			</button>
			
			<fill color="#3D0042">
				<placement x="724" y="1330" w="308" h="180"/>
			</fill>
			
			<button style="navbutt_tr">
				<placement x="724" y="1330"/>
				<actions>
					<action function="set">tw_main_buttons_color=3D0042</action>
					<action function="page">change_text_color</action>
				</actions>
			</button>
			
			<fill color="#005A9D">
				<placement x="48" y="1540" w="308" h="180"/>
			</fill>
			
			<button style="navbutt_tr">
				<placement x="48" y="1540"/>
				<actions>
					<action function="set">tw_main_buttons_color=005A9D</action>
					<action function="page">change_text_color</action>
				</actions>
			</button>
			
			<fill color="#FF5AD2">
				<placement x="386" y="1540" w="308" h="180"/>
			</fill>
			
			<button style="navbutt_tr">
				<placement x="386" y="1540"/>
				<actions>
					<action function="set">tw_main_buttons_color=FF5AD2</action>
					<action function="page">change_text_color</action>
				</actions>
			</button>
			
			<fill color="#532F0C">
				<placement x="724" y="1540" w="308" h="180"/>
			</fill>
			
			<button style="navbutt_tr">
				<placement x="724" y="1540"/>
				<actions>
					<action function="set">tw_main_buttons_color=532F0C</action>
					<action function="page">change_text_color</action>
				</actions>
			</button>
			
			<action>
				<touch key="power+voldown"/>
				<action function="screenshot"/>
			</action>
			
			<action>
				<touch key="back"/>
				<action function="page">tool_settings</action>
			</action>

			<action>
				<touch key="home"/>
				<action function="page">%tw_page%</action>
			</action>
		</page>
		
		<page name="change_text_color">
			<action>
				<action function="page">text_color</action>
			</action>

			<action>
				<actions>
					<action function="cmd">
					mkdir "/data/local/twrp";
					unzip -o "%tw_theme_path%/ui.zip" -d "/data/local/twrp";
					chmod 777 "/data/local/twrp/zip";
					mv "/data/local/twrp/ui.xml" "/data/local/twrp/ui_temp.xml";
					sed "s/%main_buttons_color%/#%tw_main_buttons_color%/g" "/data/local/twrp/ui_temp.xml" &gt; "/data/local/twrp/ui.xml";
					rm -f "/data/local/twrp/ui_temp.xml";
					cd "/data/local/twrp";
					./zip -0 -r "%tw_theme_path%/ui.zip" *;.
					chown -R media_rw:media_rw "%tw_theme_path%";
					cd /;
					rm -r "/data/local/twrp";
					</action>
					<action function="reload"/>
				</actions>
			</action>
		</page>
		
		<page name="rename_theme">
			<template name="page_n"/>

			<button style="status_logo">
				<placement x="270" y="40"/>
				<action function="screenshot"/>
			</button>
			
			<fill color="%about_back%">
				<placement x="0" y="295" w="1080" h="170"/>
			</fill>
			
			<fill color="%dialog_front%">
				<placement x="5" y="300" w="1070" h="160"/>
			</fill>
			
			<text style="text_m_accent">
				<placement x="%indent%" y="%row2_y%"/>
				<text>Custom Name:</text>
			</text>

			<input>
				<placement x="%indent%" y="%row2_input_y%" w="%content_width%" h="%input_height%"/>
				<text>%theme_name%</text>
				<data name="tw_theme_rename"/>
				<restrict minlen="1" maxlen="128"/>
				<actions>
					<action function="set">tw_new_name=%tw_theme_rename%</action>
					<action function="set">tw_include_new_name=1</action>
					<action function="set">tw_back=tool_settings</action>
					<action function="set">theme_name=%tw_theme_rename%</action>
					<action function="cmd">
					mkdir "/data/local/twrp";
					unzip -o "%tw_theme_path%/ui.zip" -d "/data/local/twrp";
					chmod 777 "/data/local/twrp/zip";
					mv "/data/local/twrp/ui.xml" "/data/local/twrp/ui_temp.xml";
					sed "s/%theme_version%/%tw_theme_rename%/g" "/data/local/twrp/ui_temp.xml" &gt; "/data/local/twrp/ui.xml";
					rm -f "/data/local/twrp/ui_temp.xml";
					cd "/data/local/twrp";
					./zip -0 -r "%tw_theme_path%/ui.zip" *;.
					chown -R media_rw:media_rw "%tw_theme_path%";
					cd /;
					rm -r "/data/local/twrp";
					</action>
					<action function="reload"/>
				</actions>
			</input>

			<fill color="%accent_color%">
				<placement x="%indent%" y="row4_y" w="%content_width%" h="input_line_width" placement="1"/>
			</fill>

			<button style="main_button_half_height">
				<placement x="288" y="852"/>
				<text>Cancel</text>
				<action function="page">tool_settings</action>
			</button>

			<template name="keyboardtemplate"/>

			<action>
				<touch key="home"/>
				<action function="page">%tw_page%</action>
			</action>

			<action>
				<touch key="back"/>
				<action function="page">tool_settings</action>
			</action>
		</page>
		
		<page name="color_changer">
			<template name="page_n"/>
			
			<button style="status_logo">
				<placement x="270" y="40"/>
				<action function="screenshot"/>
			</button>
			
			<image>
				<placement x="0" y="281"/>
				<image resource="ds_image"/>
			</image>
			
			<button style="mat_button">
				<placement x="35" y="281"/>
				<actions>
					<action function="set">tw_theme_name=White</action>
					<action function="set">tw_folder=ds_white</action>
					<action function="page">change_theme</action>
				</actions>
			</button>
			
			<button style="mat_button">
				<placement x="530" y="281"/>
				<actions>
					<action function="set">tw_theme_name=Black</action>
					<action function="set">tw_folder=ds_black</action>
					<action function="page">change_theme</action>
				</actions>
			</button>
			
			<button style="main_button_n">
				<placement x="%indent_main_button%" y="1228"/>
				<text>ThemeText Color</text>
				<action function="page">text_color</action>
			</button>
			
			<button style="main_button_n">
				<placement x="%indent_main_button%" y="1378"/>
				<text>Custom Header Name</text>
				<action function="page">rename_theme</action>
			</button>
			
		<action>
				<touch key="home"/>
				<action function="page">main2</action>
			</action>

			<action>
				<touch key="back"/>
				<action function="page">tool_settings</action>
			</action>
		</page>
		
		<page name="change_theme">
			<action>
				<condition var1="color_theme_change" var2="0"/>
				<action function="page">color_changer</action>
			</action>

			<action>
				<actions>
					<action function="cmd">
					mkdir "/data/local/twrp";
					unzip -o "%tw_theme_path%/ui.zip" -d "/data/local/twrp";
					chmod 777 "/data/local/twrp/zip";
					cp -r /data/local/twrp/themes/%tw_folder%/* "/data/local/twrp/";
					cd "/data/local/twrp";
					./zip -0 -r "%tw_theme_path%/ui.zip" *;
					chown -R media_rw:media_rw "%tw_theme_path%";
					cd /;
					rm -r "/data/local/twrp";
					</action>
					<action function="set">theme_name=%tw_theme_name%</action>
					<action function="reload"/>
				</actions>
			</action>
		</page>
	</pages>
</recovery>
